(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["orderList"],{"6bf6":function(t,e,c){},"9b6e":function(t,e,c){"use strict";c.r(e);c("b0c0");var i=c("7a23");Object(i["z"])("data-v-733304a4");var n={class:"app-shell app-shell-bottom-navigation"},r={class:"app-view-wrapper"},a={class:"page-order-list app-view app-view-with-header app-view-with-footer"},o={class:"tab"},s=["onClick"],b={class:"page-con"},u={class:"page-con-items"},l={key:0,class:"container"},d={class:"order-list"},O=["onClick"],j={class:"item-box-top"},p={class:"top-left"},f={class:"order-data"},h=Object(i["i"])("strong",null,"订单日期：",-1),m={class:"order-num"},y=Object(i["i"])("strong",null,"订单编号：",-1),v={class:"top-right"},g=["src"],w={class:"flex"},k={class:"item-box-bottom"},_=Object(i["i"])("span",null,"总金额：",-1),L={class:"item-box-btn"},C=Object(i["i"])("a",{href:"javascript:;",class:"btn btn-bordered btn-gray"},"取消订单",-1),H=Object(i["k"])("立即付款"),x={key:1,class:"container"},E={class:"empty"};function N(t,e,c,N,V,M){var $=Object(i["E"])("MiTitle"),z=Object(i["E"])("router-link"),R=Object(i["E"])("MiRecommend"),T=Object(i["E"])("page-footer");return Object(i["w"])(),Object(i["h"])("div",n,[Object(i["l"])($,{title:"商品订单"}),Object(i["i"])("div",r,[Object(i["i"])("div",a,[Object(i["i"])("ol",o,[(Object(i["w"])(!0),Object(i["h"])(i["a"],null,Object(i["C"])(V.types,(function(t){return Object(i["w"])(),Object(i["h"])("li",{key:t.type,class:Object(i["r"])({active:V.type==t.type}),onClick:function(e){return M.changeTab(t.type)}},[Object(i["i"])("a",null,Object(i["H"])(t.name),1)],10,s)})),128))]),Object(i["i"])("div",b,[(Object(i["w"])(!0),Object(i["h"])(i["a"],null,Object(i["C"])(V.types,(function(t){return Object(i["w"])(),Object(i["h"])("div",{key:t.type},[Object(i["l"])(i["b"],{name:V.transitionName},{default:Object(i["O"])((function(){return[Object(i["P"])(Object(i["i"])("div",u,[V.orderList&&V.orderList.length>0?(Object(i["w"])(),Object(i["h"])("div",l,[Object(i["i"])("div",d,[Object(i["i"])("ol",null,[(Object(i["w"])(!0),Object(i["h"])(i["a"],null,Object(i["C"])(V.orderList,(function(t){return Object(i["w"])(),Object(i["h"])("li",{key:t.order_id},[Object(i["i"])("div",{class:"order-item",onClick:function(e){return M.toView(t)}},[Object(i["i"])("div",j,[Object(i["i"])("div",p,[Object(i["i"])("p",f,[h,Object(i["i"])("span",null,Object(i["H"])(t.add_time),1)]),Object(i["i"])("p",m,[y,Object(i["i"])("span",null,Object(i["H"])(t.order_id),1)])]),Object(i["i"])("div",v,Object(i["H"])(t.order_status_info),1)]),(Object(i["w"])(!0),Object(i["h"])(i["a"],null,Object(i["C"])(t.product,(function(t){return Object(i["w"])(),Object(i["h"])("div",{key:t.goods_id,class:"item-box-center ui-flex align-center"},[Object(i["i"])("img",{src:t.image_url,class:"lazy",lazy:"loaded"},null,8,g),Object(i["i"])("span",w,Object(i["H"])(t.product_name),1)])})),128)),Object(i["i"])("div",k,[Object(i["i"])("span",null,"共"+Object(i["H"])(t.goods_numbers)+"件商品",1),_,Object(i["i"])("strong",null,Object(i["H"])(t.goods_amount)+"元",1)])],8,O),Object(i["i"])("div",L,[3==t.order_status?(Object(i["w"])(),Object(i["h"])(i["a"],{key:0},[C,Object(i["l"])(z,{to:{name:"orderView",params:{id:t.order_id}},class:"btn btn-bordered"},{default:Object(i["O"])((function(){return[H]})),_:2},1032,["to"])],64)):Object(i["g"])("",!0)])])})),128))])])])):Object(i["g"])("",!0),V.orderList&&0==V.orderList.length?(Object(i["w"])(),Object(i["h"])("div",x,[Object(i["i"])("div",E,"您还没有 "+Object(i["H"])(M.typeName)+" 订单",1),Object(i["l"])(R)])):Object(i["g"])("",!0)],512),[[i["M"],V.type==t.type]])]})),_:2},1032,["name"])])})),128))])])]),Object(i["l"])(T)])}Object(i["x"])();c("159b");var V=c("a46c"),M=c("4e6d"),$={components:{MiRecommend:M["a"]},data:function(){return{orderList:null,type:parseInt(this.$route.query.type)||1,types:[{type:1,name:"全部"},{type:7,name:"待付款"},{type:8,name:"待收货"}],transitionName:"page-left"}},computed:{typeName:function(){var t="";switch(this.type){case 1:t="";break;case 7:t="待付款";break;case 8:t="待收货";break}return t}},beforeRouteEnter:function(t,e,c){e.name?V["a"].list({type:t.query.type||1}).then((function(t){c((function(e){return e.setList(t)}))})):c((function(t){return t.getList()}))},methods:{getList:function(){var t=this;V["a"].list({type:this.type}).then((function(e){t.setList(e)}))},setList:function(t){var e=t.data.list;e.forEach((function(t){t.goods_numbers=t.product.reduce((function(t,e){return t+e.product_count}),0)})),this.orderList=e,this.$NProgress.done(),this.$store.commit("setViewLoading",!1)},changeTab:function(t){this.transitionName=t>this.type?"page-left":"page-right",this.type=t,this.getList()},toView:function(t){this.$router.push({name:"orderView",params:{id:t.order_id}})}}},z=(c("ae69"),c("d959")),R=c.n(z);const T=R()($,[["render",N],["__scopeId","data-v-733304a4"]]);e["default"]=T},a46c:function(t,e,c){"use strict";var i=c("d4ec"),n=c("bee2"),r=c("365c"),a=function(){return Object(r["a"])({url:"/order/checkout",method:"get"})},o=function(t){return Object(r["a"])({url:"/order/list",method:"post",data:t})},s=function(t){return Object(r["a"])({url:"/order/view",method:"post",data:t})},b=function(){function t(){Object(i["a"])(this,t)}return Object(n["a"])(t,null,[{key:"checkout",value:function(){return a("orderCheckout")}},{key:"list",value:function(t){return o("orderList",t)}},{key:"view",value:function(t){return s("orderView",t)}}]),t}();e["a"]=b},ae69:function(t,e,c){"use strict";c("6bf6")}}]);
//# sourceMappingURL=orderList.bf1e0534.js.map