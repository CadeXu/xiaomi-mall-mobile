(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["addressEdit"],{"45e1":function(e,t,i){"use strict";i("c789")},"498a":function(e,t,i){"use strict";var n=i("23e7"),s=i("58a8").trim,a=i("c8d2");n({target:"String",proto:!0,forced:a("trim")},{trim:function(){return s(this)}})},"4fa0":function(e,t,i){"use strict";i("ad9c")},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,i){var n=i("e330"),s=i("1d80"),a=i("577e"),o=i("5899"),c=n("".replace),d="["+o+"]",l=RegExp("^"+d+d+"*"),r=RegExp(d+d+"*$"),u=function(e){return function(t){var i=a(s(t));return 1&e&&(i=c(i,l,"")),2&e&&(i=c(i,r,"")),i}};e.exports={start:u(1),end:u(2),trim:u(3)}},"58b0":function(e,t,i){"use strict";var n=i("5530"),s=(i("d3b7"),i("7a23"));Object(s["z"])("data-v-60f7eb3f");var a={key:0,class:"xe-popup xe-dialog"},o=Object(s["i"])("div",{class:"xe-popup-mask"},null,-1),c={class:"xe-popup-box xe-popup-center"},d={class:"xe-popup-content"},l={class:"xe-dialog-box"},r={class:"xe-dialog-content"},u={class:"xe-dialog-title fz-m"},f={class:"xe-dialog-text fz-s"},p={class:"xe-dialog-action box-flex bd-top-1px"},b=Object(s["i"])("span",{class:"fz-m"},"取消",-1),v=[b],O=Object(s["i"])("span",{class:"fz-m"},"确认",-1),h=[O];function j(e,t,i,n,b,O){return Object(s["w"])(),Object(s["f"])(s["b"],{name:"bounce"},{default:Object(s["O"])((function(){return[i.value?(Object(s["w"])(),Object(s["h"])("div",a,[o,Object(s["i"])("div",c,[Object(s["i"])("div",d,[Object(s["i"])("div",l,[Object(s["i"])("div",r,[e.$slots.default?Object(s["g"])("",!0):(Object(s["w"])(),Object(s["h"])(s["a"],{key:0},[Object(s["i"])("div",u,Object(s["H"])(i.title),1),Object(s["i"])("div",f,Object(s["H"])(i.message),1)],64)),Object(s["D"])(e.$slots,"default",{},void 0,!0)]),Object(s["i"])("div",p,[Object(s["P"])(Object(s["i"])("div",{class:"xe-button xe-cancel-button bd-right-1px flex",onClick:t[0]||(t[0]=function(e){return i.onClose("cancel")})},v,512),[[s["M"],i.showCancelButton]]),Object(s["P"])(Object(s["i"])("div",{class:"xe-button xe-confirm-buttom flex",onClick:t[1]||(t[1]=function(e){return i.onClose("confirm")})},h,512),[[s["M"],i.showConfirmButton]])])])])])])):Object(s["g"])("",!0)]})),_:3})}Object(s["x"])();var m={props:{value:{type:Boolean,default:!1},title:{type:String,default:"提示"},message:{type:String},showCancelButton:{type:Boolean,default:!1},showConfirmButton:{type:Boolean,default:!0},onClose:{type:Function},callback:{type:Function}},methods:{}},g=(i("4fa0"),i("d959")),x=i.n(g);const w=x()(m,[["render",j],["__scopeId","data-v-60f7eb3f"]]);var y,_=w,I=function(e){return new Promise((function(t,i){var a=document.createElement("div");document.body.appendChild(a),y=Object(s["e"])(_,Object(n["a"])({onClose:function(e){console.log(e),"confirm"===e?t(e):i(e),y.unmount(a)}},e)),y.mount(a)}))};I.defaultOptions={value:!1,title:"",message:"",showConfirmButton:!0,showCancelButton:!1},I.confirm=function(e){return I(Object(n["a"])(Object(n["a"])({},I.defaultOptions),{},{showCancelButton:!0,value:!0},e))},I.alert=function(e){return I(Object(n["a"])(Object(n["a"])({},I.defaultOptions),{},{value:!0},e))};t["a"]=I},"99af":function(e,t,i){"use strict";var n=i("23e7"),s=i("da84"),a=i("d039"),o=i("e8b5"),c=i("861d"),d=i("7b0b"),l=i("07fa"),r=i("8418"),u=i("65f0"),f=i("1dde"),p=i("b622"),b=i("2d00"),v=p("isConcatSpreadable"),O=9007199254740991,h="Maximum allowed index exceeded",j=s.TypeError,m=b>=51||!a((function(){var e=[];return e[v]=!1,e.concat()[0]!==e})),g=f("concat"),x=function(e){if(!c(e))return!1;var t=e[v];return void 0!==t?!!t:o(e)},w=!m||!g;n({target:"Array",proto:!0,forced:w},{concat:function(e){var t,i,n,s,a,o=d(this),c=u(o,0),f=0;for(t=-1,n=arguments.length;t<n;t++)if(a=-1===t?o:arguments[t],x(a)){if(s=l(a),f+s>O)throw j(h);for(i=0;i<s;i++,f++)i in a&&r(c,f,a[i])}else{if(f>=O)throw j(h);r(c,f++,a)}return c.length=f,c}})},ad9c:function(e,t,i){},c789:function(e,t,i){},c8d2:function(e,t,i){var n=i("5e77").PROPER,s=i("d039"),a=i("5899"),o="​᠎";e.exports=function(e){return s((function(){return!!a[e]()||o[e]()!==o||n&&a[e].name!==e}))}},cfbb:function(e,t,i){"use strict";i.r(t);var n=i("7a23");Object(n["z"])("data-v-12ec4855");var s={class:"app-shell app-shell-bottom-navigation"},a={class:"app-view-wrapper"},o={class:"container app-view app-view-with-header"},c={class:"page-wrap"},d={class:"address-manager"},l={class:"address-manager-edit"},r={class:"ui-list"},u={class:"ui-list-item"},f=Object(n["i"])("div",{class:"label"},"收货人：",-1),p={class:"ui-input"},b={class:"ui-list-item"},v=Object(n["i"])("div",{class:"label"},"手机号码：",-1),O={class:"ui-input"},h=["placeholder"],j={class:"ui-list-item"},m=Object(n["i"])("div",{class:"label"},"所在地区：",-1),g=["value"],x={class:"ui-list-item"},w=Object(n["i"])("div",{class:"label"},"详细地址：",-1),y={class:"ui-input"},_={class:"ui-list-item"},I=Object(n["i"])("div",{class:"label"},"设置为默认地址",-1),C={class:"ui-cell"},R={class:"add"},$=Object(n["i"])("span",null,"保存地址",-1),k=[$];function P(e,t,i,$,P,A){var B=Object(n["E"])("MiTitle"),E=Object(n["E"])("MiAddressAll");return Object(n["w"])(),Object(n["h"])("div",s,[Object(n["i"])("div",a,[Object(n["l"])(B,{title:P.title,"show-search-icon":!1},null,8,["title"]),Object(n["i"])("div",o,[Object(n["i"])("div",c,[Object(n["i"])("div",d,[Object(n["i"])("div",l,[Object(n["i"])("ul",r,[Object(n["i"])("li",u,[f,Object(n["i"])("div",p,[Object(n["P"])(Object(n["i"])("input",{"onUpdate:modelValue":t[0]||(t[0]=function(e){return P.addressInfo.consignee=e}),placeholder:"真实姓名",name:"consignee",maxlength:"15",type:"text",autocomplete:"off"},null,512),[[n["L"],P.addressInfo.consignee,void 0,{trim:!0}]])])]),Object(n["i"])("li",b,[v,Object(n["i"])("div",O,[Object(n["P"])(Object(n["i"])("input",{"onUpdate:modelValue":t[1]||(t[1]=function(e){return P.addressInfo.tel=e}),placeholder:P.telplaceholder,name:"tel",maxlength:"11",id:"tel",type:"tel",autocomplete:"off"},null,8,h),[[n["L"],P.addressInfo.tel,void 0,{trim:!0,number:!0}]])])]),Object(n["i"])("li",j,[m,Object(n["i"])("div",{class:"ui-input",onClick:t[2]||(t[2]=function(e){return P.showRegions=!0})},[Object(n["i"])("input",{value:A.addressStr,placeholder:"省 市 区 街道信息",name:"pcd",maxlength:"20",type:"text",readonly:"readonly"},null,8,g)])]),Object(n["i"])("li",x,[w,Object(n["i"])("div",y,[Object(n["P"])(Object(n["i"])("input",{"onUpdate:modelValue":t[3]||(t[3]=function(e){return P.addressInfo.address=e}),placeholder:"详细地址",id:"address",name:"address",maxlength:"40",type:"text",autocomplete:"off"},null,512),[[n["L"],P.addressInfo.address,void 0,{trim:!0}]])])]),Object(n["i"])("li",_,[I,Object(n["i"])("label",C,[Object(n["P"])(Object(n["i"])("input",{name:"is_default",type:"checkbox","onUpdate:modelValue":t[4]||(t[4]=function(e){return P.addressInfo.is_default=e})},null,512),[[n["J"],P.addressInfo.is_default]])])])])])])]),Object(n["i"])("div",R,[Object(n["i"])("a",{class:"btn ui-button ui-button-active",onClick:t[5]||(t[5]=function(){return A.submit&&A.submit.apply(A,arguments)})},k)]),Object(n["l"])(E,{value:P.showRegions,"onUpdate:value":t[6]||(t[6]=function(e){return P.showRegions=e}),onRegion:A.changeRegion},null,8,["value","onRegion"])])])])}Object(n["x"])();i("498a"),i("99af"),i("b0c0");var A=i("a66f"),B=i("f093"),E=i("58b0"),D={components:{MiAddressAll:A["a"]},data:function(){return{title:"",showRegions:!1,addressInfo:{consignee:"",tel:"",province:"",province_id:"",city:"",city_id:"",district:"",district_id:"",area:"",area_id:"",address:"",is_default:!1},telplaceholder:"手机号"}},computed:{addressStr:function(){var e=this.addressInfo;return"".concat(e.province," ").concat(e.city," ").concat(e.district," ").concat(e.area).trim()}},beforeRouteEnter:function(e,t,i){var n=e.query.address_id;n?t.name?B["a"].detail(n).then((function(e){200===e.status&&i((function(t){return t.setAddress(e)}))})):i((function(e){return e.getAddress()})):i()},created:function(){this.$route.query.address_id?this.title="编辑地址":(this.title="新建地址",this.$store.commit("setViewLoading",!1),this.$NProgress.done())},methods:{getAddress:function(){var e=this;B["a"].detail(this.$route.query.address_id).then((function(t){200===t.status&&e.setAddress(t)}))},setAddress:function(e){this.$store.commit("setViewLoading",!1),this.$NProgress.done();var t=e.data;t.is_default=1===t.is_default,this.addressInfo=t,this.telplaceholder=t.tel,this.addressInfo.tel=""},changeRegion:function(e){this.addressInfo=Object.assign({},this.addressInfo,e)},popupDialog:function(e){E["a"].alert({message:e})},submit:function(){var e=this,t=this.addressInfo;if(t.consignee){var i=/^((1[3-9][0-9])+\d{8})$/;if(this.$route.query.address_id){if(t.tel&&!i.test(t.tel))return void this.popupDialog("请输入11位手机号码")}else if(!t.tel||!i.test(t.tel))return void this.popupDialog("请输入11位手机号码");if(this.addressStr)if(t.address){var n=t.address.length;if(n<5||n>120)this.popupDialog("抱歉，详细地址不能少于5个字，不能多于120个字");else{this.addressInfo.is_default=this.addressInfo.is_default?1:2;var s=this.$route.query.address_id?"save":"add";B["a"][s](this.addressInfo).then((function(t){200===t.status&&e.$router.go(-1)}))}}else this.popupDialog("请输入详细地址");else this.popupDialog("请选择所在地区")}else this.popupDialog("请输入收货人姓名")}}},S=(i("45e1"),i("d959")),z=i.n(S);const M=z()(D,[["render",P],["__scopeId","data-v-12ec4855"]]);t["default"]=M}}]);
//# sourceMappingURL=addressEdit.f9c615c8.js.map