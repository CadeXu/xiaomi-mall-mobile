(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["orderCheckout"],{"136b":function(e,t,a){"use strict";a.r(t);var c=a("7a23");Object(c["z"])("data-v-13e4adbc");var s={class:"app-shell app-shell-bottom-navigation"},i={class:"app-view-wrapper"},n={class:"checkout app-view app-view-with-header"},d={class:"page-wrap"},o={class:"b1 more"},b={class:"b11"},l={class:"b13"},r=Object(c["i"])("div",{class:"b14"},"添加收货地址",-1),u=Object(c["i"])("div",{class:"ui-line"},null,-1),v={class:"b2"},j={class:""},O=["onClick"],p={class:"flex"},f=Object(c["i"])("div",{class:"payment-fold-switch ui-flex align-center justify-center"},[Object(c["i"])("span",null,"收起其他支付方式 "),Object(c["i"])("i",{class:"iconfont icon-back unfold"})],-1),h=Object(c["j"])('<div class="ui-line" data-v-13e4adbc></div><div class="b3" data-v-13e4adbc><dl data-v-13e4adbc><dt class="ui-flex align-center justify-space-between" data-v-13e4adbc><strong data-v-13e4adbc>包邮</strong><div class="ui-flex align-center" data-v-13e4adbc><span data-v-13e4adbc>不限送货时间</span><span style="display:none;" data-v-13e4adbc>工作日送货</span><span style="display:none;" data-v-13e4adbc>双休日、假日送货</span><i class="iconfont icon-back" data-v-13e4adbc></i></div></dt><div class="gap-line" style="margin:0px 0.4rem;" data-v-13e4adbc></div></dl></div><div class="b3" data-v-13e4adbc><dl data-v-13e4adbc><dt class="ui-flex align-center justify-space-between" data-v-13e4adbc><strong data-v-13e4adbc>电子发票</strong><div class="ui-flex align-center" data-v-13e4adbc><span data-v-13e4adbc>个人</span><i class="iconfont icon-back" data-v-13e4adbc></i></div></dt><div class="gap-line" style="margin:0px 0.4rem;" data-v-13e4adbc></div></dl></div><div class="b3" data-v-13e4adbc><dl data-v-13e4adbc><dt class="ui-flex align-center justify-space-between" data-v-13e4adbc><strong data-v-13e4adbc>优惠券</strong><div class="ui-flex align-center" data-v-13e4adbc><span data-v-13e4adbc>已优惠<em data-v-13e4adbc>0元</em></span><i class="iconfont icon-back" data-v-13e4adbc></i></div></dt></dl></div><div class="ui-line" data-v-13e4adbc></div>',5),m={class:"b8"},g={class:"b81"},y=["src"],x={class:"b82"},w={class:"name"},k={class:"b83"},H={class:"item-price"},C={key:0},_=Object(c["j"])('<div class="ui-line" data-v-13e4adbc></div><div class="b5" data-v-13e4adbc><div class="b51" data-v-13e4adbc><p data-v-13e4adbc><strong data-v-13e4adbc>商品价格：</strong><span data-v-13e4adbc>1997.00</span></p></div><div class="b52" data-v-13e4adbc><p data-v-13e4adbc><strong data-v-13e4adbc>已优惠：</strong><span data-v-13e4adbc>0.00</span></p></div><div class="b53" data-v-13e4adbc><p data-v-13e4adbc><strong data-v-13e4adbc>配送费用：</strong><span data-v-13e4adbc>0.00</span></p></div></div><div class="ui-line" data-v-13e4adbc></div>',3),B=Object(c["i"])("div",{class:"ui-mask",style:{display:"none"}},null,-1),P={class:"b7"},z={class:"info-tips"},M={class:"ui-flex"},D={class:"b71 ui-box-flex"},E={class:"b72 ui-box-flex"},L=Object(c["i"])("span",null,"去付款",-1),$=[L];function I(e,t,a,L,I,q){var F=Object(c["E"])("MiTitle"),J=Object(c["E"])("router-link");return Object(c["w"])(),Object(c["h"])("div",s,[Object(c["l"])(F,{title:"用户结算","show-search-icon":!1}),Object(c["i"])("div",i,[Object(c["i"])("div",n,[Object(c["i"])("div",d,[Object(c["i"])("div",o,[I.address.address_id?(Object(c["w"])(),Object(c["f"])(J,{key:0,to:{name:"addressList",query:{type:"checkout"}}},{default:Object(c["O"])((function(){return[Object(c["i"])("div",b,[Object(c["i"])("p",null,[Object(c["i"])("span",null,Object(c["H"])(I.address.consignee),1),Object(c["i"])("span",null,Object(c["H"])(I.address.tel),1)])]),Object(c["i"])("div",l,[Object(c["i"])("p",null,Object(c["H"])(I.address.province)+" "+Object(c["H"])(I.address.city)+" "+Object(c["H"])(I.address.district)+" "+Object(c["H"])(I.address.area)+" "+Object(c["H"])(I.address.address)+" ("+Object(c["H"])(I.address.zipcode)+")",1)])]})),_:1})):(Object(c["w"])(),Object(c["f"])(J,{key:1,to:{name:"addressEdit",query:{type:"checkout"}}},{default:Object(c["O"])((function(){return[r]})),_:1}))]),u,Object(c["i"])("div",v,[Object(c["i"])("ul",j,[(Object(c["w"])(!0),Object(c["h"])(c["a"],null,Object(c["C"])(I.paymethod,(function(e,t){return Object(c["w"])(),Object(c["h"])("li",{key:e.type},[Object(c["i"])("div",{class:Object(c["r"])(["item ui-flex align-center",{on:e.checked}]),onClick:function(e){return q.chosePay(t)}},[Object(c["i"])("a",{href:"javascript:;",class:Object(c["r"])(e.type)},Object(c["H"])(e.value),3),Object(c["i"])("div",p,Object(c["H"])(e.subtitle),1)],10,O)])})),128))]),f]),h,Object(c["i"])("div",m,[(Object(c["w"])(!0),Object(c["h"])(c["a"],null,Object(c["C"])(I.cartList,(function(e){return Object(c["w"])(),Object(c["h"])("div",{class:"b8w",key:e.goodsId},[Object(c["i"])("div",g,[Object(c["i"])("img",{src:e.image_url},null,8,y)]),Object(c["i"])("div",x,[Object(c["i"])("div",w,[Object(c["i"])("p",null,[Object(c["i"])("span",null,Object(c["H"])(e.short_name),1)])])]),Object(c["i"])("div",k,[Object(c["i"])("div",H,[e.num>1?(Object(c["w"])(),Object(c["h"])("span",C,"x "+Object(c["H"])(e.num)+" = ",1)):Object(c["g"])("",!0),Object(c["i"])("strong",null,Object(c["H"])(e.subtotal),1)])])])})),128))]),_])]),B,Object(c["i"])("div",P,[Object(c["i"])("div",z,[Object(c["i"])("p",null,"配送至："+Object(c["H"])(I.address.province)+" "+Object(c["H"])(I.address.city)+" "+Object(c["H"])(I.address.district)+" "+Object(c["H"])(I.address.area)+" "+Object(c["H"])(I.address.address),1)]),Object(c["i"])("div",M,[Object(c["i"])("div",D,[Object(c["i"])("span",null,"共"+Object(c["H"])(I.total)+"件 合计: ",1),Object(c["i"])("strong",null,Object(c["H"])(I.productMoney),1)]),Object(c["i"])("div",E,[Object(c["i"])("a",{class:"ui-button",onClick:t[0]||(t[0]=function(){return q.toPay&&q.toPay.apply(q,arguments)})},$)])])])])])}Object(c["x"])();a("b0c0"),a("159b");var q=a("a46c"),F=a("58b0"),J={data:function(){return{cartList:[],address:{},paymethod:[],productMoney:0,total:0}},beforeRouteEnter:function(e,t,a){t.name?q["a"].checkout().then((function(e){a((function(t){return t.setData(e)}))})):a((function(e){return e.getData()}))},methods:{getData:function(){var e=this;q["a"].checkout().then((function(t){e.setData(t)}))},setData:function(e){this.$store.commit("setViewLoading",!1),this.$NProgress.done();var t=e.data;this.cartList=t.cartlist.items,this.address=t.address,this.paymethod=t.paymethod,this.productMoney=t.productMoney,this.total=t.total},chosePay:function(e){this.paymethod.forEach((function(t,a){t.checked=a===e}))},toPay:function(){this.address.address_id||F["a"].alert({title:"温馨提示",message:"请添加收货地址"})}}},S=(a("b94d"),a("d959")),V=a.n(S);const N=V()(J,[["render",I],["__scopeId","data-v-13e4adbc"]]);t["default"]=N},"4fa0":function(e,t,a){"use strict";a("ad9c")},"58b0":function(e,t,a){"use strict";var c=a("5530"),s=(a("d3b7"),a("7a23"));Object(s["z"])("data-v-60f7eb3f");var i={key:0,class:"xe-popup xe-dialog"},n=Object(s["i"])("div",{class:"xe-popup-mask"},null,-1),d={class:"xe-popup-box xe-popup-center"},o={class:"xe-popup-content"},b={class:"xe-dialog-box"},l={class:"xe-dialog-content"},r={class:"xe-dialog-title fz-m"},u={class:"xe-dialog-text fz-s"},v={class:"xe-dialog-action box-flex bd-top-1px"},j=Object(s["i"])("span",{class:"fz-m"},"取消",-1),O=[j],p=Object(s["i"])("span",{class:"fz-m"},"确认",-1),f=[p];function h(e,t,a,c,j,p){return Object(s["w"])(),Object(s["f"])(s["b"],{name:"bounce"},{default:Object(s["O"])((function(){return[a.value?(Object(s["w"])(),Object(s["h"])("div",i,[n,Object(s["i"])("div",d,[Object(s["i"])("div",o,[Object(s["i"])("div",b,[Object(s["i"])("div",l,[e.$slots.default?Object(s["g"])("",!0):(Object(s["w"])(),Object(s["h"])(s["a"],{key:0},[Object(s["i"])("div",r,Object(s["H"])(a.title),1),Object(s["i"])("div",u,Object(s["H"])(a.message),1)],64)),Object(s["D"])(e.$slots,"default",{},void 0,!0)]),Object(s["i"])("div",v,[Object(s["P"])(Object(s["i"])("div",{class:"xe-button xe-cancel-button bd-right-1px flex",onClick:t[0]||(t[0]=function(e){return a.onClose("cancel")})},O,512),[[s["M"],a.showCancelButton]]),Object(s["P"])(Object(s["i"])("div",{class:"xe-button xe-confirm-buttom flex",onClick:t[1]||(t[1]=function(e){return a.onClose("confirm")})},f,512),[[s["M"],a.showConfirmButton]])])])])])])):Object(s["g"])("",!0)]})),_:3})}Object(s["x"])();var m={props:{value:{type:Boolean,default:!1},title:{type:String,default:"提示"},message:{type:String},showCancelButton:{type:Boolean,default:!1},showConfirmButton:{type:Boolean,default:!0},onClose:{type:Function},callback:{type:Function}},methods:{}},g=(a("4fa0"),a("d959")),y=a.n(g);const x=y()(m,[["render",h],["__scopeId","data-v-60f7eb3f"]]);var w,k=x,H=function(e){return new Promise((function(t,a){var i=document.createElement("div");document.body.appendChild(i),w=Object(s["e"])(k,Object(c["a"])({onClose:function(e){console.log(e),"confirm"===e?t(e):a(e),w.unmount(i)}},e)),w.mount(i)}))};H.defaultOptions={value:!1,title:"",message:"",showConfirmButton:!0,showCancelButton:!1},H.confirm=function(e){return H(Object(c["a"])(Object(c["a"])({},H.defaultOptions),{},{showCancelButton:!0,value:!0},e))},H.alert=function(e){return H(Object(c["a"])(Object(c["a"])({},H.defaultOptions),{},{value:!0},e))};t["a"]=H},"80f0":function(e,t,a){},a46c:function(e,t,a){"use strict";var c=a("d4ec"),s=a("bee2"),i=a("365c"),n=function(){return Object(i["a"])({url:"/order/checkout",method:"get"})},d=function(e){return Object(i["a"])({url:"/order/list",method:"post",data:e})},o=function(e){return Object(i["a"])({url:"/order/view",method:"post",data:e})},b=function(){function e(){Object(c["a"])(this,e)}return Object(s["a"])(e,null,[{key:"checkout",value:function(){return n("orderCheckout")}},{key:"list",value:function(e){return d("orderList",e)}},{key:"view",value:function(e){return o("orderView",e)}}]),e}();t["a"]=b},ad9c:function(e,t,a){},b94d:function(e,t,a){"use strict";a("80f0")}}]);
//# sourceMappingURL=orderCheckout.f798201b.js.map