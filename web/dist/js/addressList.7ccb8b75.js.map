{"version":3,"sources":["webpack:///./src/views/MiAddress/MiAddressList.vue?ecb7","webpack:///./src/components/dialog/MiDialog.vue?346a","webpack:///./src/components/dialog/MiDialog.vue","webpack:///./src/components/dialog/MiDialog.vue?493e","webpack:///./src/components/dialog/index.js","webpack:///./src/views/MiAddress/MiAddressList.vue","webpack:///./src/views/MiAddress/MiAddressList.vue?eb45","webpack:///./node_modules/core-js/modules/es.array.splice.js"],"names":["class","name","value","$slots","default","title","message","onClose","showCancelButton","showConfirmButton","props","type","Boolean","String","Function","callback","methods","__exports__","render","instance","Dialog","options","Promise","resolve","reject","el","document","createElement","body","appendChild","createApp","MiDialog","action","console","log","unmount","mount","defaultOptions","confirm","alert","show-search-icon","lists","list","index","key","address_id","remove","consignee","tel","is_default","to","tag","province","city","district","area","address","components","MiTitle","data","showDialog","removeCash","beforeRouteEnter","from","next","then","res","status","vm","setLists","getLists","this","$store","commit","$NProgress","done","splice","catch","err","$","global","toAbsoluteIndex","toIntegerOrInfinity","lengthOfArrayLike","toObject","arraySpeciesCreate","createProperty","arrayMethodHasSpeciesSupport","HAS_SPECIES_SUPPORT","TypeError","max","Math","min","MAX_SAFE_INTEGER","MAXIMUM_ALLOWED_LENGTH_EXCEEDED","target","proto","forced","start","deleteCount","insertCount","actualDeleteCount","A","k","O","len","actualStart","argumentsLength","arguments","length"],"mappings":"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","file":"js/addressList.7ccb8b75.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./MiAddressList.vue?vue&type=style&index=0&id=3216c4fa&lang=scss&scoped=true\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./MiDialog.vue?vue&type=style&index=0&id=60f7eb3f&lang=scss&scoped=true\"","<template>\n  <transition name=\"bounce\">\n    <div v-if=\"value\" class=\"xe-popup xe-dialog\">\n      <div class=\"xe-popup-mask\"></div>\n\n      <div class=\"xe-popup-box xe-popup-center\">\n        <div class=\"xe-popup-content\">\n          <div class=\"xe-dialog-box\">\n            <div class=\"xe-dialog-content\">\n              <template v-if=\"!$slots.default\">\n                <div class=\"xe-dialog-title fz-m\">{{title}}</div>\n                <div class=\"xe-dialog-text fz-s\">{{message}}</div>\n              </template>\n              <slot></slot>\n            </div>\n\n            <div class=\"xe-dialog-action box-flex bd-top-1px\">\n              <div\n                v-show=\"showCancelButton\"\n                class=\"xe-button xe-cancel-button bd-right-1px flex\"\n                @click=\"onClose('cancel')\">\n                <span class=\"fz-m\">取消</span>\n              </div>\n\n              <div\n                v-show=\"showConfirmButton\"\n                class=\"xe-button xe-confirm-buttom flex\"\n                @click=\"onClose('confirm')\">\n                <span class=\"fz-m\">确认</span>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </transition>\n</template>\n\n<script>\n// import bus from '@/util/bus.js'\n\nexport default {\n  props: {\n    value: {\n      type: Boolean,\n      default: false\n    },\n    title: {\n      type: String,\n      default: '提示'\n    },\n    message: {\n      type: String\n    },\n    showCancelButton: {\n      type: Boolean,\n      default: false\n    },\n    showConfirmButton: {\n      type: Boolean,\n      default: true\n    },\n    onClose: {\n      type: Function\n    },\n    callback: {\n      type: Function\n    }\n  },\n  methods: {\n    // onClose(action) {\n    //   // this.$emit('update:value', false)\n    //   console.log('------------onclose')\n    //   console.log(action)\n    //   bus.emit('value', false)\n    //   this.$emit(action)\n    //   this.callback && this.callback(action)\n    // }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.xe-dialog {\n  text-align: center;\n\n  .xe-dialog-action .xe-button {\n    width: 100%;\n    height: 52px;\n    line-height: 52px;\n    color: #676767;\n  }\n\n  .xe-dialog-action .xe-confirm-buttom {\n    color: #ff6700;\n  }\n}\n.xe-popup {\n  position: fixed;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  z-index: 1000;\n\n  .xe-popup-mask {\n    background-color: rgba(0,0,0,.3);\n    z-index: 999;\n  }\n\n  .xe-popup-box,.xe-popup-mask {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n  }\n\n  .xe-popup-box {\n    transform: translate(100%,100%);\n    z-index: 1000;\n  }\n\n  .xe-popup-center .xe-popup-content {\n    position: absolute;\n    top: -50%;\n    left: -50%;\n    width: auto;\n    transform: translate(-50%,-50%);\n  }\n\n  .xe-popup-content {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    box-sizing: border-box;\n    transform: translate(-100%,-100%);\n  }\n\n  .xe-dialog-box {\n    width: 338px;\n    background: #fff;\n    border-radius: 4px;\n    overflow: hidden;\n\n    .xe-dialog-content {\n      padding: 0 16px;\n\n      .xe-dialog-title {\n        text-align: center;\n        margin-top: 24px;\n        font-size: 18px;\n        line-height: 18px;\n      }\n\n      .xe-dialog-text {\n        margin: 24px;\n        line-height: 20px;\n        color: #676767;\n      }\n    }\n  }\n}\n\n.bd-bottom-1px,\n.bd-left-1px,\n.bd-right-1px,\n.bd-top-1px {\n  position: relative;\n}\n.bd-top-1px:before {\n  border-top: 1px solid #d9d9d9;\n  left: 0;\n  top: 0;\n  width: 100%;\n  transform-origin: 0 top;\n}\n.bd-right-1px:after {\n  border-right: 1px solid #d9d9d9;\n  top: 0;\n  right: 0;\n  height: 100%;\n  transform-origin: right 0;\n}\n.bd-bottom-1px:after,\n.bd-bottom-1px:before,\n.bd-left-1px:after,\n.bd-left-1px:before,\n.bd-right-1px:after,\n.bd-right-1px:before,\n.bd-top-1px:after,\n.bd-top-1px:before {\n  content: \"\";\n  display: block;\n  position: absolute;\n  transform-origin: 0 0;\n}\n\n.bounce-enter-active {\n  animation: bounce-in .3s;\n}\n.bounce-leave-active {\n  animation: bounce-in .3s reverse;\n}\n\n@keyframes bounce-in {\n  0% {\n    transform: scale(0);\n    opacity: 0;\n  }\n  50% {\n    transform: scale(1.2);\n    opacity: 0.5;\n  }\n  100% {\n    transform: scale(1);\n    opacity: 1;\n  }\n}\n</style>\n","import { render } from \"./MiDialog.vue?vue&type=template&id=60f7eb3f&scoped=true\"\nimport script from \"./MiDialog.vue?vue&type=script&lang=js\"\nexport * from \"./MiDialog.vue?vue&type=script&lang=js\"\n\nimport \"./MiDialog.vue?vue&type=style&index=0&id=60f7eb3f&lang=scss&scoped=true\"\n\nimport exportComponent from \"/Users/apple/xiaomi-mall-mobile/web/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-60f7eb3f\"]])\n\nexport default __exports__","/**\n * =====================================\n * Function component\n * =====================================\n * 1 create instance\n * 2 mount\n * 3 deal v-model\n * 4 transform parameter\n * 5 listen events (promise + callback)\n */\n\n/**\n * Vue 2 中，函数式组件主要有两个应用场景：\n *  作为性能优化，因为它们的初始化速度比有状态组件快得多\n *  返回多个根节点\n *\n * 然而，在 Vue 3 中，有状态组件的性能已经提高到它们之间的区别可以忽略不计的程度\n * 此外，有状态组件现在也支持返回多个根节点。\n * 因此，函数式组件剩下的唯一应用场景就是简单组件，\n * 比如创建动态标题的组件。否则，建议你像平常一样使用有状态组件\n */\n\n// ---------------------- vue2.x\n// import Vue from 'vue'\n// import MiDialog from './MiDialog.vue'\n\n// let instance\n\n// const initInstance = () => {\n//   // Vue.extend() -> 构造器创建组件 (参数为一个组件) -> 创建一个基于 MiDialog 的子类\n//   instance = new (Vue.extend(MiDialog))({\n//     el: document.createElement('div')\n//   })\n\n//   // mount\n//   document.body.appendChild(instance.$el)\n\n//   // listen\n//   // v-model\n//   /**\n//    * 我们从实例中完全移除了 $on、$off 和 $once 方法\n//    * '$emit' 仍然包含于现有的 API 中，因为它用于触发由父组件声明式添加的事件处理函数\n//    *\n//    * 在 Vue 3 中，借助这些 API 从一个组件内部监听其自身触发的事件已经不再可能了。该用例没有办法迁移\n//    */\n//   instance.$on('input', value => {\n//     instance.value = value\n//   })\n// }\n\n// const Dialog = options => {\n//   // return Promise object\n//   // transform resolve and reject to dialog instance\n//   return new Promise((resolve, reject) => {\n//     if(!instance) {\n//       // instance dose not exist\n//       initInstance()\n//     }\n\n//     // instance 是一个基于 MiDialog 的子类\n//     Object.assign(instance, {\n//       resolve,\n//       reject,\n//       ...options\n//     })\n//   })\n// }\n\n// Dialog.defaultOptions = {\n//   // default parameter\n//   value: false,\n//   title: '',\n//   message: '',\n//   showConfirmButton: true,\n//   showCancelButton: false,\n//   callback: action => {\n//     instance[action === 'confirm' ? 'resolve' : 'reject'](action)\n//   }\n// }\n\n// Dialog.alert = options => Dialog({\n//   ...Dialog.defaultOptions,\n//   value: true,\n//   ...options\n// })\n\n// Dialog.confirm = options => Dialog({\n//   ...Dialog.defaultOptions,\n//   showCancelButton: true,\n//   value: true,\n//   ...options\n// })\n\n// -------------------- vue 3.x\nimport { createApp } from 'vue'\nimport MiDialog from './MiDialog.vue'\n\n// let Dialog = {}\n// let instance\n\n// Dialog.confirm = options => {\n//   console.log(options)\n//   let el = document.createElement('div')\n//   document.body.appendChild(el)\n//   instance = createApp(MiDialog, {\n//     ...options\n//   })\n//   instance.mount(el)\n// }\n\n// Define\nlet instance\n\nconst Dialog = options => {\n  // return Promise object\n  // transform resolve and reject to dialog instance\n  return new Promise((resolve, reject) => {\n    let el = document.createElement('div')\n    document.body.appendChild(el)\n    instance = createApp(MiDialog, {\n      onClose: (action) => {\n        console.log(action)\n        action === 'confirm' ? resolve(action) : reject(action)\n        instance.unmount(el)\n      },\n      ...options\n    })\n\n    instance.mount(el)\n  })\n}\n\nDialog.defaultOptions = {\n  // default parameter\n  value: false,\n  title: '',\n  message: '',\n  showConfirmButton: true,\n  showCancelButton: false\n}\n\nDialog.confirm = options => Dialog({\n  ...Dialog.defaultOptions,\n  showCancelButton: true,\n  value: true,\n  ...options\n})\n\nDialog.alert = options => Dialog({\n  ...Dialog.defaultOptions,\n  value: true,\n  ...options\n})\n\n// Usage\n// ***.vue\n// Dialog.confirm({\n//   message: '确定删除当前地址?'\n// }).then((action) => {\n//   console.log('+++++++++++')\n//   console.log(action)\n//   addressDelete({\n//     address_id: list.address_id\n//   }).then(res => {\n//     if(res.status === 200) {\n//       this.lists.splice(index, 1)\n//     }\n//   })\n// }).catch(err => {\n//   console.log(err)\n// })\n\nexport default Dialog\n\n/**\n * ================================================\n * component use as plugin  -> plugin component\n * ================================================\n * */\n// // ---------- vue 2.x\n// // Define\n// // xxx.js\n// import Vue from 'vue'\n// import MiDialog from './MiDialog.vue'\n\n// const Dialog = {}\n\n// Dialog.install = () => {\n//   Vue.component('MiDialog', MiDialog)\n// }\n\n// export default Dialog\n\n// // Usage\n// // xxx.vue\n// import Vue from 'vue'\n// import MiDialog from '@/components/dialog'\n// Vue.use(MiDialog)\n\n// <mi-dialog />\n\n// ------------ vue 3.x\n// Define\n// xxx.js\n// import MiDialog from './MiDialog.vue'\n// export default {\n//   install: (app, options) => {\n//     app.component('MiDialog', MiDialog)\n//   }\n// }\n\n// // main.js\n// import MiDialog from '@/components/dialog'\n// app.use(MiDialog /** , options use as second parameter */)\n\n// // Useage\n// // xxx.vue\n// <MiDialog />\n","<template>\n  <div class=\"app-shell app-shell-bottom-navigation\">\n    <div class=\"app-view-wrapper\">\n\n      <MiTitle title=\"收货地址\" :show-search-icon=\"false\"/>\n\n      <div class=\"container app-view app-view-with-header\">\n        <div class=\"page-wrap\">\n          <div class=\"address-manager\">\n            <div class=\"address-manager-list\">\n              <div\n                v-for=\"(list,index) in lists\"\n                :key=\"list.address_id\"\n                class=\"ui-card\"\n              >\n                <ul class=\"ui-card-item ui-list\">\n                  <li class=\"ui-list-item identity\">\n                    <a @click=\"remove(list, index)\">删除</a>\n                    <span class=\"consignee\">{{list.consignee}}</span>\n                    <span>{{list.tel}}</span>\n                    <em v-if=\"list.is_default\"> [默认]</em>\n                  </li>\n\n                  <router-link\n                    :to=\"{name: 'addressEdit', query: {address_id: list.address_id}}\"\n                    tag=\"li\"\n                    class=\"ui-list-item edit\">\n                    <p>{{list.province}} {{list.city}} {{list.district}} {{list.area}}</p>\n                    <p>{{list.address}}</p>\n                  </router-link>\n                </ul>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div class=\"add\">\n          <router-link\n            :to=\"{name: 'addressEdit'}\"\n            class=\"btn ui-button ui-button-active\"\n          >\n            <span>新建地址</span>\n          </router-link>\n        </div>\n      </div>\n    </div>\n\n    <!-- Normally use custom component -->\n    <!-- <MiDialog\n      v-model:value=\"showDialog\"\n      message=\"确定删除当前地址?\"\n      show-cancel-button\n      @confirm=\"confirmRemove\">\n    </MiDialog> -->\n  </div>\n</template>\n\n<script>\n// import { addressList, addressDelete } from '@/api/address.js'\nimport MiTitle from '@/components/MiTitle.vue'\nimport Dialog from '@/components/dialog'\nimport Address from '@/api/addressService'\n\nexport default {\n  components: {\n    MiTitle\n    // MiDialog\n  },\n  data() {\n    return {\n      lists: [],\n      showDialog: false,\n      removeCash: {}\n    }\n  },\n  beforeRouteEnter(to, from, next) {\n    if(from.name) {\n      // addressList().then(res => {\n      Address.list().then(res => {\n        if(res.status === 200) {\n          next(vm => vm.setLists(res))\n        }\n      })\n    } else {\n      next(vm => vm.getLists())\n    }\n  },\n  methods: {\n    getLists() {\n      Address.list().then(res => {\n        if(res.status === 200) {\n          this.setLists(res)\n        }\n      })\n    },\n    setLists(res) {\n      this.$store.commit('setViewLoading', false)\n      this.$NProgress.done()\n      this.lists = res.data\n    },\n    remove(list, index) {\n      // this.removeCash = {\n      //   id: list.address_id,\n      //   index\n      // }\n      // this.showDialog = true\n\n      // invoke function component\n      Dialog.confirm({\n        message: '确定删除当前地址?'\n      }).then((action) => {\n        console.log('dialog')\n        console.log(action)\n        Address.remove(list.address_id).then(res => {\n          if(res.status === 200) {\n            this.lists.splice(index, 1)\n          }\n        })\n      }).catch(err => {\n        console.log(err)\n      })\n    }\n    // confirmRemove() {\n    //   let { id, index } = this.removeCash\n    //   addressDelete({\n    //     address_id: id\n    //   }).then(res => {\n    //     if(res.status === 200) {\n    //       this.lists.splice(index, 1)\n    //     }\n    //   })\n    // }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.address-manager {\n  position: relative;\n  padding-bottom: 50px;\n\n  .ui-card {\n    border: 1px solid #f6f6f6;\n    overflow: hidden;\n    margin: 10px;\n    border-radius: 3px;\n    background: #fff;\n    text-align: left;\n\n    .ui-list {\n      padding-top: 0;\n      padding-bottom: 0;\n      position: relative;\n\n      .ui-list-item {\n        border-bottom: 1px solid #f6f6f6;\n        display: block;\n        font-size: 14px;\n        overflow: hidden;\n        background: #fff;\n        padding: 10px 15px;\n\n        &:last-child {\n          border: 0;\n        }\n      }\n\n      .edit {\n        position: relative;\n        padding-right: 25px;\n        font-size: 12px;\n\n        &:after {\n          content: \" \";\n          position: absolute;\n          width: 7px;\n          height: 7px;\n          right: 7px;\n          top: 50%;\n          margin-top: 4px;\n          border-right: 1px solid #999;\n          border-bottom: 1px solid #999;\n          transform: rotate(-45deg);\n        }\n      }\n    }\n\n    .ui-card-item {\n      padding: 10px;\n\n      p {\n        line-height: 18px;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n      }\n    }\n  }\n\n  .identity {\n    a {\n      float: right;\n      color: #999;\n    }\n\n    em {\n    color: #f60;\n    font-size: 10px;\n    font-style: normal;\n    margin-left: 3px;\n  }\n  }\n\n  .consignee {\n    margin-right: 30px;\n    color: #f60;\n  }\n}\n\n.add {\n  position: fixed;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  background: #fff;\n  z-index: 1;\n\n  span {\n    font-size: 15px;\n    color: #fff;\n  }\n}\n</style>\n","import { render } from \"./MiAddressList.vue?vue&type=template&id=3216c4fa&scoped=true\"\nimport script from \"./MiAddressList.vue?vue&type=script&lang=js\"\nexport * from \"./MiAddressList.vue?vue&type=script&lang=js\"\n\nimport \"./MiAddressList.vue?vue&type=style&index=0&id=3216c4fa&lang=scss&scoped=true\"\n\nimport exportComponent from \"/Users/apple/xiaomi-mall-mobile/web/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-3216c4fa\"]])\n\nexport default __exports__","'use strict';\nvar $ = require('../internals/export');\nvar global = require('../internals/global');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\nvar toObject = require('../internals/to-object');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar createProperty = require('../internals/create-property');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('splice');\n\nvar TypeError = global.TypeError;\nvar max = Math.max;\nvar min = Math.min;\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_LENGTH_EXCEEDED = 'Maximum allowed length exceeded';\n\n// `Array.prototype.splice` method\n// https://tc39.es/ecma262/#sec-array.prototype.splice\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  splice: function splice(start, deleteCount /* , ...items */) {\n    var O = toObject(this);\n    var len = lengthOfArrayLike(O);\n    var actualStart = toAbsoluteIndex(start, len);\n    var argumentsLength = arguments.length;\n    var insertCount, actualDeleteCount, A, k, from, to;\n    if (argumentsLength === 0) {\n      insertCount = actualDeleteCount = 0;\n    } else if (argumentsLength === 1) {\n      insertCount = 0;\n      actualDeleteCount = len - actualStart;\n    } else {\n      insertCount = argumentsLength - 2;\n      actualDeleteCount = min(max(toIntegerOrInfinity(deleteCount), 0), len - actualStart);\n    }\n    if (len + insertCount - actualDeleteCount > MAX_SAFE_INTEGER) {\n      throw TypeError(MAXIMUM_ALLOWED_LENGTH_EXCEEDED);\n    }\n    A = arraySpeciesCreate(O, actualDeleteCount);\n    for (k = 0; k < actualDeleteCount; k++) {\n      from = actualStart + k;\n      if (from in O) createProperty(A, k, O[from]);\n    }\n    A.length = actualDeleteCount;\n    if (insertCount < actualDeleteCount) {\n      for (k = actualStart; k < len - actualDeleteCount; k++) {\n        from = k + actualDeleteCount;\n        to = k + insertCount;\n        if (from in O) O[to] = O[from];\n        else delete O[to];\n      }\n      for (k = len; k > len - actualDeleteCount + insertCount; k--) delete O[k - 1];\n    } else if (insertCount > actualDeleteCount) {\n      for (k = len - actualDeleteCount; k > actualStart; k--) {\n        from = k + actualDeleteCount - 1;\n        to = k + insertCount - 1;\n        if (from in O) O[to] = O[from];\n        else delete O[to];\n      }\n    }\n    for (k = 0; k < insertCount; k++) {\n      O[k + actualStart] = arguments[k + 2];\n    }\n    O.length = len - actualDeleteCount + insertCount;\n    return A;\n  }\n});\n"],"sourceRoot":""}