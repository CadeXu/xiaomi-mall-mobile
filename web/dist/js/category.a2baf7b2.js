(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["category"],{"0868":function(t,e,c){},1759:function(t,e,c){},"7a98":function(t,e,c){"use strict";c("0868")},c405:function(t,e,c){"use strict";c.d(e,"a",(function(){return n})),c.d(e,"b",(function(){return o})),c.d(e,"e",(function(){return i})),c.d(e,"c",(function(){return a})),c.d(e,"d",(function(){return s}));var r=c("365c"),n=function(){return Object(r["a"])({url:"/category",method:"get"})},o=function(t){return Object(r["a"])({url:"commodity",method:"post",data:t})},i=function(){return Object(r["a"])({url:"recommendBlank",method:"get"})},a=function(t){return Object(r["a"])({url:"productView",method:"post",data:t})},s=function(t){return Object(r["a"])({url:"recommend",method:"post",data:t})}},d903:function(t,e,c){"use strict";c("1759")},e08a:function(t,e,c){"use strict";c.r(e);var r=c("7a23");Object(r["z"])("data-v-e302afa4");var n={class:"app-shell"},o={class:"app-view-wrapper"},i={class:"container app-view app-view-with-header app-view-with-footer"},a={class:"list-navbar"},s=["onClick"],l={class:"component-list-main"},u={class:"cells_auto_fill",index:"0"},d={class:"exposure items"},b=["src"],f={class:"category_title"};function O(t,e,c,O,j,p){var h=Object(r["E"])("mi-title"),g=Object(r["E"])("category-group"),v=Object(r["E"])("page-footer");return Object(r["w"])(),Object(r["h"])("div",n,[Object(r["l"])(h,{title:"分类"}),Object(r["i"])("div",o,[Object(r["i"])("div",i,[Object(r["i"])("div",a,[Object(r["i"])("ul",null,[(Object(r["w"])(!0),Object(r["h"])(r["a"],null,Object(r["C"])(j.categoryList,(function(t,e){return Object(r["w"])(),Object(r["h"])("li",{key:t.category_id,class:Object(r["r"])(e==j.curIndex?"active":""),onClick:function(t){return p.handleChangeIndex(e)}},[Object(r["i"])("a",null,[Object(r["i"])("span",null,Object(r["H"])(t.category_name),1)])],10,s)})),128))])]),Object(r["i"])("div",{class:"list-wrap",onTouchstart:e[0]||(e[0]=function(){return p.handleWrapScroll&&p.handleWrapScroll.apply(p,arguments)})},[(Object(r["w"])(!0),Object(r["h"])(r["a"],null,Object(r["C"])(j.categoryList,(function(t,e){return Object(r["w"])(),Object(r["h"])("div",{key:t.category_id,ref:"category"+e,class:"list-item"},[Object(r["i"])("div",l,[Object(r["i"])("div",u,[Object(r["i"])("a",d,[Object(r["i"])("img",{src:t.category_img,lazy:"loaded"},null,8,b)])]),(Object(r["w"])(!0),Object(r["h"])(r["a"],null,Object(r["C"])(t.category_list,(function(t){return Object(r["w"])(),Object(r["h"])(r["a"],{key:t.id},[Object(r["i"])("div",f,[Object(r["i"])("span",null,Object(r["H"])(t.category_title),1)]),Object(r["l"])(g,{products:t.category_group},null,8,["products"])],64)})),128))])],512)})),128))],32)])]),Object(r["l"])(v)])}Object(r["x"])();c("b0c0"),c("159b");var j=c("c405");Object(r["z"])("data-v-39b080b0");var p={class:"category_group box-flex"},h={class:"box"},g={class:"exposure item"},v={class:"img"},m=["src"],y={class:"name"};function w(t,e,c,n,o,i){var a=Object(r["E"])("router-link");return Object(r["w"])(),Object(r["h"])("div",p,[Object(r["i"])("div",h,[(Object(r["w"])(!0),Object(r["h"])(r["a"],null,Object(r["C"])(c.products,(function(t){return Object(r["w"])(),Object(r["f"])(a,{key:t.category_id,class:"product",tag:"div",to:{name:"list",params:{id:t.category_id}}},{default:Object(r["O"])((function(){return[Object(r["i"])("a",g,[Object(r["i"])("div",v,[Object(r["i"])("img",{class:"big",src:t.img_url,lazy:"loaded"},null,8,m)]),Object(r["i"])("div",y,Object(r["H"])(t.product_name),1)])]})),_:2},1032,["to"])})),128))])])}Object(r["x"])();var _={props:{products:{type:Array,required:!0}}},T=(c("7a98"),c("d959")),x=c.n(T);const L=x()(_,[["render",w],["__scopeId","data-v-39b080b0"]]);var k=L,C={components:{CategoryGroup:k},data:function(){return{categoryList:null,curIndex:0,offsetTop:[],scrollTimer:null}},beforeRouteEnter:function(t,e,c){e.name?Object(j["a"])().then((function(t){200===t.status&&c((function(e){return e.setNavList(t.data.lists)}))})):c((function(t){return t.getCategoryList()}))},destoryed:function(){this.$NProgress.remove()},methods:{getCategoryList:function(){var t=this;Object(j["a"])().then((function(e){200===e.status&&t.setNavList(e.data.lists)}))},setNavList:function(t){var e=this;this.$NProgress.done(),this.categoryList=t,this.$store.commit("setViewLoading",!1),this.$nextTick((function(){e.categoryList.forEach((function(t,c){e.offsetTop.push(e.$refs["category"+c].offsetTop)}))}))},handleChangeIndex:function(t){this.curIndex=t;var e=document.querySelector(".list-wrap");e.removeEventListener("scroll",this.scrollHandler),e.scrollTo(0,this.offsetTop[t])},handleWrapScroll:function(){document.querySelector(".list-wrap").addEventListener("scroll",this.scrollHandler)},scrollHandler:function(){var t=this;clearTimeout(this.scrollTimer),this.scrollTimer=null,this.scrollTimer=setTimeout((function(){for(var e=document.querySelector(".list-wrap").scrollTop,c=t.offsetTop.length,r=0;r<c;++r)if(e>=t.offsetTop[r]&&e<t.offsetTop[r+1]){t.curIndex=r;break}}),100)}}};c("d903");const E=x()(C,[["render",O],["__scopeId","data-v-e302afa4"]]);e["default"]=E}}]);
//# sourceMappingURL=category.a2baf7b2.js.map