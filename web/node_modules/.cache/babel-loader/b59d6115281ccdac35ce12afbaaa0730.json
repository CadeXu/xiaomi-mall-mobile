{"remainingRequest":"/Volumes/HD/xiaoMi/FE/xiaomi-mall-mobile/node_modules/thread-loader/dist/cjs.js!/Volumes/HD/xiaoMi/FE/xiaomi-mall-mobile/node_modules/babel-loader/lib/index.js!/Volumes/HD/xiaoMi/FE/xiaomi-mall-mobile/node_modules/eslint-loader/index.js??ref--13-0!/Volumes/HD/xiaoMi/FE/xiaomi-mall-mobile/src/api/index.js","dependencies":[{"path":"/Volumes/HD/xiaoMi/FE/xiaomi-mall-mobile/src/api/index.js","mtime":1636026227335},{"path":"/Volumes/HD/xiaoMi/FE/xiaomi-mall-mobile/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/HD/xiaoMi/FE/xiaomi-mall-mobile/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/HD/xiaoMi/FE/xiaomi-mall-mobile/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Volumes/HD/xiaoMi/FE/xiaomi-mall-mobile/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CgovKioNCiAqIEVuY2Fwc3VsYXRlIHVybA0KICovCi8vIC8vIFRoZSBob3N0IGlzIGluIGRldmVsb3BtZW50Ci8vIGNvbnN0IGhvc3QgPSBwcm9jZXNzLmVudi5WVUVfQVBQX0JBU0VfQVBJCi8vIC8vIFRoZSBob3N0IGlzIG51bGwgYWZ0ZXIgb25saW5lCi8vIC8vIGNvbnN0IGhvc3QgPSAnJwovLyBjb25zdCB1cmwgPSB7Ci8vICAgZ2V0Q29kZTogJy9nZXRDb2RlJywKLy8gICBsb2dpbjogJy9sb2dpbicKLy8gfQovLyBPYmplY3Qua2V5cyh1cmwpLmZvckVhY2goa2V5ID0+IHsKLy8gICB1cmxba2V5XSA9IGhvc3QgKyB1cmxba2V5XQovLyB9KQovLyBleHBvcnQgZGVmYXVsdCB1cmwKCi8qKg0KICogSW1wb3J0IHJlbGF0ZWQgYXBpIGZ1bmN0aW9uIHdoZXJlIG5lZWRlZA0KICovCmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCBtb2NrIGZyb20gJ0AvbW9jayc7CnZhciBheGlvc0luc3RhbmNlID0gYXhpb3MuY3JlYXRlKHsKICBiYXNlVVJMOiBwcm9jZXNzLmVudi5WVUVfQVBQX0JBU0VfQVBJIC8vIHRpbWVvdXQ6IDUwMDAsCiAgLy8gaGVhZGVyczogeydYLUN1c3RvbS1IZWFkZXInOiAnZm9vYmFyJ30sCiAgLy8gd2l0aENyZWRlbnRpYWxzOiB0cnVlIC8vIHNlbmQgY29va2llcyB3aGVuIGNyb3NzLWRvbWFpbiByZXF1ZXN0cwoKfSk7IC8vIERvIHNvbWV0aGluZyBiZWZvcmUgc2VuZGluZyByZXF1ZXN0CgpheGlvc0luc3RhbmNlLmludGVyY2VwdG9ycy5yZXF1ZXN0LnVzZShmdW5jdGlvbiAoY29uZmlnKSB7CiAgLy8gLy8gQWRkIEF1dGhvcml6YXRpb24gQmVhcmVyIFRva2VuIGhlYWRlciB0byBldmVyeSByZXF1ZXN0CiAgLy8gaWYodG9rZW4pIHsKICAvLyAgIGNvbmZpZy5oZWFkZXJzWydBdXRob3JpemF0aW9uJ10gPSAnQmVhZXInICsgdG9rZW4KICAvLyB9CiAgcmV0dXJuIGNvbmZpZzsKfSwgZnVuY3Rpb24gKGVycm9yKSB7CiAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTsKfSk7IC8vIERvIHNvbWV0aGluZyBhZnRlciByZWNlaXZpbmcgcmVwb25zZQoKYXhpb3NJbnN0YW5jZS5pbnRlcmNlcHRvcnMucmVzcG9uc2UudXNlKGZ1bmN0aW9uIChyZXNwb25zZSkgewogIHJldHVybiByZXNwb25zZS5kYXRhOwp9LCBmdW5jdGlvbiAoZXJyKSB7CiAgLy8gcmV0dXJuIFByb21pc2UucmVqZWN0KGVycikKICBjb25zb2xlLmVycm9yKGVycik7CiAgcmV0dXJuIG1vY2suZ2V0Q29kZTsKfSk7CmV4cG9ydCBkZWZhdWx0IGF4aW9zSW5zdGFuY2U7"},{"version":3,"sources":["/Volumes/HD/xiaoMi/FE/xiaomi-mall-mobile/src/api/index.js"],"names":["axios","mock","axiosInstance","create","baseURL","process","env","VUE_APP_BASE_API","interceptors","request","use","config","error","Promise","reject","response","data","err","console","getCode"],"mappings":";;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;;AAEA;AACA;AACA;AACA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,IAAP,MAAiB,QAAjB;AAEA,IAAMC,aAAa,GAAGF,KAAK,CAACG,MAAN,CAAa;AACjCC,EAAAA,OAAO,EAAEC,OAAO,CAACC,GAAR,CAAYC,gBADY,CAEjC;AACA;AACA;;AAJiC,CAAb,CAAtB,C,CAOA;;AACAL,aAAa,CAACM,YAAd,CAA2BC,OAA3B,CAAmCC,GAAnC,CACE,UAAUC,MAAV,EAAkB;AAChB;AACA;AACA;AACA;AAEA,SAAOA,MAAP;AACD,CARH,EASE,UAAUC,KAAV,EAAiB;AACf,SAAOC,OAAO,CAACC,MAAR,CAAeF,KAAf,CAAP;AACD,CAXH,E,CAcA;;AACAV,aAAa,CAACM,YAAd,CAA2BO,QAA3B,CAAoCL,GAApC,CAEE,UAAUK,QAAV,EAAoB;AAClB,SAAOA,QAAQ,CAACC,IAAhB;AACD,CAJH,EAKE,UAAUC,GAAV,EAAe;AACb;AACAC,EAAAA,OAAO,CAACN,KAAR,CAAcK,GAAd;AACA,SAAOhB,IAAI,CAACkB,OAAZ;AACD,CATH;AAYA,eAAejB,aAAf","sourcesContent":["/**\r\n * Encapsulate url\r\n */\r\n// // The host is in development\r\n// const host = process.env.VUE_APP_BASE_API\r\n\r\n// // The host is null after online\r\n// // const host = ''\r\n\r\n// const url = {\r\n//   getCode: '/getCode',\r\n//   login: '/login'\r\n// }\r\n\r\n// Object.keys(url).forEach(key => {\r\n//   url[key] = host + url[key]\r\n// })\r\n\r\n// export default url\r\n\r\n/**\r\n * Import related api function where needed\r\n */\r\nimport axios from 'axios'\r\nimport mock from '@/mock'\r\n\r\nconst axiosInstance = axios.create({\r\n  baseURL: process.env.VUE_APP_BASE_API\r\n  // timeout: 5000,\r\n  // headers: {'X-Custom-Header': 'foobar'},\r\n  // withCredentials: true // send cookies when cross-domain requests\r\n})\r\n\r\n// Do something before sending request\r\naxiosInstance.interceptors.request.use(\r\n  function (config) {\r\n    // // Add Authorization Bearer Token header to every request\r\n    // if(token) {\r\n    //   config.headers['Authorization'] = 'Beaer' + token\r\n    // }\r\n\r\n    return config\r\n  },\r\n  function (error) {\r\n    return Promise.reject(error)\r\n  }\r\n)\r\n\r\n// Do something after receiving reponse\r\naxiosInstance.interceptors.response.use(\r\n\r\n  function (response) {\r\n    return response.data\r\n  },\r\n  function (err) {\r\n    // return Promise.reject(err)\r\n    console.error(err)\r\n    return mock.getCode\r\n  }\r\n)\r\n\r\nexport default axiosInstance\r\n"]}]}