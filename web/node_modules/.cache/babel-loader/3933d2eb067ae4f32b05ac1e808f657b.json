{"remainingRequest":"/Volumes/HD/xiaoMi/FE/xiaomi-mall-mobile/node_modules/babel-loader/lib/index.js!/Volumes/HD/xiaoMi/FE/xiaomi-mall-mobile/node_modules/eslint-loader/index.js??ref--13-0!/Volumes/HD/xiaoMi/FE/xiaomi-mall-mobile/src/store/index.js","dependencies":[{"path":"/Volumes/HD/xiaoMi/FE/xiaomi-mall-mobile/src/store/index.js","mtime":1637367595149},{"path":"/Volumes/HD/xiaoMi/FE/xiaomi-mall-mobile/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/HD/xiaoMi/FE/xiaomi-mall-mobile/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Volumes/HD/xiaoMi/FE/xiaomi-mall-mobile/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgY3JlYXRlU3RvcmUgfSBmcm9tICd2dWV4JzsKaW1wb3J0IHsgZmV0Y2hVc2VySW5mbyB9IGZyb20gJ0AvYXBpL3VzZXInOwpleHBvcnQgZGVmYXVsdCBjcmVhdGVTdG9yZSh7CiAgc3RhdGU6IHsKICAgIHZpZXdMb2FkaW5nOiBmYWxzZSwKICAgIHRyYW5zaXRpb25OYW1lOiAncGFnZS1sZWZ0JywKICAgIHVzZXJJbmZvOiBudWxsCiAgfSwKICAvLyBsaWtlIGNvbXB1dGVkCiAgZ2V0dGVyczogewogICAgaXNMb2dpbjogZnVuY3Rpb24gaXNMb2dpbihzdGF0ZSkgewogICAgICByZXR1cm4gISFzdGF0ZS51c2VySW5mbzsKICAgIH0KICB9LAogIC8vIHN5bmNocm9uaXphdGlvbgogIG11dGF0aW9uczogewogICAgc2V0Vmlld0xvYWRpbmc6IGZ1bmN0aW9uIHNldFZpZXdMb2FkaW5nKHN0YXRlLCB2YWx1ZSkgewogICAgICBzdGF0ZS52aWV3TG9hZGluZyA9IHZhbHVlOwogICAgfSwKICAgIHNldFRyYW5zaXRpb25OYW1lOiBmdW5jdGlvbiBzZXRUcmFuc2l0aW9uTmFtZShzdGF0ZSwgdmFsdWUpIHsKICAgICAgc3RhdGUudHJhbnNpdGlvbk5hbWUgPSB2YWx1ZTsKICAgIH0sCiAgICBzZXRVc2VySW5mbzogZnVuY3Rpb24gc2V0VXNlckluZm8oc3RhdGUsIHZhbHVlKSB7CiAgICAgIHN0YXRlLnVzZXJJbmZvID0gdmFsdWU7CiAgICB9CiAgfSwKICAvLyBhc3luY2hyb25pemF0aW9uCiAgLy8gZ2xvYmFsIHByb2Nlc3NpbmcKICAvLyBOb3JtYWxseSwgaXQncyBub3QgZ2xvYmFsLCB3aWxsIHByb2Nlc3MgaW4gZXZlcnkgcGFnZQogIGFjdGlvbnM6IHsKICAgIC8vIGNvbnRleHQgPD09PiBzdG9yZSBpbnN0YW5jZSA8PT0+IHRoaXMuJHN0b3JlCiAgICAvLyBnZXRVc2VySW5mbyhjb250ZXh0KSB7CiAgICAvLyAgIGNvbnRleHQuY29tbWl0KCdzZXRVc2VySW5mbycsICkKICAgIC8vIH0KICAgIC8vIHNob3J0IGhhbmQgLS0+IHBhcmFtZXRlciBhc3NpZ25tZW50CiAgICBnZXRVc2VySW5mbzogZnVuY3Rpb24gZ2V0VXNlckluZm8oX3JlZikgewogICAgICB2YXIgY29tbWl0ID0gX3JlZi5jb21taXQ7CiAgICAgIGZldGNoVXNlckluZm8oKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBpZiAocmVzLnN0YXR1cyA9PT0gMjAwKSB7CiAgICAgICAgICBjb21taXQoJ3NldFVzZXJJbmZvJywgcmVzLmRhdGEudXNlcik7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9LAogIG1vZHVsZXM6IHt9Cn0pOw=="},{"version":3,"sources":["/Volumes/HD/xiaoMi/FE/xiaomi-mall-mobile/src/store/index.js"],"names":["createStore","fetchUserInfo","state","viewLoading","transitionName","userInfo","getters","isLogin","mutations","setViewLoading","value","setTransitionName","setUserInfo","actions","getUserInfo","commit","then","res","status","data","user","modules"],"mappings":"AAAA,SAASA,WAAT,QAA4B,MAA5B;AACA,SAASC,aAAT,QAA8B,YAA9B;AAEA,eAAeD,WAAW,CAAC;AACzBE,EAAAA,KAAK,EAAE;AACLC,IAAAA,WAAW,EAAE,KADR;AAELC,IAAAA,cAAc,EAAE,WAFX;AAGLC,IAAAA,QAAQ,EAAE;AAHL,GADkB;AAMzB;AACAC,EAAAA,OAAO,EAAE;AACPC,IAAAA,OAAO,EAAE,iBAAAL,KAAK,EAAI;AAChB,aAAO,CAAC,CAACA,KAAK,CAACG,QAAf;AACD;AAHM,GAPgB;AAYzB;AACAG,EAAAA,SAAS,EAAE;AACTC,IAAAA,cADS,0BACMP,KADN,EACaQ,KADb,EACoB;AAC3BR,MAAAA,KAAK,CAACC,WAAN,GAAoBO,KAApB;AACD,KAHQ;AAITC,IAAAA,iBAJS,6BAIST,KAJT,EAIgBQ,KAJhB,EAIuB;AAC9BR,MAAAA,KAAK,CAACE,cAAN,GAAuBM,KAAvB;AACD,KANQ;AAOTE,IAAAA,WAPS,uBAOGV,KAPH,EAOUQ,KAPV,EAOiB;AACxBR,MAAAA,KAAK,CAACG,QAAN,GAAiBK,KAAjB;AACD;AATQ,GAbc;AAwBzB;AACA;AACA;AACAG,EAAAA,OAAO,EAAE;AACP;AACA;AACA;AACA;AAEA;AACAC,IAAAA,WAPO,6BAOiB;AAAA,UAAVC,MAAU,QAAVA,MAAU;AACtBd,MAAAA,aAAa,GAAGe,IAAhB,CAAqB,UAACC,GAAD,EAAS;AAC5B,YAAGA,GAAG,CAACC,MAAJ,KAAe,GAAlB,EAAuB;AACrBH,UAAAA,MAAM,CAAC,aAAD,EAAgBE,GAAG,CAACE,IAAJ,CAASC,IAAzB,CAAN;AACD;AACF,OAJD;AAKD;AAbM,GA3BgB;AA0CzBC,EAAAA,OAAO,EAAE;AA1CgB,CAAD,CAA1B","sourcesContent":["import { createStore } from 'vuex'\nimport { fetchUserInfo } from '@/api/user'\n\nexport default createStore({\n  state: {\n    viewLoading: false,\n    transitionName: 'page-left',\n    userInfo: null\n  },\n  // like computed\n  getters: {\n    isLogin: state => {\n      return !!state.userInfo\n    }\n  },\n  // synchronization\n  mutations: {\n    setViewLoading(state, value) {\n      state.viewLoading = value\n    },\n    setTransitionName(state, value) {\n      state.transitionName = value\n    },\n    setUserInfo(state, value) {\n      state.userInfo = value\n    }\n  },\n  // asynchronization\n  // global processing\n  // Normally, it's not global, will process in every page\n  actions: {\n    // context <==> store instance <==> this.$store\n    // getUserInfo(context) {\n    //   context.commit('setUserInfo', )\n    // }\n\n    // short hand --> parameter assignment\n    getUserInfo({ commit }) {\n      fetchUserInfo().then((res) => {\n        if(res.status === 200) {\n          commit('setUserInfo', res.data.user)\n        }\n      })\n    }\n  },\n  modules: {\n  }\n})\n"]}]}