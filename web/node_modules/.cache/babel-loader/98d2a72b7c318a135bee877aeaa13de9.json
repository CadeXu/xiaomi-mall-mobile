{"remainingRequest":"/Volumes/HD/xiaoMi/FE/xiaomi-mall-mobile/node_modules/babel-loader/lib/index.js!/Volumes/HD/xiaoMi/FE/xiaomi-mall-mobile/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Volumes/HD/xiaoMi/FE/xiaomi-mall-mobile/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Volumes/HD/xiaoMi/FE/xiaomi-mall-mobile/src/views/MiHome.vue?vue&type=script&lang=js","dependencies":[{"path":"/Volumes/HD/xiaoMi/FE/xiaomi-mall-mobile/src/views/MiHome.vue","mtime":1637975024556},{"path":"/Volumes/HD/xiaoMi/FE/xiaomi-mall-mobile/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/HD/xiaoMi/FE/xiaomi-mall-mobile/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Volumes/HD/xiaoMi/FE/xiaomi-mall-mobile/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/HD/xiaoMi/FE/xiaomi-mall-mobile/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCB7IGdldE5hdkxpc3QgYXMgX2dldE5hdkxpc3QsIGdldFRhYlBhZ2VCeUlkIGFzIF9nZXRUYWJQYWdlQnlJZCB9IGZyb20gJ0AvYXBpL2hvbWUnOwppbXBvcnQgU3dpcGVyIGZyb20gJ3N3aXBlci9zd2lwZXItYnVuZGxlJzsKaW1wb3J0ICdzd2lwZXIvc3dpcGVyLWJ1bmRsZS5jc3MnOyAvLyBpbXBvcnQgYnVzIGZyb20gJ0AvdXRpbC9idXMuanMnCi8vIGltcG9ydCBQYWdlRm9vdGVyIGZyb20gJ0AvY29tcG9uZW50cy9QYWdlRm9vdGVyLnZ1ZScKCmV4cG9ydCBkZWZhdWx0IHsKICAvLyBjb21wb25lbnRzOiB7CiAgLy8gICAvLyB1c2UgbWl4aW4gdG8gaW50cm9kdWNlCiAgLy8gICBQYWdlRm9vdGVyCiAgLy8gfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbmF2TGlzdDogW10sCiAgICAgIGN1ckluZGV4OiAwLAogICAgICBzbGlkZXNQZXJWaWV3OiA2LAogICAgICBzd2lwZXI6IG51bGwsCiAgICAgIHRyYW5zaXRpb25OYW1lOiAnJwogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldE5hdkxpc3QoKTsKICB9LAogIC8vIHdpdGhkcmF3CiAgZGVzdG9yeWVkOiBmdW5jdGlvbiBkZXN0b3J5ZWQoKSB7CiAgICBpZiAoQXJyYXkuaXNBcnJheSh0aGlzLnN3aXBlcikpIHsKICAgICAgdGhpcy5zd2lwZXIuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIGl0ZW0uZGVzdG9yeSgpOwogICAgICB9KTsKICAgIH0gZWxzZSB7CiAgICAgIHRoaXMuc3dpcGVyLmRlc3RvcnkoKTsKICAgIH0KCiAgICB0aGlzLiROUHJvZ3Jlc3MucmVtb3ZlKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXROYXZMaXN0OiBmdW5jdGlvbiBnZXROYXZMaXN0KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgX2dldE5hdkxpc3QoKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBpZiAocmVzLnN0YXR1cyA9PT0gMjAwKSB7CiAgICAgICAgICAvLyBidXMuZW1pdCgnbG9hZGluZycsIGZhbHNlKQogICAgICAgICAgcmVzLmRhdGEuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICBpdGVtLmhhc0RhdGEgPSBmYWxzZTsKICAgICAgICAgIH0pOwogICAgICAgICAgX3RoaXMubmF2TGlzdCA9IHJlcy5kYXRhOwoKICAgICAgICAgIF90aGlzLmdldFRhYlBhZ2VCeUlkKCk7IC8vIHRoaXMuc3dpcGVyID0gbmV3IFN3aXBlcignLnN3aXBlci1jb250YWluZXInLCB7CiAgICAgICAgICAvLyAgIHNsaWRlc1BlclZpZXc6IHRoaXMuc2xpZGVzUGVyVmlldywKICAgICAgICAgIC8vICAgZnJlZU1vZGU6IHRydWUKICAgICAgICAgIC8vIH0pCgoKICAgICAgICAgIF90aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIF90aGlzLnN3aXBlciA9IG5ldyBTd2lwZXIoJy5zd2lwZXItY29udGFpbmVyJywgewogICAgICAgICAgICAgIHNsaWRlc1BlclZpZXc6IF90aGlzLnNsaWRlc1BlclZpZXcsCiAgICAgICAgICAgICAgZnJlZU1vZGU6IHRydWUKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGhhbmRsZUNoYW5nZUluZGV4OiBmdW5jdGlvbiBoYW5kbGVDaGFuZ2VJbmRleChpbmRleCkgewogICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucGFnZS13cmFwJykuc2Nyb2xsVG8oMCwgMCk7CiAgICAgIHRoaXMudHJhbnNpdGlvbk5hbWUgPSBpbmRleCA+IHRoaXMuY3VySW5kZXggPyAncGFnZS1sZWZ0JyA6ICdwYWdlLXJpZ2h0JzsKICAgICAgdGhpcy5jdXJJbmRleCA9IGluZGV4OwogICAgICB2YXIgdG9JbmRleCA9IDA7CgogICAgICBpZiAoaW5kZXggPiB0aGlzLnNsaWRlc1BlclZpZXcgLyAyKSB7CiAgICAgICAgdG9JbmRleCA9IGluZGV4IC0gdGhpcy5zbGlkZXNQZXJWaWV3IC8gMjsKICAgICAgfQoKICAgICAgdGhpcy5zd2lwZXIuc2xpZGVUbyh0b0luZGV4LCA1MDAsIGZhbHNlKTsKICAgICAgIXRoaXMubmF2TGlzdFt0aGlzLmN1ckluZGV4XS5oYXNEYXRhICYmIHRoaXMuZ2V0VGFiUGFnZUJ5SWQoKTsKICAgIH0sCiAgICBnZXRUYWJQYWdlQnlJZDogZnVuY3Rpb24gZ2V0VGFiUGFnZUJ5SWQoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgX2dldFRhYlBhZ2VCeUlkKHsKICAgICAgICBwYWdlSWQ6IHRoaXMubmF2TGlzdFt0aGlzLmN1ckluZGV4XS5wYWdlSWQKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgLy8gaWYocmVzLnN0YXR1cyA9PT0gMjAwKSB7CiAgICAgICAgX3RoaXMyLm5hdkxpc3RbX3RoaXMyLmN1ckluZGV4XS5oYXNEYXRhID0gdHJ1ZTsKCiAgICAgICAgX3RoaXMyLiROUHJvZ3Jlc3MuZG9uZSgpOyAvLyB9CiAgICAgICAgLy8gdHJpZ2dlciB0aGUgbXV0YXRpb24KCgogICAgICAgIF90aGlzMi4kc3RvcmUuY29tbWl0KCdzZXRWaWV3TG9hZGluZycsIGZhbHNlKTsKICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["/Volumes/HD/xiaoMi/FE/xiaomi-mall-mobile/src/views/MiHome.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"app-shell\">\n    <div class=\"app-view-wrapper\">\n      <div class=\"app-view\">\n        <header class=\"header\">\n          <div class=\"app-header-wrapper\">\n            <div class=\"app-header-left\">\n              <div class=\"app-header-item\">\n                <img src=\"@/assets/images/miLogo.png\" alt=\"No Images\"/>\n              </div>\n            </div>\n            <div class=\"app-header-middle\">\n              <div class=\"app-header-title\">\n                <i class=\"iconfont icon-Search\" />\n                &nbsp;&nbsp;<span>搜索商品名称</span>\n              </div>\n            </div>\n            <div class=\"app-header-right\">\n              <div class=\"app-header-item\" @click=\"$router.push('user')\">\n                <i class=\"iconfont icon-people\" />\n              </div>\n            </div>\n          </div>\n\n          <div class=\"nav swiper-container\">\n            <div v-if=\"navList&&navList.length\" class=\"swiper-wrapper\">\n              <div\n                v-for=\"(navItem, index) in navList\"\n                :key=\"navItem.pageId\"\n                class=\"nav-item swiper-slide\"\n                @click=\"handleChangeIndex(index)\"\n              >\n                <span :class=\"{'nav-active': curIndex == index}\">{{navItem.name}}</span>\n              </div>\n            </div>\n          </div>\n        </header>\n\n        <transition-group class=\"page-wrap\" tag=\"div\" :name=\"transitionName\">\n          <div\n            v-for=\"(nav, index) in navList\"\n            :key=\"nav.pageId\"\n            v-show=\"index === curIndex\"\n            class=\"bodys\"\n          >\n            {{nav.name}}\n          </div>\n        </transition-group>\n      </div>\n    </div>\n    <page-footer/>\n  </div>\n</template>\n\n<script>\nimport { getNavList, getTabPageById } from '@/api/home'\nimport Swiper from 'swiper/swiper-bundle'\nimport 'swiper/swiper-bundle.css'\n// import bus from '@/util/bus.js'\n// import PageFooter from '@/components/PageFooter.vue'\n\nexport default {\n  // components: {\n  //   // use mixin to introduce\n  //   PageFooter\n  // },\n  data() {\n    return {\n      navList: [],\n      curIndex: 0,\n      slidesPerView: 6,\n      swiper: null,\n      transitionName: ''\n    }\n  },\n  created() {\n    this.getNavList()\n  },\n  // withdraw\n  destoryed() {\n    if(Array.isArray(this.swiper)) {\n      this.swiper.forEach(item => {\n        item.destory()\n      })\n    } else {\n      this.swiper.destory()\n    }\n    this.$NProgress.remove()\n  },\n  methods: {\n    getNavList() {\n      getNavList().then(res => {\n        if(res.status === 200) {\n          // bus.emit('loading', false)\n\n          res.data.forEach(item => {\n            item.hasData = false\n          })\n\n          this.navList = res.data\n          this.getTabPageById()\n          // this.swiper = new Swiper('.swiper-container', {\n          //   slidesPerView: this.slidesPerView,\n          //   freeMode: true\n          // })\n\n          this.$nextTick(() => {\n            this.swiper = new Swiper('.swiper-container', {\n              slidesPerView: this.slidesPerView,\n              freeMode: true\n            })\n          })\n        }\n      })\n    },\n    handleChangeIndex(index) {\n      document.querySelector('.page-wrap').scrollTo(0, 0)\n      this.transitionName = index > this.curIndex ? 'page-left' : 'page-right'\n      this.curIndex = index\n      let toIndex = 0\n      if(index > this.slidesPerView / 2) {\n        toIndex = index - this.slidesPerView / 2\n      }\n      this.swiper.slideTo(toIndex, 500, false)\n      !this.navList[this.curIndex].hasData && this.getTabPageById()\n    },\n    getTabPageById() {\n      getTabPageById({ pageId: this.navList[this.curIndex].pageId }).then(res => {\n        // if(res.status === 200) {\n        this.navList[this.curIndex].hasData = true\n        this.$NProgress.done()\n        // }\n\n        // trigger the mutation\n        this.$store.commit('setViewLoading', false)\n      })\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n// .app-view {\n//   position: absolute;\n//   z-index: 999;\n//   top: 0;\n//   right: 0;\n//   bottom: 0;\n//   left: 0;\n//   /* height: 100%; */\n//   // overflow-x: hidden;\n//   // overflow-y: auto;\n//   will-change: transform;\n//   background: #fff;\n//   color: #3c3c3c;\n//   padding-bottom: 52px;\n// }\n\n.header {\n  position: fixed;\n  top: -1px;\n  left: 0;\n  right: 0;\n  z-index: 99;\n  box-shadow: 0 2px 4px -1px rgba(0,0,0,.2);\n  background: #f2f2f2;\n\n  // .app-header-wrapper, .app-header-wrapper>div {\n  //   display: flex;\n  //   align-items: center;\n  // }\n\n  .app-header-wrapper {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    height: 50px;\n    background: #f2f2f2;\n    color: #666;\n    padding: 0;\n\n    .app-header-middle {\n      flex: 1;\n\n      .app-header-title {\n        display: flex;\n        justify-content: flex-start;\n        align-items: center;\n        border: 1px solid #e5e5e5;\n        text-align: left;\n        // width: 100%;\n        color: rgba(0,0,0,.3);\n        background-color: #fff;\n        border-radius: 4px;\n        height: 32px;\n        padding-left: 12px;\n      }\n    }\n\n    .app-header-item {\n      display: block;\n      width: 32px;\n      margin: 0 10px;\n\n      img {\n        width: 90%;\n      }\n    }\n  }\n\n  .nav {\n    // overflow-x: auto;\n    overflow-x: hidden;\n    background: #f2f2f2;\n    font-size: 14px;\n    white-space: nowrap;\n    z-index: 2;\n\n    .nav-item {\n      display: inline-block;\n      padding: 0 14px;\n      width: auto !important;\n\n      span {\n        display: inline-block;\n        line-height: 32px;\n        border-bottom: 2px solid rgba(237, 91, 0, 0);\n        color: rgb(116, 116, 116);\n        border-color: rgb(242, 242, 242);\n      }\n\n      .nav-active {\n        color: rgb(237,91,0);\n        border-color: rgb(237,91,0);\n      }\n    }\n  }\n}\n\n.page-wrap {\n  position: relative;\n  height: 100%;\n  overflow-x: hidden;\n  overflow-y: auto;\n\n  .bodys {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    // background: rgba(237, 91, 0, 0.1);\n    background: $theme_color;\n    height: 670px;\n    line-height: 670px;\n    font-size: 50px;\n  }\n}\n\n// .page-left-enter,\n// .page-right-leave-to {\n//   transform: translateX(100%);\n// }\n// .page-left-enter-active,\n// .page-left-leave-active,\n// .page-right-enter-active,\n// .page-right-leave-active {\n//   transition: all .5s;\n// }\n\n// .page-left-enter-to,\n// .page-right-leave,\n// .page-left-leave,\n// .page-right-enter-to {\n//   transform: translateX(0);\n// }\n\n// .page-left-leave-to,\n// .page-right-enter {\n//   transform: translateX(-100%);\n// }\n</style>\n"],"sourceRoot":""}]}