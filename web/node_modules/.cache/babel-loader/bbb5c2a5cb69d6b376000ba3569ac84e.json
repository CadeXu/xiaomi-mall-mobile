{"remainingRequest":"/Volumes/HD/xiaoMi/FE/xiaomi-mall-mobile/node_modules/babel-loader/lib/index.js!/Volumes/HD/xiaoMi/FE/xiaomi-mall-mobile/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/templateLoader.js??ref--6!/Volumes/HD/xiaoMi/FE/xiaomi-mall-mobile/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Volumes/HD/xiaoMi/FE/xiaomi-mall-mobile/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Volumes/HD/xiaoMi/FE/xiaomi-mall-mobile/src/views/MiList.vue?vue&type=template&id=44b05a14&scoped=true","dependencies":[{"path":"/Volumes/HD/xiaoMi/FE/xiaomi-mall-mobile/src/views/MiList.vue","mtime":1637674090999},{"path":"/Volumes/HD/xiaoMi/FE/xiaomi-mall-mobile/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/HD/xiaoMi/FE/xiaomi-mall-mobile/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Volumes/HD/xiaoMi/FE/xiaomi-mall-mobile/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":499162500000},{"path":"/Volumes/HD/xiaoMi/FE/xiaomi-mall-mobile/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/HD/xiaoMi/FE/xiaomi-mall-mobile/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCB7IHJlc29sdmVDb21wb25lbnQgYXMgX3Jlc29sdmVDb21wb25lbnQsIGNyZWF0ZVZOb2RlIGFzIF9jcmVhdGVWTm9kZSwgY3JlYXRlQ29tbWVudFZOb2RlIGFzIF9jcmVhdGVDb21tZW50Vk5vZGUsIHJlbmRlckxpc3QgYXMgX3JlbmRlckxpc3QsIEZyYWdtZW50IGFzIF9GcmFnbWVudCwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2ssIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrLCBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZSwgdG9EaXNwbGF5U3RyaW5nIGFzIF90b0Rpc3BsYXlTdHJpbmcsIHdpdGhDdHggYXMgX3dpdGhDdHgsIGNyZWF0ZUJsb2NrIGFzIF9jcmVhdGVCbG9jaywgd2l0aFNjb3BlSWQgYXMgX3dpdGhTY29wZUlkLCBwdXNoU2NvcGVJZCBhcyBfcHVzaFNjb3BlSWQsIHBvcFNjb3BlSWQgYXMgX3BvcFNjb3BlSWQgfSBmcm9tICJ2dWUiOwoKX3B1c2hTY29wZUlkKCJkYXRhLXYtNDRiMDVhMTQiKTsKCnZhciBfaG9pc3RlZF8xID0gewogIGNsYXNzOiAiYXBwLXNoZWxsIgp9Owp2YXIgX2hvaXN0ZWRfMiA9IHsKICBjbGFzczogImFwcC12aWV3LXdyYXBwZXIiCn07CnZhciBfaG9pc3RlZF8zID0gewogIGNsYXNzOiAiYXBwLXZpZXcgYXBwLXZpZXctd2l0aC1oZWFkZXIgYXBwLXZpZXctd2l0aC1mb290ZXIiCn07CnZhciBfaG9pc3RlZF80ID0gewogIGNsYXNzOiAiaXRlbS1pbWcgZXhwb3N1cmUiCn07CnZhciBfaG9pc3RlZF81ID0gWyJzcmMiXTsKdmFyIF9ob2lzdGVkXzYgPSBbInNyYyJdOwp2YXIgX2hvaXN0ZWRfNyA9IHsKICBjbGFzczogIml0ZW0taW50cm8gYm94LWZsZXggZmxleCIKfTsKdmFyIF9ob2lzdGVkXzggPSB7CiAgY2xhc3M6ICJpdGVtLW5hbWUgZmxleCIKfTsKdmFyIF9ob2lzdGVkXzkgPSB7CiAgY2xhc3M6ICJpdGVtLWJyaWVmIGZsZXgiCn07CnZhciBfaG9pc3RlZF8xMCA9IFsiaW5uZXJIVE1MIl07CnZhciBfaG9pc3RlZF8xMSA9IHsKICBjbGFzczogIml0ZW0taW50cm8tcHJpY2UgZmxleCIKfTsKdmFyIF9ob2lzdGVkXzEyID0gewogIGNsYXNzOiAicHJpY2UiCn07CgpfcG9wU2NvcGVJZCgpOwoKZXhwb3J0IGZ1bmN0aW9uIHJlbmRlcihfY3R4LCBfY2FjaGUsICRwcm9wcywgJHNldHVwLCAkZGF0YSwgJG9wdGlvbnMpIHsKICB2YXIgX2NvbXBvbmVudF9taV90aXRsZSA9IF9yZXNvbHZlQ29tcG9uZW50KCJtaS10aXRsZSIpOwoKICB2YXIgX2NvbXBvbmVudF9yb3V0ZXJfbGluayA9IF9yZXNvbHZlQ29tcG9uZW50KCJyb3V0ZXItbGluayIpOwoKICB2YXIgX2NvbXBvbmVudF9taV9yZWNvbW1lbmQgPSBfcmVzb2x2ZUNvbXBvbmVudCgibWktcmVjb21tZW5kIik7CgogIHZhciBfY29tcG9uZW50X3BhZ2VfZm9vdGVyID0gX3Jlc29sdmVDb21wb25lbnQoInBhZ2UtZm9vdGVyIik7CgogIHJldHVybiBfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soImRpdiIsIF9ob2lzdGVkXzEsIFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9taV90aXRsZSwgewogICAgdGl0bGU6ICLllYblk4HliJfooagiCiAgfSksIF9jcmVhdGVDb21tZW50Vk5vZGUoIiA8ZGl2IHYtaWY9XCJsb2FkaW5nXCI+XHJcbiAgICAgIDxzcGFuPkxvYWRpbmcgLiAuIC48L3NwYW4+XHJcbiAgICA8L2Rpdj4gIiksIF9jcmVhdGVDb21tZW50Vk5vZGUoIiA8ZGl2IHYtZWxzZSBjbGFzcz1cImFwcC12aWV3LXdyYXBwZXJcIj4gIiksIF9jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzIsIFtfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF8zLCBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgib2wiLCBudWxsLCBbKF9vcGVuQmxvY2sodHJ1ZSksIF9jcmVhdGVFbGVtZW50QmxvY2soX0ZyYWdtZW50LCBudWxsLCBfcmVuZGVyTGlzdCgkZGF0YS5jb21tb2RpdHlMaXN0LCBmdW5jdGlvbiAobGlzdCkgewogICAgcmV0dXJuIF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKF9jb21wb25lbnRfcm91dGVyX2xpbmssIHsKICAgICAgdGFnOiAibGkiLAogICAgICBrZXk6IGxpc3QucHJvZHVjdF9pZCwKICAgICAgdG86IHsKICAgICAgICBuYW1lOiAnZGV0YWlsJywKICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgIGlkOiBsaXN0LnByb2R1Y3RfaWQKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGNsYXNzOiAiaXRlbSB1aS1mbGV4IGFsaWduLWNlbnRlciIKICAgIH0sIHsKICAgICAgZGVmYXVsdDogX3dpdGhDdHgoZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgiYSIsIF9ob2lzdGVkXzQsIFtfY3JlYXRlRWxlbWVudFZOb2RlKCJpbWciLCB7CiAgICAgICAgICBzcmM6IGxpc3QuaW1nX3VybCwKICAgICAgICAgIGxhenk6ICJsb2FkZWQiCiAgICAgICAgfSwgbnVsbCwgOAogICAgICAgIC8qIFBST1BTICovCiAgICAgICAgLCBfaG9pc3RlZF81KSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgic3BhbiIsIG51bGwsIFtfY3JlYXRlRWxlbWVudFZOb2RlKCJpbWciLCB7CiAgICAgICAgICBzcmM6IGxpc3QuaWNvbl9pbWcsCiAgICAgICAgICBsYXp5OiAibG9hZGVkIgogICAgICAgIH0sIG51bGwsIDgKICAgICAgICAvKiBQUk9QUyAqLwogICAgICAgICwgX2hvaXN0ZWRfNildKV0pLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF83LCBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfOCwgW19jcmVhdGVFbGVtZW50Vk5vZGUoInAiLCBudWxsLCBfdG9EaXNwbGF5U3RyaW5nKGxpc3QubmFtZSksIDEKICAgICAgICAvKiBURVhUICovCiAgICAgICAgKV0pLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF85LCBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgicCIsIHsKICAgICAgICAgIGlubmVySFRNTDogbGlzdC5wcm9kdWN0X2Rlc2MKICAgICAgICB9LCBudWxsLCA4CiAgICAgICAgLyogUFJPUFMgKi8KICAgICAgICAsIF9ob2lzdGVkXzEwKV0pLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF8xMSwgW19jcmVhdGVFbGVtZW50Vk5vZGUoInNwYW4iLCBfaG9pc3RlZF8xMiwgIiDCoCIgKyBfdG9EaXNwbGF5U3RyaW5nKGxpc3QucHJpY2UpLCAxCiAgICAgICAgLyogVEVYVCAqLwogICAgICAgICldKV0pXTsKICAgICAgfSksCiAgICAgIF86IDIKICAgICAgLyogRFlOQU1JQyAqLwoKICAgIH0sIDEwMzIKICAgIC8qIFBST1BTLCBEWU5BTUlDX1NMT1RTICovCiAgICAsIFsidG8iXSk7CiAgfSksIDEyOAogIC8qIEtFWUVEX0ZSQUdNRU5UICovCiAgKSldKSwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfbWlfcmVjb21tZW5kKV0pXSksIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X3BhZ2VfZm9vdGVyKV0pOwp9"},{"version":3,"sources":["/Volumes/HD/xiaoMi/FE/xiaomi-mall-mobile/src/views/MiList.vue"],"names":[],"mappings":";;;;;;AACO,EAAA,KAAK,EAAC;;;AAQJ,EAAA,KAAK,EAAC;;;AACJ,EAAA,KAAK,EAAC;;;AASF,EAAA,KAAK,EAAC;;;;;AAYJ,EAAA,KAAK,EAAC;;;AACJ,EAAA,KAAK,EAAC;;;AAGN,EAAA,KAAK,EAAC;;;;AAGN,EAAA,KAAK,EAAC;;;AACH,EAAA,KAAK,EAAC;;;;;;;;;;;;;;uBAtC1B,mBAAA,CAkDM,KAlDN,EAAA,UAAA,EAkDM,CAjDJ,YAAA,CAAwB,mBAAxB,EAAwB;AAAd,IAAA,KAAK,EAAC;AAAQ,GAAxB,CAiDI,EA/CJ,mBAAA,CAAA,4EAAA,CA+CI,EA3CJ,mBAAA,CAAA,2CAAA,CA2CI,EA1CJ,mBAAA,CAwCM,KAxCN,EAAA,UAAA,EAwCM,CAvCJ,mBAAA,CAsCM,KAtCN,EAAA,UAAA,EAsCM,CArCJ,mBAAA,CAkCK,IAlCL,EAkCK,IAlCL,EAkCK,E,kBAjCH,mBAAA,CAgCc,SAhCd,EAgCc,IAhCd,EAgCc,WAAA,CA9BG,KAAA,CAAA,aA8BH,EA9BgB,UAArB,IAAqB,EAAjB;yBAFb,YAAA,CAgCc,sBAhCd,EAgCc;AA/BZ,MAAA,GAAG,EAAC,IA+BQ;AA7BX,MAAA,GAAG,EAAE,IAAI,CAAC,UA6BC;AA5BX,MAAA,EAAE,EAAA;AAAA,QAAA,IAAA,EAAA,QAAA;AAAA,QAAA,MAAA,EAAA;AAAA,UAAA,EAAA,EAAgC,IAAI,CAAC;AAArC;AAAA,OA4BS;AA3BZ,MAAA,KAAK,EAAC;AA2BM,KAhCd,E;wBAOE;AAAA,eAWI,CAXJ,mBAAA,CAWI,GAXJ,EAAA,UAAA,EAWI,CAVF,mBAAA,CAGE,KAHF,EAGE;AAFC,UAAA,GAAG,EAAE,IAAI,CAAC,OAEX;AADA,UAAA,IAAI,EAAC;AACL,SAHF,E,IAAA,E;;AAAA,U,UAAA,CAUE,EANF,mBAAA,CAKO,MALP,EAKO,IALP,EAKO,CAJL,mBAAA,CAGE,KAHF,EAGE;AAFC,UAAA,GAAG,EAAE,IAAI,CAAC,QAEX;AADA,UAAA,IAAI,EAAC;AACL,SAHF,E,IAAA,E;;AAAA,U,UAAA,CAIK,CALP,CAME,CAXJ,CAWI,EACJ,mBAAA,CAYM,KAZN,EAAA,UAAA,EAYM,CAXJ,mBAAA,CAEM,KAFN,EAAA,UAAA,EAEM,CADJ,mBAAA,CAAoB,GAApB,EAAoB,IAApB,EAAoB,gBAAA,CAAf,IAAI,CAAC,IAAU,CAApB,EAAc;AAAA;AAAd,SACI,CAFN,CAWI,EARJ,mBAAA,CAEM,KAFN,EAAA,UAAA,EAEM,CADJ,mBAAA,CAAgC,GAAhC,EAAgC;AAA7B,UAAA,SAA0B,EAAlB,IAAI,CAAC;AAAgB,SAAhC,E,IAAA,E;;AAAA,U,WAAA,CACI,CAFN,CAQI,EALJ,mBAAA,CAIM,KAJN,EAAA,WAAA,EAIM,CAHJ,mBAAA,CAEO,MAFP,EAAA,WAAA,EAAoB,OACZ,gBAAA,CAAE,IAAI,CAAC,KAAP,CADR,EACoB;AAAA;AADpB,SAGI,CAJN,CAKI,CAZN,CADI,CAXJ;AAAA,O;;;;KAPF,E;;AAAA,M,MAAA,C;GAgCc,CAhCd,E;;AAAA,GAiCG,EAlCL,CAqCI,EADJ,YAAA,CAAgB,uBAAhB,CACI,CAtCN,CAuCI,CAxCN,CA0CI,EADJ,YAAA,CAAc,sBAAd,CACI,CAlDN,C","sourcesContent":["<template>\r\n  <div class=\"app-shell\">\r\n    <mi-title title=\"商品列表\"/>\r\n\r\n    <!-- <div v-if=\"loading\">\r\n      <span>Loading . . .</span>\r\n    </div> -->\r\n\r\n    <!-- <div v-else class=\"app-view-wrapper\"> -->\r\n    <div class=\"app-view-wrapper\">\r\n      <div class=\"app-view app-view-with-header app-view-with-footer\">\r\n        <ol>\r\n          <router-link\r\n            tag=\"li\"\r\n            v-for=\"list in commodityList\"\r\n            :key=\"list.product_id\"\r\n            :to=\"{name: 'detail', params: {id: list.product_id}}\"\r\n            class=\"item ui-flex align-center\"\r\n          >\r\n            <a class=\"item-img exposure\">\r\n              <img\r\n                :src=\"list.img_url\"\r\n                lazy=\"loaded\"\r\n              />\r\n              <span>\r\n                <img\r\n                  :src=\"list.icon_img\"\r\n                  lazy=\"loaded\"\r\n                />\r\n              </span>\r\n            </a>\r\n            <div class=\"item-intro box-flex flex\">\r\n              <div class=\"item-name flex\">\r\n                <p>{{list.name}}</p>\r\n              </div>\r\n              <div class=\"item-brief flex\">\r\n                <p v-html=\"list.product_desc\" />\r\n              </div>\r\n              <div class=\"item-intro-price flex\">\r\n                <span class=\"price\">\r\n                  &nbsp;{{list.price}}\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </router-link>\r\n        </ol>\r\n\r\n        <mi-recommend />\r\n      </div>\r\n    </div>\r\n    <page-footer/>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getCommodityById } from '@/api/category'\r\n// import MiSearch from '@/components/MiTitle.vue'\r\n// import bus from '@/util/bus.js'\r\nimport MiRecommend from '@/components/MiRecommend.vue'\r\nimport DOMPurify from 'dompurify'\r\nimport MiTitle from '@/components/MiTitle.vue'\r\n// import PageFooter from '@/components/PageFooter.vue'\r\n\r\nexport default {\r\n  components: {\r\n    // MiSearch,\r\n    MiRecommend,\r\n    MiTitle\r\n    // PageFooter\r\n  },\r\n  data() {\r\n    return {\r\n      commodityList: null\r\n      // loading: true\r\n    }\r\n  },\r\n  beforeRouteEnter(to, from, next) {\r\n    if(from.name) {\r\n      getCommodityById({\r\n        category_id: to.params.id\r\n      }).then(res => {\r\n        if(res.code === 200) {\r\n          next(vm => vm.setList(res.data.list))\r\n        }\r\n      })\r\n    } else {\r\n      next(vm => vm.fetchCommodityById())\r\n    }\r\n  },\r\n  // created() {\r\n  //   this.fetchCommodityById({\r\n  //     category_id: this.$route.params.id\r\n  //   })\r\n  // },\r\n  destoryed() {\r\n    this.$NProgress.remove()\r\n  },\r\n  methods: {\r\n    setList(list) {\r\n      this.$NProgress.done()\r\n      list.forEach(item => {\r\n        item.product_desc = DOMPurify.sanitize(item.product_desc)\r\n      })\r\n      this.commodityList = list\r\n      // this.loading = false\r\n      // bus.emit('loading', false)\r\n      this.$store.commit('setViewLoading', false)\r\n    },\r\n    async fetchCommodityById() {\r\n      await getCommodityById({\r\n        category_id: this.$route.params.id\r\n      }).then(res => {\r\n        if(res.code === 200) {\r\n          this.setList(res.data.list)\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.item:not(:last-child) {\r\n  padding: 0 0 3px;\r\n  position: relative;\r\n}\r\n\r\n.item:not(:last-child)::after {\r\n  content: \"\";\r\n  position: absolute;\r\n  bottom: 1px;\r\n  left: 1px;\r\n  right: 1px;\r\n  border-bottom: 1px solid #e4e4e4;\r\n}\r\n\r\n.item-img {\r\n  position: relative;\r\n  width: 156px;\r\n  height: 156px;\r\n  text-align: center;\r\n  display: block;\r\n\r\n  img {\r\n    width: auto;\r\n    height: 100%;\r\n  }\r\n\r\n  span {\r\n    display: block;\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    width: 78px;\r\n  }\r\n}\r\n\r\n.item-img span img {\r\n  width: auto;\r\n  height: 16px;\r\n}\r\n\r\n.item-intro {\r\n  display: block;\r\n  padding: 0 16px 4px;\r\n  width: 185px;\r\n  box-sizing: border-box;\r\n  text-align: left;\r\n\r\n  .item-name {\r\n    font-size: 16px;\r\n    color: rgba(0,0,0,.87);\r\n    margin-bottom: 8px;\r\n  }\r\n\r\n  .item-brief {\r\n    font-size: 12px;\r\n    color: rgba(0,0,0,.54);\r\n    margin-bottom: 8px;\r\n    line-height: 16px;\r\n    height: 32px;\r\n    overflow: hidden;\r\n\r\n    p {\r\n      text-overflow: ellipsis;\r\n      overflow: hidden;\r\n      -webkit-line-clamp: 2;\r\n      -webkit-box-orient: vertical;\r\n      word-break: break-all;\r\n    }\r\n  }\r\n\r\n  span {\r\n    color: #ff6000;\r\n  }\r\n}\r\n\r\n// .price {\r\n//   position: relative;\r\n//   padding-left: 8px;\r\n//   line-height: 18px;\r\n// }\r\n\r\n// .price:before {\r\n//   content: \"\\A5\";\r\n//   position: absolute;\r\n//   left: 0;\r\n//   top: 0;\r\n//   font-size: 16px;\r\n//   text-decoration: none;\r\n// }\r\n</style>\r\n"],"sourceRoot":""}]}