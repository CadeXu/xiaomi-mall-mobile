{"remainingRequest":"/Volumes/HD/xiaoMi/FE/xiaomi-mall-mobile/node_modules/babel-loader/lib/index.js!/Volumes/HD/xiaoMi/FE/xiaomi-mall-mobile/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Volumes/HD/xiaoMi/FE/xiaomi-mall-mobile/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Volumes/HD/xiaoMi/FE/xiaomi-mall-mobile/src/views/MiHome.vue?vue&type=script&lang=js","dependencies":[{"path":"/Volumes/HD/xiaoMi/FE/xiaomi-mall-mobile/src/views/MiHome.vue","mtime":1637192875812},{"path":"/Volumes/HD/xiaoMi/FE/xiaomi-mall-mobile/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/HD/xiaoMi/FE/xiaomi-mall-mobile/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Volumes/HD/xiaoMi/FE/xiaomi-mall-mobile/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/HD/xiaoMi/FE/xiaomi-mall-mobile/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000},{"path":"/Volumes/HD/xiaoMi/FE/xiaomi-mall-mobile/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/HD/xiaoMi/FE/xiaomi-mall-mobile/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Volumes/HD/xiaoMi/FE/xiaomi-mall-mobile/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/HD/xiaoMi/FE/xiaomi-mall-mobile/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgZ2V0TmF2TGlzdCBhcyBfZ2V0TmF2TGlzdCwgZ2V0VGFiUGFnZUJ5SWQgYXMgX2dldFRhYlBhZ2VCeUlkIH0gZnJvbSAnQC9hcGkvaG9tZSc7CmltcG9ydCBTd2lwZXIgZnJvbSAnc3dpcGVyL3N3aXBlci1idW5kbGUnOwppbXBvcnQgJ3N3aXBlci9zd2lwZXItYnVuZGxlLmNzcyc7IC8vIGltcG9ydCBidXMgZnJvbSAnQC91dGlsL2J1cy5qcycKLy8gaW1wb3J0IFBhZ2VGb290ZXIgZnJvbSAnQC9jb21wb25lbnRzL1BhZ2VGb290ZXIudnVlJwoKZXhwb3J0IGRlZmF1bHQgewogIC8vIGNvbXBvbmVudHM6IHsKICAvLyAgIC8vIHVzZSBtaXhpbiB0byBpbnRyb2R1Y2UKICAvLyAgIFBhZ2VGb290ZXIKICAvLyB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBuYXZMaXN0OiBbXSwKICAgICAgY3VySW5kZXg6IDAsCiAgICAgIHNsaWRlc1BlclZpZXc6IDYsCiAgICAgIHN3aXBlcjogbnVsbCwKICAgICAgdHJhbnNpdGlvbk5hbWU6ICcnCiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuZ2V0TmF2TGlzdCgpOwogIH0sCiAgLy8gd2l0aGRyYXcKICBkZXN0b3J5ZWQ6IGZ1bmN0aW9uIGRlc3RvcnllZCgpIHsKICAgIGlmIChBcnJheS5pc0FycmF5KHRoaXMuc3dpcGVyKSkgewogICAgICB0aGlzLnN3aXBlci5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgaXRlbS5kZXN0b3J5KCk7CiAgICAgIH0pOwogICAgfSBlbHNlIHsKICAgICAgdGhpcy5zd2lwZXIuZGVzdG9yeSgpOwogICAgfQoKICAgIHRoaXMuJE5Qcm9ncmVzcy5yZW1vdmUoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGdldE5hdkxpc3Q6IGZ1bmN0aW9uIGdldE5hdkxpc3QoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBfZ2V0TmF2TGlzdCgpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGlmIChyZXMuc3RhdHVzID09PSAyMDApIHsKICAgICAgICAgIC8vIGJ1cy5lbWl0KCdsb2FkaW5nJywgZmFsc2UpCiAgICAgICAgICByZXMuZGF0YS5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgIGl0ZW0uaGFzRGF0YSA9IGZhbHNlOwogICAgICAgICAgfSk7CiAgICAgICAgICBfdGhpcy5uYXZMaXN0ID0gcmVzLmRhdGE7CgogICAgICAgICAgX3RoaXMuZ2V0VGFiUGFnZUJ5SWQoKTsgLy8gdGhpcy5zd2lwZXIgPSBuZXcgU3dpcGVyKCcuc3dpcGVyLWNvbnRhaW5lcicsIHsKICAgICAgICAgIC8vICAgc2xpZGVzUGVyVmlldzogdGhpcy5zbGlkZXNQZXJWaWV3LAogICAgICAgICAgLy8gICBmcmVlTW9kZTogdHJ1ZQogICAgICAgICAgLy8gfSkKCgogICAgICAgICAgX3RoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgX3RoaXMuc3dpcGVyID0gbmV3IFN3aXBlcignLnN3aXBlci1jb250YWluZXInLCB7CiAgICAgICAgICAgICAgc2xpZGVzUGVyVmlldzogX3RoaXMuc2xpZGVzUGVyVmlldywKICAgICAgICAgICAgICBmcmVlTW9kZTogdHJ1ZQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgaGFuZGxlQ2hhbmdlSW5kZXg6IGZ1bmN0aW9uIGhhbmRsZUNoYW5nZUluZGV4KGluZGV4KSB7CiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wYWdlLXdyYXAnKS5zY3JvbGxUbygwLCAwKTsKICAgICAgdGhpcy50cmFuc2l0aW9uTmFtZSA9IGluZGV4ID4gdGhpcy5jdXJJbmRleCA/ICdwYWdlLWxlZnQnIDogJ3BhZ2UtcmlnaHQnOwogICAgICB0aGlzLmN1ckluZGV4ID0gaW5kZXg7CiAgICAgIHZhciB0b0luZGV4ID0gMDsKCiAgICAgIGlmIChpbmRleCA+IHRoaXMuc2xpZGVzUGVyVmlldyAvIDIpIHsKICAgICAgICB0b0luZGV4ID0gaW5kZXggLSB0aGlzLnNsaWRlc1BlclZpZXcgLyAyOwogICAgICB9CgogICAgICB0aGlzLnN3aXBlci5zbGlkZVRvKHRvSW5kZXgsIDUwMCwgZmFsc2UpOwogICAgICAhdGhpcy5uYXZMaXN0W3RoaXMuY3VySW5kZXhdLmhhc0RhdGEgJiYgdGhpcy5nZXRUYWJQYWdlQnlJZCgpOwogICAgfSwKICAgIGdldFRhYlBhZ2VCeUlkOiBmdW5jdGlvbiBnZXRUYWJQYWdlQnlJZCgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICBfZ2V0VGFiUGFnZUJ5SWQoewogICAgICAgIHBhZ2VJZDogdGhpcy5uYXZMaXN0W3RoaXMuY3VySW5kZXhdLnBhZ2VJZAogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAvLyBpZihyZXMuc3RhdHVzID09PSAyMDApIHsKICAgICAgICBfdGhpczIubmF2TGlzdFtfdGhpczIuY3VySW5kZXhdLmhhc0RhdGEgPSB0cnVlOwoKICAgICAgICBfdGhpczIuJE5Qcm9ncmVzcy5kb25lKCk7IC8vIH0KICAgICAgICAvLyB0cmlnZ2VyIHRoZSBtdXRhdGlvbgoKCiAgICAgICAgX3RoaXMyLiRzdG9yZS5jb21taXQoJ3NldFZpZXdMb2FkaW5nJywgZmFsc2UpOwogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["/Volumes/HD/xiaoMi/FE/xiaomi-mall-mobile/src/views/MiHome.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"app-shell\">\n    <div class=\"app-view-wrapper\">\n      <div class=\"app-view\">\n        <header class=\"header\">\n          <div class=\"app-header-wrapper\">\n            <div class=\"app-header-left\">\n              <div class=\"app-header-item\">\n                <img src=\"@/assets/images/miLogo.png\" alt=\"No Images\"/>\n              </div>\n            </div>\n            <div class=\"app-header-middle\">\n              <div class=\"app-header-title\">\n                <i class=\"iconfont icon-Search\" />\n                &nbsp;&nbsp;<span>搜索商品名称</span>\n              </div>\n            </div>\n            <div class=\"app-header-right\">\n              <div class=\"app-header-item\" @click=\"$router.push('user')\">\n                <i class=\"iconfont icon-people\" />\n              </div>\n            </div>\n          </div>\n\n          <div class=\"nav swiper-container\">\n            <div v-if=\"navList&&navList.length\" class=\"swiper-wrapper\">\n              <div\n                v-for=\"(navItem, index) in navList\"\n                :key=\"navItem.pageId\"\n                class=\"nav-item swiper-slide\"\n                @click=\"handleChangeIndex(index)\"\n              >\n                <span :class=\"{'nav-active': curIndex == index}\">{{navItem.name}}</span>\n              </div>\n            </div>\n          </div>\n        </header>\n\n        <transition-group class=\"page-wrap\" tag=\"div\" :name=\"transitionName\">\n          <div\n            v-for=\"(nav, index) in navList\"\n            :key=\"nav.pageId\"\n            v-show=\"index === curIndex\"\n            class=\"bodys\"\n          >\n            {{nav.name}}\n          </div>\n        </transition-group>\n      </div>\n    </div>\n    <page-footer/>\n  </div>\n</template>\n\n<script>\nimport { getNavList, getTabPageById } from '@/api/home'\nimport Swiper from 'swiper/swiper-bundle'\nimport 'swiper/swiper-bundle.css'\n// import bus from '@/util/bus.js'\n// import PageFooter from '@/components/PageFooter.vue'\n\nexport default {\n  // components: {\n  //   // use mixin to introduce\n  //   PageFooter\n  // },\n  data() {\n    return {\n      navList: [],\n      curIndex: 0,\n      slidesPerView: 6,\n      swiper: null,\n      transitionName: ''\n    }\n  },\n  created() {\n    this.getNavList()\n  },\n  // withdraw\n  destoryed() {\n    if(Array.isArray(this.swiper)) {\n      this.swiper.forEach(item => {\n        item.destory()\n      })\n    } else {\n      this.swiper.destory()\n    }\n    this.$NProgress.remove()\n  },\n  methods: {\n    getNavList() {\n      getNavList().then(res => {\n        if(res.status === 200) {\n          // bus.emit('loading', false)\n\n          res.data.forEach(item => {\n            item.hasData = false\n          })\n\n          this.navList = res.data\n          this.getTabPageById()\n          // this.swiper = new Swiper('.swiper-container', {\n          //   slidesPerView: this.slidesPerView,\n          //   freeMode: true\n          // })\n\n          this.$nextTick(() => {\n            this.swiper = new Swiper('.swiper-container', {\n              slidesPerView: this.slidesPerView,\n              freeMode: true\n            })\n          })\n        }\n      })\n    },\n    handleChangeIndex(index) {\n      document.querySelector('.page-wrap').scrollTo(0, 0)\n      this.transitionName = index > this.curIndex ? 'page-left' : 'page-right'\n      this.curIndex = index\n      let toIndex = 0\n      if(index > this.slidesPerView / 2) {\n        toIndex = index - this.slidesPerView / 2\n      }\n      this.swiper.slideTo(toIndex, 500, false)\n      !this.navList[this.curIndex].hasData && this.getTabPageById()\n    },\n    getTabPageById() {\n      getTabPageById({ pageId: this.navList[this.curIndex].pageId }).then(res => {\n        // if(res.status === 200) {\n        this.navList[this.curIndex].hasData = true\n        this.$NProgress.done()\n        // }\n\n        // trigger the mutation\n        this.$store.commit('setViewLoading', false)\n      })\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n// .app-view {\n//   position: absolute;\n//   z-index: 999;\n//   top: 0;\n//   right: 0;\n//   bottom: 0;\n//   left: 0;\n//   /* height: 100%; */\n//   // overflow-x: hidden;\n//   // overflow-y: auto;\n//   will-change: transform;\n//   background: #fff;\n//   color: #3c3c3c;\n//   padding-bottom: 52px;\n// }\n\n.header {\n  position: fixed;\n  top: -1px;\n  left: 0;\n  right: 0;\n  z-index: 99;\n  box-shadow: 0 2px 4px -1px rgba(0,0,0,.2);\n  background: #f2f2f2;\n\n  // .app-header-wrapper, .app-header-wrapper>div {\n  //   display: flex;\n  //   align-items: center;\n  // }\n\n  .app-header-wrapper {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    height: 50px;\n    background: #f2f2f2;\n    color: #666;\n    padding: 0;\n\n    .app-header-middle {\n      flex: 1;\n\n      .app-header-title {\n        display: flex;\n        justify-content: flex-start;\n        align-items: center;\n        border: 1px solid #e5e5e5;\n        text-align: left;\n        // width: 100%;\n        color: rgba(0,0,0,.3);\n        background-color: #fff;\n        border-radius: 4px;\n        height: 32px;\n        padding-left: 12px;\n      }\n    }\n\n    .app-header-item {\n      display: block;\n      width: 32px;\n      margin: 0 10px;\n\n      img {\n        width: 90%;\n      }\n    }\n  }\n\n  .nav {\n    // overflow-x: auto;\n    overflow-x: hidden;\n    background: #f2f2f2;\n    font-size: 14px;\n    white-space: nowrap;\n    z-index: 2;\n\n    .nav-item {\n      display: inline-block;\n      padding: 0 14px;\n      width: auto !important;\n\n      span {\n        display: inline-block;\n        line-height: 32px;\n        border-bottom: 2px solid rgba(237, 91, 0, 0);\n        color: rgb(116, 116, 116);\n        border-color: rgb(242, 242, 242);\n      }\n\n      .nav-active {\n        color: rgb(237,91,0);\n        border-color: rgb(237,91,0);\n      }\n    }\n  }\n}\n\n.page-wrap {\n  position: relative;\n  height: 100%;\n  overflow-x: hidden;\n  overflow-y: auto;\n\n  .bodys {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    background: rgba(237, 91, 0, 0.1);\n    height: 670px;\n    line-height: 670px;\n    font-size: 50px;\n  }\n}\n\n// .page-left-enter,\n// .page-right-leave-to {\n//   transform: translateX(100%);\n// }\n// .page-left-enter-active,\n// .page-left-leave-active,\n// .page-right-enter-active,\n// .page-right-leave-active {\n//   transition: all .5s;\n// }\n\n// .page-left-enter-to,\n// .page-right-leave,\n// .page-left-leave,\n// .page-right-enter-to {\n//   transform: translateX(0);\n// }\n\n// .page-left-leave-to,\n// .page-right-enter {\n//   transform: translateX(-100%);\n// }\n</style>\n"],"sourceRoot":""}]}