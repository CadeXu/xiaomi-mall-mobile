{"remainingRequest":"/Users/apple/xiaoMi/FE/xiaomi-mall-mobile/node_modules/babel-loader/lib/index.js!/Users/apple/xiaoMi/FE/xiaomi-mall-mobile/node_modules/eslint-loader/index.js??ref--13-0!/Users/apple/xiaoMi/FE/xiaomi-mall-mobile/src/store/index.js","dependencies":[{"path":"/Users/apple/xiaoMi/FE/xiaomi-mall-mobile/src/store/index.js","mtime":1637931852039},{"path":"/Users/apple/xiaoMi/FE/xiaomi-mall-mobile/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/apple/xiaoMi/FE/xiaomi-mall-mobile/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/apple/xiaoMi/FE/xiaomi-mall-mobile/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgY3JlYXRlU3RvcmUgfSBmcm9tICd2dWV4JzsKaW1wb3J0IHsgZmV0Y2hVc2VySW5mbyB9IGZyb20gJ0AvYXBpL3VzZXInOyAvLyByZWZlciBhZGRyZXNzIG1vZHVsZQoKaW1wb3J0IGFkZHJlc3MgZnJvbSAnLi9tb2R1bGVzL2FkZHJlc3MuanMnOwppbXBvcnQgY2FydCBmcm9tICcuL21vZHVsZXMvY2FydCc7CmV4cG9ydCBkZWZhdWx0IGNyZWF0ZVN0b3JlKHsKICBzdGF0ZTogewogICAgdmlld0xvYWRpbmc6IGZhbHNlLAogICAgdHJhbnNpdGlvbk5hbWU6ICdwYWdlLWxlZnQnLAogICAgdXNlckluZm86IG51bGwKICB9LAogIC8vIGxpa2UgY29tcHV0ZWQKICBnZXR0ZXJzOiB7CiAgICBpc0xvZ2luOiBmdW5jdGlvbiBpc0xvZ2luKHN0YXRlKSB7CiAgICAgIHJldHVybiAhIXN0YXRlLnVzZXJJbmZvOwogICAgfQogIH0sCiAgLy8gc3luY2hyb25pemF0aW9uCiAgbXV0YXRpb25zOiB7CiAgICBzZXRWaWV3TG9hZGluZzogZnVuY3Rpb24gc2V0Vmlld0xvYWRpbmcoc3RhdGUsIHZhbHVlKSB7CiAgICAgIHN0YXRlLnZpZXdMb2FkaW5nID0gdmFsdWU7CiAgICB9LAogICAgc2V0VHJhbnNpdGlvbk5hbWU6IGZ1bmN0aW9uIHNldFRyYW5zaXRpb25OYW1lKHN0YXRlLCB2YWx1ZSkgewogICAgICBzdGF0ZS50cmFuc2l0aW9uTmFtZSA9IHZhbHVlOwogICAgfSwKICAgIHNldFVzZXJJbmZvOiBmdW5jdGlvbiBzZXRVc2VySW5mbyhzdGF0ZSwgdmFsdWUpIHsKICAgICAgc3RhdGUudXNlckluZm8gPSB2YWx1ZTsKICAgIH0KICB9LAogIC8vIGFzeW5jaHJvbml6YXRpb24KICAvLyBnbG9iYWwgcHJvY2Vzc2luZwogIC8vIE5vcm1hbGx5LCBpdCdzIG5vdCBnbG9iYWwsIHdpbGwgcHJvY2VzcyBpbiBldmVyeSBwYWdlCiAgYWN0aW9uczogewogICAgLy8gY29udGV4dCA8PT0+IHN0b3JlIGluc3RhbmNlIDw9PT4gdGhpcy4kc3RvcmUKICAgIC8vIGdldFVzZXJJbmZvKGNvbnRleHQpIHsKICAgIC8vICAgZmV0Y2hVc2VySW5mbygpLnRoZW4ocmVzID0+IHsKICAgIC8vICAgICBpZihyZXMuc3RhdHVzID09PSAyMDApIHsKICAgIC8vICAgICAgIGNvbnRleHQuY29tbWl0KCdzZXRVc2VySW5mbycsIHJlcy5kYXRhLnVzZXIpCiAgICAvLyAgICAgfQogICAgLy8gICB9KQogICAgLy8gfQogICAgLy8gc2hvcnQgaGFuZCAtLT4gcGFyYW1ldGVyIGFzc2lnbm1lbnQKICAgIC8vIEFzeW5jaHJvbm91cyBleGVjdXRpb24gY2F1c2UgZ2V0IGRhdGEgbGF0ZXIgdXNpbmcKICAgIC8vIFVzZSB3YXRjaAogICAgZ2V0VXNlckluZm86IGZ1bmN0aW9uIGdldFVzZXJJbmZvKF9yZWYpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWYuY29tbWl0OwogICAgICBmZXRjaFVzZXJJbmZvKCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgaWYgKHJlcy5zdGF0dXMgPT09IDIwMCkgewogICAgICAgICAgY29tbWl0KCdzZXRVc2VySW5mbycsIHJlcy5kYXRhLnVzZXIpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfSwKICBtb2R1bGVzOiB7CiAgICAvLyByZWZlciBhZGRyZXNzIG1vZHVsZQogICAgYWRkcmVzczogYWRkcmVzcywKICAgIGNhcnQ6IGNhcnQKICB9Cn0pOw=="},{"version":3,"sources":["/Users/apple/xiaoMi/FE/xiaomi-mall-mobile/src/store/index.js"],"names":["createStore","fetchUserInfo","address","cart","state","viewLoading","transitionName","userInfo","getters","isLogin","mutations","setViewLoading","value","setTransitionName","setUserInfo","actions","getUserInfo","commit","then","res","status","data","user","modules"],"mappings":"AAAA,SAASA,WAAT,QAA4B,MAA5B;AACA,SAASC,aAAT,QAA8B,YAA9B,C,CACA;;AACA,OAAOC,OAAP,MAAoB,sBAApB;AACA,OAAOC,IAAP,MAAiB,gBAAjB;AAEA,eAAeH,WAAW,CAAC;AACzBI,EAAAA,KAAK,EAAE;AACLC,IAAAA,WAAW,EAAE,KADR;AAELC,IAAAA,cAAc,EAAE,WAFX;AAGLC,IAAAA,QAAQ,EAAE;AAHL,GADkB;AAMzB;AACAC,EAAAA,OAAO,EAAE;AACPC,IAAAA,OAAO,EAAE,iBAAAL,KAAK,EAAI;AAChB,aAAO,CAAC,CAACA,KAAK,CAACG,QAAf;AACD;AAHM,GAPgB;AAYzB;AACAG,EAAAA,SAAS,EAAE;AACTC,IAAAA,cADS,0BACMP,KADN,EACaQ,KADb,EACoB;AAC3BR,MAAAA,KAAK,CAACC,WAAN,GAAoBO,KAApB;AACD,KAHQ;AAITC,IAAAA,iBAJS,6BAIST,KAJT,EAIgBQ,KAJhB,EAIuB;AAC9BR,MAAAA,KAAK,CAACE,cAAN,GAAuBM,KAAvB;AACD,KANQ;AAOTE,IAAAA,WAPS,uBAOGV,KAPH,EAOUQ,KAPV,EAOiB;AACxBR,MAAAA,KAAK,CAACG,QAAN,GAAiBK,KAAjB;AACD;AATQ,GAbc;AAwBzB;AACA;AACA;AACAG,EAAAA,OAAO,EAAE;AACP;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACAC,IAAAA,WAdO,6BAciB;AAAA,UAAVC,MAAU,QAAVA,MAAU;AACtBhB,MAAAA,aAAa,GAAGiB,IAAhB,CAAqB,UAACC,GAAD,EAAS;AAC5B,YAAGA,GAAG,CAACC,MAAJ,KAAe,GAAlB,EAAuB;AACrBH,UAAAA,MAAM,CAAC,aAAD,EAAgBE,GAAG,CAACE,IAAJ,CAASC,IAAzB,CAAN;AACD;AACF,OAJD;AAKD;AApBM,GA3BgB;AAiDzBC,EAAAA,OAAO,EAAE;AACP;AACArB,IAAAA,OAAO,EAAPA,OAFO;AAGPC,IAAAA,IAAI,EAAJA;AAHO;AAjDgB,CAAD,CAA1B","sourcesContent":["import { createStore } from 'vuex'\nimport { fetchUserInfo } from '@/api/user'\n// refer address module\nimport address from './modules/address.js'\nimport cart from './modules/cart'\n\nexport default createStore({\n  state: {\n    viewLoading: false,\n    transitionName: 'page-left',\n    userInfo: null\n  },\n  // like computed\n  getters: {\n    isLogin: state => {\n      return !!state.userInfo\n    }\n  },\n  // synchronization\n  mutations: {\n    setViewLoading(state, value) {\n      state.viewLoading = value\n    },\n    setTransitionName(state, value) {\n      state.transitionName = value\n    },\n    setUserInfo(state, value) {\n      state.userInfo = value\n    }\n  },\n  // asynchronization\n  // global processing\n  // Normally, it's not global, will process in every page\n  actions: {\n    // context <==> store instance <==> this.$store\n\n    // getUserInfo(context) {\n    //   fetchUserInfo().then(res => {\n    //     if(res.status === 200) {\n    //       context.commit('setUserInfo', res.data.user)\n    //     }\n    //   })\n    // }\n\n    // short hand --> parameter assignment\n    // Asynchronous execution cause get data later using\n    // Use watch\n    getUserInfo({ commit }) {\n      fetchUserInfo().then((res) => {\n        if(res.status === 200) {\n          commit('setUserInfo', res.data.user)\n        }\n      })\n    }\n  },\n  modules: {\n    // refer address module\n    address,\n    cart\n  }\n})\n"]}]}