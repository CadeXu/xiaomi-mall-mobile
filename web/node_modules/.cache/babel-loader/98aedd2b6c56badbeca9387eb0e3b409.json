{"remainingRequest":"/Volumes/HD/xiaoMi/FE/xiaomi-mall-mobile/node_modules/thread-loader/dist/cjs.js!/Volumes/HD/xiaoMi/FE/xiaomi-mall-mobile/node_modules/babel-loader/lib/index.js!/Volumes/HD/xiaoMi/FE/xiaomi-mall-mobile/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Volumes/HD/xiaoMi/FE/xiaomi-mall-mobile/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Volumes/HD/xiaoMi/FE/xiaomi-mall-mobile/src/components/MiSku.vue?vue&type=script&lang=js","dependencies":[{"path":"/Volumes/HD/xiaoMi/FE/xiaomi-mall-mobile/src/components/MiSku.vue","mtime":1637933488798},{"path":"/Volumes/HD/xiaoMi/FE/xiaomi-mall-mobile/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/HD/xiaoMi/FE/xiaomi-mall-mobile/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/HD/xiaoMi/FE/xiaomi-mall-mobile/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Volumes/HD/xiaoMi/FE/xiaomi-mall-mobile/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/HD/xiaoMi/FE/xiaomi-mall-mobile/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1ZvbHVtZXMvSEQveGlhb01pL0ZFL3hpYW9taS1tYWxsLW1vYmlsZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maW5kLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC1pbmRleC5qcyI7CmltcG9ydCB7IGRlZmF1bHRfZ29vZHNfaWQsIGJ1eV9vcHRpb24sIGdvb2RzX2luZm8gfSBmcm9tICdAL21vY2svc2t1LmpzJzsKaW1wb3J0IHsgbWFwTXV0YXRpb25zIH0gZnJvbSAndnVleCc7CmV4cG9ydCBkZWZhdWx0IHsKICBwcm9wczogewogICAgc2hvd1NLVTogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZSwKICAgICAgcmVxdWlyZTogdHJ1ZQogICAgfSwKICAgIHByb2R1Y3REYXRhOiB7CiAgICAgIHJlcXVpcmU6IHRydWUKICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBnb29kc0luZm86IG51bGwsCiAgICAgIHNlbGVjdGVkR29vZDogbnVsbCwKICAgICAgc2VydmljZUJhcmdpbnM6IG51bGwsCiAgICAgIGJ1eU9wdGlvbjogbnVsbAogICAgfTsKICB9LAogIHdhdGNoOiB7CiAgICAvLyBwcm9kdWN0RGF0YTogewogICAgLy8gICBkZWVwOiB0cnVlLAogICAgLy8gICBoYW5kbGVyKHZhbCkgewogICAgLy8gICAgIHRoaXMuaW5pdCgpCiAgICAvLyAgIH0KICAgIC8vIH0KICAgIHNlbGVjdGVkR29vZDogewogICAgICBkZWVwOiB0cnVlLAogICAgICBoYW5kbGVyOiBmdW5jdGlvbiBoYW5kbGVyKHZhbCkgewogICAgICAgIHRoaXMuJGVtaXQoJ3NlbGVjdFNLVScsIHZhbCk7CiAgICAgIH0KICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmluaXQoKTsKICB9LAogIG1ldGhvZHM6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgbWFwTXV0YXRpb25zKHsKICAgIGFkZENhcnRDb3VudDogJ2NhcnQvYWRkQ291bnQnCiAgfSkpLCB7fSwgewogICAgaW5pdDogZnVuY3Rpb24gaW5pdCgpIHsKICAgICAgLyoqIGh0dHAgKi8KICAgICAgLy8gbGV0IHByb2R1Y3REYXRhID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0aGlzLnByb2R1Y3REYXRhKSkKICAgICAgLy8gbGV0IHRlbXBHb29kc0luZm8gPSBwcm9kdWN0RGF0YS5nb29kc19pbmZvCiAgICAgIC8vIGNvbnN0IHRlbXBEZWZhdWx0R29vZHNJZCA9IHByb2R1Y3REYXRhLmRlZmF1bHRfZ29vZHNfaWQKICAgICAgLy8gbGV0IHRlbXBCdXlPcHRpb24gPSBwcm9kdWN0RGF0YS5idXlfb3B0aW9uCgogICAgICAvKiogTW9jayAqLwogICAgICB2YXIgdGVtcEdvb2RzSW5mbyA9IGdvb2RzX2luZm87CiAgICAgIHZhciB0ZW1wRGVmYXVsdEdvb2RzSWQgPSBkZWZhdWx0X2dvb2RzX2lkOwogICAgICB2YXIgdGVtcEJ1eU9wdGlvbiA9IGJ1eV9vcHRpb247CiAgICAgIC8qKgogICAgICAgKiBhZGQgc29tZSBwcm9wZXJ0eSB0byBvcmlnaW5hbCBkYXRhCiAgICAgICAqICBkZWZhdWx0IHB1cmNoYXNlIHF1YW50aXR5IDEKICAgICAgICogIHdoZXRoZXIgc2VsZWN0aW5nIHNlcnZpY2UKICAgICAgICogIGNvbnZlcnQgYnV5X2xpbWl0IHRvIGFuIGludGVnZXIKICAgICAgICovCgogICAgICB0ZW1wR29vZHNJbmZvLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICBpdGVtLmJ1eU51bWJlciA9IDE7CiAgICAgICAgaXRlbS5idXlfbGltaXQgPSBwYXJzZUludChpdGVtLmJ1eV9saW1pdCk7CiAgICAgICAgaXRlbS5zZXJ2aWNlX2JhcmdpbnMuZm9yRWFjaChmdW5jdGlvbiAobGlzdCkgewogICAgICAgICAgbGlzdC5zZXJ2aWNlX2luZm8uZm9yRWFjaChmdW5jdGlvbiAoaW5mbykgewogICAgICAgICAgICBpbmZvLnNlbGVjdGVkID0gZmFsc2U7CiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICAgIHRoaXMuZ29vZHNJbmZvID0gdGVtcEdvb2RzSW5mbzsgLy8gc2VsZWN0ZWQgZ29vZAoKICAgICAgdGhpcy5zZWxlY3RlZEdvb2QgPSB0aGlzLmdvb2RzSW5mby5maW5kKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIGl0ZW0uZ29vZHNfaWQgPT0gdGVtcERlZmF1bHRHb29kc0lkOwogICAgICB9KTsgLy8gYWRkIHNlbGVjdGVkU2VydmljZURlc2MgcHJvcGVydHkgdG8gc2VydmljZV9iYXJnaW5zIGRhdGEKCiAgICAgIHRoaXMuc2VsZWN0ZWRHb29kLnNlcnZpY2VfYmFyZ2lucy5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgaXRlbS5zZWxlY3RlZFNlcnZpY2VEZXNjID0gJyc7CiAgICAgIH0pOwogICAgICB0aGlzLnNlcnZpY2VCYXJnaW5zID0gdGhpcy5zZWxlY3RlZEdvb2Quc2VydmljZV9iYXJnaW5zOwogICAgICB0aGlzLnNlbGVjdGVkU0tVID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0aGlzLnNlbGVjdGVkR29vZC5wcm9wX2xpc3QpKTsKICAgICAgLyoqCiAgICAgICAqIERlYWwgdGhlIHNpdHVhdGlvbiBvZiBzZWxlY3Rpbmcgb3Igbm90CiAgICAgICAqLwogICAgICAvLyBhZGQgcHJvcGVydHkgaW4gYnV5T3B0aW9uIGxpc3QgdG8gc2hvdyBzZWxlY3RlZCBzdHlsZQoKICAgICAgdGVtcEJ1eU9wdGlvbi5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgLy8gdXNlIGhhc1ByaWNlIHByb3BlcnR5IHRvIGRpZmYgdGhlIHZlcnNpb24gYW5kIGNvbG9yCiAgICAgICAgaXRlbS5oYXNQcmljZSA9IGl0ZW0ubGlzdFswXS5wcmljZSAhPT0gJyc7CiAgICAgICAgaXRlbS5saXN0LmZvckVhY2goZnVuY3Rpb24gKGxpc3QpIHsKICAgICAgICAgIC8vIGFkZCBpc09uIHByb3BlcnR5IHRvIHJlYWxpemUgd2hldGhlciBzZWxlY3RlZAogICAgICAgICAgbGlzdC5pc09uID0gZmFsc2U7CiAgICAgICAgfSk7CiAgICAgIH0pOyAvLyBhY3RpdmUgZGVmYXVsdCBzZWxlY3RlZCBzdHlsZQoKICAgICAgdGhpcy5zZWxlY3RlZEdvb2QucHJvcF9saXN0LmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICB2YXIgY3VyT3B0aW9uID0gdGVtcEJ1eU9wdGlvbi5maW5kKGZ1bmN0aW9uIChvcHRpb24pIHsKICAgICAgICAgIC8vIGNmZyAtLS0gY29uZmlndXJhdGlvbgogICAgICAgICAgcmV0dXJuIG9wdGlvbi5wcm9wX2NmZ19pZCA9PT0gaXRlbS5wcm9wX2NmZ19pZDsKICAgICAgICB9KTsKICAgICAgICB2YXIgY3VySW5kZXggPSBjdXJPcHRpb24ubGlzdC5maW5kSW5kZXgoZnVuY3Rpb24gKGxpc3QpIHsKICAgICAgICAgIHJldHVybiBsaXN0LnByb3BfdmFsdWVfaWQgPT09IGl0ZW0ucHJvcF92YWx1ZV9pZDsKICAgICAgICB9KTsKICAgICAgICBjdXJPcHRpb24ubGlzdFtjdXJJbmRleF0uaXNPbiA9IHRydWU7CiAgICAgIH0pOwogICAgICB0aGlzLmJ1eU9wdGlvbiA9IHRlbXBCdXlPcHRpb247CiAgICB9LAogICAgY2hvb3NlSXRlbTogZnVuY3Rpb24gY2hvb3NlSXRlbShvcHRpb24sIGluZGV4KSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgY3VySW5kZXggPSAwOwogICAgICBvcHRpb24ubGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtLCBpKSB7CiAgICAgICAgaWYgKGkgPT09IGluZGV4KSB7CiAgICAgICAgICBjdXJJbmRleCA9IGk7CiAgICAgICAgICBpdGVtLmlzT24gPSB0cnVlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBpdGVtLmlzT24gPSBmYWxzZTsKICAgICAgICB9CiAgICAgIH0pOwogICAgICB2YXIgY3VyU0tVSW5kZXggPSB0aGlzLnNlbGVjdGVkU0tVLmZpbmRJbmRleChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJldHVybiBpdGVtLnByb3BfY2ZnX2lkID09PSBvcHRpb24ucHJvcF9jZmdfaWQ7CiAgICAgIH0pOwogICAgICB0aGlzLnNlbGVjdGVkU0tVW2N1clNLVUluZGV4XS5wcm9wX3ZhbHVlX2lkID0gb3B0aW9uLmxpc3RbY3VySW5kZXhdLnByb3BfdmFsdWVfaWQ7CiAgICAgIHRoaXMuc2VsZWN0ZWRHb29kID0gdGhpcy5nb29kc0luZm8uZmluZChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShpdGVtLnByb3BfbGlzdCkgPT09IEpTT04uc3RyaW5naWZ5KF90aGlzLnNlbGVjdGVkU0tVKTsKICAgICAgfSk7CiAgICAgIHRoaXMuc2VydmljZUJhcmdpbnMgPSB0aGlzLnNlbGVjdGVkR29vZC5zZXJ2aWNlX2JhcmdpbnM7CiAgICB9LAogICAgZGVjcmVhc2U6IGZ1bmN0aW9uIGRlY3JlYXNlKCkgewogICAgICBpZiAodGhpcy5zZWxlY3RlZEdvb2QuYnV5TnVtYmVyID09PSAxKSByZXR1cm47CiAgICAgIHRoaXMuc2VsZWN0ZWRHb29kLmJ1eU51bWJlci0tOwogICAgfSwKICAgIGluY3JlYXNlOiBmdW5jdGlvbiBpbmNyZWFzZSgpIHsKICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRHb29kLmJ1eU51bWJlciA9PT0gdGhpcy5zZWxlY3RlZEdvb2QuYnV5X2xpbWl0KSByZXR1cm47CiAgICAgIHRoaXMuc2VsZWN0ZWRHb29kLmJ1eU51bWJlcisrOwogICAgfSwKICAgIGNoYW5nZVNlcnZpY2U6IGZ1bmN0aW9uIGNoYW5nZVNlcnZpY2UoYmFyZ2luLCBpbmZvLCBpbmZvSW5kZXgpIHsKICAgICAgYmFyZ2luLnNlbGVjdGVkU2VydmljZURlc2MgPSAhaW5mby5zZWxlY3RlZCA/IGluZm8uc2VydmljZV9kZXNjIDogJyc7CiAgICAgIGJhcmdpbi5zZXJ2aWNlX2luZm8uZm9yRWFjaChmdW5jdGlvbiAoaXRlbSwgaW5kZXgpIHsKICAgICAgICBpbmRleCA9PT0gaW5mb0luZGV4ID8gaXRlbS5zZWxlY3RlZCA9ICFpdGVtLnNlbGVjdGVkIDogaXRlbS5zZWxlY3RlZCA9IGZhbHNlOwogICAgICB9KTsKICAgIH0sCiAgICBhZGRUb0NhcnQ6IGZ1bmN0aW9uIGFkZFRvQ2FydCgpIHsKICAgICAgdGhpcy5hZGRDYXJ0Q291bnQodGhpcy5zZWxlY3RlZEdvb2QuYnV5TnVtYmVyKTsKICAgICAgdGhpcy5jbG9zZVNrdSgpOwogICAgfSwKICAgIGNsb3NlU2t1OiBmdW5jdGlvbiBjbG9zZVNrdSgpIHsKICAgICAgdGhpcy4kZW1pdCgnY2xvc2UnKTsKICAgIH0KICB9KQp9Ow=="},{"version":3,"sources":["/Volumes/HD/xiaoMi/FE/xiaomi-mall-mobile/src/components/MiSku.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <transition name=\"sku\">\n    <div class=\"pop\" v-show=\"showSKU\">\n      <div class=\"close\" @click=\"closeSku\">\n        <i class=\"iconfont icon-icon-close\" />\n      </div>\n\n      <div\n        v-if=\"selectedGood\"\n        class=\"pro-info layout row align-center justify-space-around\"\n      >\n        <div class=\"product-img\">\n          <img :src=\"selectedGood.img_url\" />\n        </div>\n\n        <div class=\"product-desc flex layout column justify-start\">\n          <div class=\"cur-price\">\n            <div class=\"price\">\n              &nbsp;{{selectedGood.price}}\n            </div>\n            <div class=\"name\">{{selectedGood.name}}</div>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"max5\">\n        <!-- version and color -->\n        <div>\n          <div\n            v-for=\"option in buyOption\"\n            :key=\"option.prop_cfg_id\"\n            class=\"border-top-1px mt2x\"\n            :class=\"{'no_price':!option.hasPrice}\"\n          >\n            <div class=\"option-title pt32\">\n              {{option.name}}\n              <span style=\"display: none;\">请选择：{{option.name}}</span>\n            </div>\n\n            <div class=\"options-group align-center justify-start layout wrap\">\n              <div\n                v-for=\"(item, index) in option.list\"\n                :key=\"item.prop_value_id\"\n                :class=\"{'on':item.isOn, 'line':option.hasPrice,'justify-space-between':option.hasPrice}\"\n                class=\"option-item border-1px align-center justify-center ui-flex\"\n                @click=\"chooseItem(option,index)\"\n              >\n                <p>{{item.name}}</p>\n                <p v-if=\"option.hasPrice\">{{item.price}}</p>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <!-- purchase quantity -->\n        <div\n          v-if=\"selectedGood\"\n          class=\"border-top-1px pd32 layout align-center justify-space-between\"\n        >\n          <div class=\"option-title\">购买数量</div>\n          <div class=\"xm-input-number\">\n            <div class=\"input-sub\"\n              :class=\"{'active': selectedGood.buyNumber > 1}\"\n              @click=\"decrease\"\n            >\n              <i class=\"iconfont icon-reduce3\"></i>\n            </div>\n\n            <div class=\"input-num\">\n              <span>{{selectedGood.buyNumber}}</span>\n            </div>\n\n            <div class=\"input-add\"\n              :class=\"{'active': selectedGood.buyNumber < selectedGood.buy_limit}\"\n              @click=\"increase\"\n            >\n              <i class=\"iconfont icon-add\"></i>\n            </div>\n          </div>\n        </div>\n\n        <!-- assurance service -->\n        <div>\n          <div\n            v-for=\"(bargin,index) in serviceBargins\"\n            :key=\"index\"\n            class=\"border-top-1px pd32\"\n          >\n            <div class=\"option-title\">\n              {{bargin.type_name}}\n              <a :href=\"bargin.service_url\" class=\"service-url\">\n                <i class=\"iconfont icon-question\"></i>\n              </a>\n              <span>{{bargin.selectedServiceDesc}}</span>\n            </div>\n\n            <div\n              v-for=\"(info,infoIndex) in bargin.service_info\"\n              :key=\"info.phone_accidentIns_sku\"\n              class=\"options-group\"\n            >\n              <div class=\"ui-flex align-center justify-start\">\n                <div :class=\"{'on':info.selected}\" class=\"option-item border-1px w49\">\n                  <p>{{info.service_short_name}}  {{info.service_price}}元</p>\n                </div>\n              </div>\n\n              <div class=\"options-agree\">\n                <div\n                  :class=\"{'checked':info.selected}\"\n                  class=\"choose\"\n                  @click=\"changeService(bargin,info,infoIndex)\"\n                >\n                  <i\n                    class=\"iconfont\"\n                    :class=\"info.selected ? 'icon-roundcheckfill' : 'icon-round'\"\n                  />\n                </div>\n\n                <span>我已阅读 &nbsp;</span>\n\n                <a\n                  v-for=\"(accidentIns,index) in info.phone_accidentIns\"\n                  :key=\"index\"\n                  href=\"accidentIns.url\"\n                  class=\"org\"\n                >\n                  {{accidentIns.desc}} |\n                </a>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"btn-bottom\" @click=\"addToCart\">\n        <div class=\"action-box\">\n          <a data-log_code=\"\" class=\"btn buy-btn\">加入购物车</a>\n        </div>\n      </div>\n    </div>\n  </transition>\n</template>\n\n<script>\nimport { default_goods_id, buy_option, goods_info } from '@/mock/sku.js'\nimport { mapMutations } from 'vuex'\n\nexport default {\n  props: {\n    showSKU: {\n      type: Boolean,\n      default: false,\n      require: true\n    },\n    productData: {\n      require: true\n    }\n  },\n  data() {\n    return {\n      goodsInfo: null,\n      selectedGood: null,\n      serviceBargins: null,\n      buyOption: null\n    }\n  },\n  watch: {\n    // productData: {\n    //   deep: true,\n    //   handler(val) {\n    //     this.init()\n    //   }\n    // }\n    selectedGood: {\n      deep: true,\n      handler(val) {\n        this.$emit('selectSKU', val)\n      }\n    }\n  },\n  created() {\n    this.init()\n  },\n  methods: {\n    ...mapMutations({\n      addCartCount: 'cart/addCount'\n    }),\n    init() {\n      /** http */\n      // let productData = JSON.parse(JSON.stringify(this.productData))\n      // let tempGoodsInfo = productData.goods_info\n      // const tempDefaultGoodsId = productData.default_goods_id\n      // let tempBuyOption = productData.buy_option\n\n      /** Mock */\n      let tempGoodsInfo = goods_info\n      const tempDefaultGoodsId = default_goods_id\n      let tempBuyOption = buy_option\n\n      /**\n       * add some property to original data\n       *  default purchase quantity 1\n       *  whether selecting service\n       *  convert buy_limit to an integer\n       */\n      tempGoodsInfo.forEach(item => {\n        item.buyNumber = 1\n        item.buy_limit = parseInt(item.buy_limit)\n        item.service_bargins.forEach(list => {\n          list.service_info.forEach(info => {\n            info.selected = false\n          })\n        })\n      })\n      this.goodsInfo = tempGoodsInfo\n\n      // selected good\n      this.selectedGood = this.goodsInfo.find(item => {\n        return item.goods_id == tempDefaultGoodsId\n      })\n\n      // add selectedServiceDesc property to service_bargins data\n      this.selectedGood.service_bargins.forEach(item => {\n        item.selectedServiceDesc = ''\n      })\n\n      this.serviceBargins = this.selectedGood.service_bargins\n      this.selectedSKU = JSON.parse(JSON.stringify(this.selectedGood.prop_list))\n\n      /**\n       * Deal the situation of selecting or not\n       */\n      // add property in buyOption list to show selected style\n      tempBuyOption.forEach(item => {\n        // use hasPrice property to diff the version and color\n        item.hasPrice = item.list[0].price !== ''\n        item.list.forEach(list => {\n          // add isOn property to realize whether selected\n          list.isOn = false\n        })\n      })\n\n      // active default selected style\n      this.selectedGood.prop_list.forEach(item => {\n        const curOption = tempBuyOption.find(option => {\n          // cfg --- configuration\n          return option.prop_cfg_id === item.prop_cfg_id\n        })\n\n        const curIndex = curOption.list.findIndex(list => {\n          return list.prop_value_id === item.prop_value_id\n        })\n\n        curOption.list[curIndex].isOn = true\n      })\n\n      this.buyOption = tempBuyOption\n    },\n    chooseItem(option, index) {\n      let curIndex = 0\n      option.list.forEach((item, i) => {\n        if(i === index) {\n          curIndex = i\n          item.isOn = true\n        } else {\n          item.isOn = false\n        }\n      })\n\n      let curSKUIndex = this.selectedSKU.findIndex(item => {\n        return item.prop_cfg_id === option.prop_cfg_id\n      })\n\n      this.selectedSKU[curSKUIndex].prop_value_id = option.list[curIndex].prop_value_id\n\n      this.selectedGood = this.goodsInfo.find(item => {\n        return JSON.stringify(item.prop_list) === JSON.stringify(this.selectedSKU)\n      })\n\n      this.serviceBargins = this.selectedGood.service_bargins\n    },\n    decrease() {\n      if(this.selectedGood.buyNumber === 1) return\n      this.selectedGood.buyNumber--\n    },\n    increase() {\n      if(this.selectedGood.buyNumber === this.selectedGood.buy_limit) return\n      this.selectedGood.buyNumber++\n    },\n    changeService(bargin, info, infoIndex) {\n      bargin.selectedServiceDesc = !info.selected ? info.service_desc : ''\n      bargin.service_info.forEach((item, index) => {\n        index === infoIndex ? (item.selected = !item.selected) : (item.selected = false)\n      })\n    },\n    addToCart() {\n      this.addCartCount(this.selectedGood.buyNumber)\n      this.closeSku()\n    },\n    closeSku() {\n      this.$emit('close')\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.pop {\n  position: fixed;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  z-index: 110;\n\n  color: #000;\n  background-color: #fff;\n  padding: 16px 16px 66px;\n  // height: 300px;\n  // width: 375px;\n  min-height: 250px;\n  max-height: 480px;\n  text-align: left;\n\n  .close {\n    position: absolute;\n    top: 8px;\n    right: 8px;\n    width: 26px;\n    height: 26px;\n\n    .icon-icon-close {\n      font-size: 30px;\n      line-height: 20px;\n      color: #bababa;\n    }\n  }\n\n  .pro-info {\n    min-height: 75px;\n\n    .product-img {\n      position: relative;\n      width: 104px;\n      height: 104px;\n      text-align: center;\n      background: #fff;\n\n      img {\n        height: 100%;\n        width: auto;\n        margin: 0 auto;\n      }\n    }\n\n    .product-desc {\n      position: relative;\n      width: 225px;\n      margin: 16px 8px;\n      text-align: left;\n\n      .price {\n        display: inline;\n        color: #ff6700;\n        font-size: 24px;\n        line-height: 19px;\n      }\n\n      .name {\n        font-size: 14px;\n        color: rgba(0,0,0,.87);\n        line-height: 20px;\n      }\n    }\n  }\n\n  .option-title {\n    position: relative;\n    padding-bottom: 8px;\n    line-height: 16px;\n    font-size: 16px;\n    color: rgba(0,0,0,.87);\n\n    span {\n      color: rgba(0,0,0,.54);\n      margin-left: .5em;\n      vertical-align: middle;\n    }\n  }\n\n  .options-group {\n    padding-bottom: 16px;\n  }\n\n  .option-item.line {\n    width: 100%;\n    padding: 12px 16px !important;\n  }\n\n  .option-item.on {\n    color: #f56600;\n  }\n\n  .option-item.on::before {\n    color: #f56600;\n  }\n\n  .option-item {\n    height: 36px;\n    line-height: 36px;\n    min-width: 72px;\n    box-sizing: border-box;\n    padding: 0 4px;\n    text-align: center;\n    margin: 8px 0 0 8px;\n    overflow: vivible;\n    font-size: 14px;\n  }\n\n  .option-item::before {\n    content: '';\n    border-color: rgba(0,0,0,.15);\n    border-radius: 2px;\n  }\n\n  .pd32 {\n    padding: 16px 0;\n  }\n\n  .xm-input-number {\n    display: inline-block;\n    border: 1px solid #eee;\n\n    .input-num {\n      display: inline-block;\n      vertical-align: middle;\n      min-width: 30px;\n      padding: 0 6px;\n      text-align: center;\n      font-size: 16px;\n    }\n\n    .input-add, .input-sub {\n      display: inline-block;\n      width: 30px;\n      height: 30px;\n      position: relative;\n      vertical-align: middle;\n      background-color: #fafafa;\n      text-align: center;\n    }\n\n    .input-add.active, .input-sub.active {\n      background-color: #ddd;\n    }\n  }\n\n  .service-url {\n    display: inline-block;\n    width: 14px;\n    height: 14px;\n    margin-left: 5px;\n    // vertical-align: middle;\n\n    i {\n      font-size: 16px;\n      left: 14px;\n      color: #999;\n    }\n  }\n\n  .options-agree {\n    margin-top: 8px;\n    line-height: 20px;\n    text-align: left;\n    font-size: 12px;\n\n    .choose {\n      display: inline-block;\n      padding: 0 4px 0 8px;\n      height: 20px;\n      position: relative;\n      top: 3px;\n\n      i {\n        font-size: 20px;\n        line-height: 20px;\n        color: #ddd;\n      }\n    }\n\n    .choose.checked i {\n      color: #f56600;\n    }\n\n    .org {\n      color: #f56600;\n    }\n\n  }\n\n  .btn-bottom {\n    position: absolute;\n    bottom: 0;\n    left: 0;\n    right: 0;\n\n    .action-box {\n      background-color: #ff6700;\n      color: #fff;\n      text-align: center;\n\n      .buy-btn {\n        height: 52px;\n        line-height: 52px;\n      }\n    }\n  }\n}\n\n.no_price .option-item p {\n  width: 100%;\n}\n\n.icon-reduce3, .icon-add {\n  font-size: 20px;\n  line-height: 30px;\n  font-weight: 700;\n  color: #857c7c;\n}\n\n.icon-reduce3 {\n  color: #bababa;\n}\n\n.sku-enter-active, .sku-leave-active {\n  transition: all .5s;\n}\n.sku-enter {\n  transform: translateY(100%);\n}\n.sku-enter-to, .sku-leave {\n  transform: translateY(0);\n}\n.sku-leave-to {\n  transform: translateY(100%);\n}\n</style>\n"],"sourceRoot":""}]}