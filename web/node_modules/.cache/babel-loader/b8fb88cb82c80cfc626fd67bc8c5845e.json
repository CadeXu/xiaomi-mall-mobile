{"remainingRequest":"/Users/apple/xiaoMi/FE/xiaomi-mall-mobile/node_modules/babel-loader/lib/index.js!/Users/apple/xiaoMi/FE/xiaomi-mall-mobile/node_modules/eslint-loader/index.js??ref--13-0!/Users/apple/xiaoMi/FE/xiaomi-mall-mobile/src/router/listen-router.js","dependencies":[{"path":"/Users/apple/xiaoMi/FE/xiaomi-mall-mobile/src/router/listen-router.js","mtime":1637372718948},{"path":"/Users/apple/xiaoMi/FE/xiaomi-mall-mobile/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/apple/xiaoMi/FE/xiaomi-mall-mobile/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/apple/xiaoMi/FE/xiaomi-mall-mobile/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHJvdXRlciBmcm9tICcuJzsKaW1wb3J0IHN0b3JlIGZyb20gJ0Avc3RvcmUvaW5kZXgnOwppbXBvcnQgTlByb2dyZXNzIGZyb20gJ25wcm9ncmVzcyc7CmltcG9ydCAnbnByb2dyZXNzL25wcm9ncmVzcy5jc3MnOwpOUHJvZ3Jlc3MuY29uZmlndXJlKHsKICBzaG93U3Bpbm5lcjogZmFsc2UKfSk7CnJvdXRlci5iZWZvcmVFYWNoKGZ1bmN0aW9uICh0bywgZnJvbSwgbmV4dCkgewogIC8vIHRyaWdnZXIgdGhlIHJlbGF0ZWQgbXV0YXRpb24gdG8gY2hhbmdlIHN0YXRlIHN0YXR1cwogIHN0b3JlLmNvbW1pdCgnc2V0Vmlld0xvYWRpbmcnLCB0cnVlKTsKICBOUHJvZ3Jlc3Muc3RhcnQoKTsgLy8gaW50ZXJjZXB0IHJvdXRlCiAgLy8ganVkZ2Ugcm91dGUgYXV0aGVudGljYXRpb24KCiAgaWYgKHRvLm1ldGEucmVxdWlyZXNBdXRoICYmICFzdG9yZS5nZXR0ZXJzLmlzTG9naW4pIHsKICAgIG5leHQoewogICAgICBuYW1lOiAnbG9naW4nLAogICAgICBxdWVyeTogewogICAgICAgIHJlZGlyZWN0OiB0by5mdWxsUGF0aAogICAgICB9CiAgICB9KTsKICB9IGVsc2UgewogICAgbmV4dCgpOwogIH0KfSk7CmV4cG9ydCBkZWZhdWx0IE5Qcm9ncmVzczs="},{"version":3,"sources":["/Users/apple/xiaoMi/FE/xiaomi-mall-mobile/src/router/listen-router.js"],"names":["router","store","NProgress","configure","showSpinner","beforeEach","to","from","next","commit","start","meta","requiresAuth","getters","isLogin","name","query","redirect","fullPath"],"mappings":"AAAA,OAAOA,MAAP,MAAmB,GAAnB;AACA,OAAOC,KAAP,MAAkB,eAAlB;AACA,OAAOC,SAAP,MAAsB,WAAtB;AACA,OAAO,yBAAP;AACAA,SAAS,CAACC,SAAV,CAAoB;AAAEC,EAAAA,WAAW,EAAE;AAAf,CAApB;AAEAJ,MAAM,CAACK,UAAP,CAAkB,UAACC,EAAD,EAAKC,IAAL,EAAWC,IAAX,EAAoB;AACpC;AACAP,EAAAA,KAAK,CAACQ,MAAN,CAAa,gBAAb,EAA+B,IAA/B;AACAP,EAAAA,SAAS,CAACQ,KAAV,GAHoC,CAKpC;AACA;;AACA,MAAGJ,EAAE,CAACK,IAAH,CAAQC,YAAR,IAAwB,CAACX,KAAK,CAACY,OAAN,CAAcC,OAA1C,EAAmD;AACjDN,IAAAA,IAAI,CAAC;AACHO,MAAAA,IAAI,EAAE,OADH;AAEHC,MAAAA,KAAK,EAAE;AAAEC,QAAAA,QAAQ,EAAEX,EAAE,CAACY;AAAf;AAFJ,KAAD,CAAJ;AAID,GALD,MAKO;AACLV,IAAAA,IAAI;AACL;AACF,CAfD;AAiBA,eAAeN,SAAf","sourcesContent":["import router from '.'\r\nimport store from '@/store/index'\r\nimport NProgress from 'nprogress'\r\nimport 'nprogress/nprogress.css'\r\nNProgress.configure({ showSpinner: false })\r\n\r\nrouter.beforeEach((to, from, next) => {\r\n  // trigger the related mutation to change state status\r\n  store.commit('setViewLoading', true)\r\n  NProgress.start()\r\n\r\n  // intercept route\r\n  // judge route authentication\r\n  if(to.meta.requiresAuth && !store.getters.isLogin) {\r\n    next({\r\n      name: 'login',\r\n      query: { redirect: to.fullPath }\r\n    })\r\n  } else {\r\n    next()\r\n  }\r\n})\r\n\r\nexport default NProgress\r\n"]}]}