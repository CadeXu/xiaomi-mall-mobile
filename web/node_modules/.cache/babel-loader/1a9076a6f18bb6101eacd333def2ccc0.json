{"remainingRequest":"/Volumes/HD/xiaoMi/FE/xiaomi-mall-mobile/node_modules/babel-loader/lib/index.js!/Volumes/HD/xiaoMi/FE/xiaomi-mall-mobile/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Volumes/HD/xiaoMi/FE/xiaomi-mall-mobile/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Volumes/HD/xiaoMi/FE/xiaomi-mall-mobile/src/components/MiRecommend.vue?vue&type=script&lang=js","dependencies":[{"path":"/Volumes/HD/xiaoMi/FE/xiaomi-mall-mobile/src/components/MiRecommend.vue","mtime":1636026227338},{"path":"/Volumes/HD/xiaoMi/FE/xiaomi-mall-mobile/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/HD/xiaoMi/FE/xiaomi-mall-mobile/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Volumes/HD/xiaoMi/FE/xiaomi-mall-mobile/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/HD/xiaoMi/FE/xiaomi-mall-mobile/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000},{"path":"/Volumes/HD/xiaoMi/FE/xiaomi-mall-mobile/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/HD/xiaoMi/FE/xiaomi-mall-mobile/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Volumes/HD/xiaoMi/FE/xiaomi-mall-mobile/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/HD/xiaoMi/FE/xiaomi-mall-mobile/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiL1ZvbHVtZXMvSEQveGlhb01pL0ZFL3hpYW9taS1tYWxsLW1vYmlsZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvcmVnZW5lcmF0b3IiOwoKZnVuY3Rpb24gYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCBrZXksIGFyZykgeyB0cnkgeyB2YXIgaW5mbyA9IGdlbltrZXldKGFyZyk7IHZhciB2YWx1ZSA9IGluZm8udmFsdWU7IH0gY2F0Y2ggKGVycm9yKSB7IHJlamVjdChlcnJvcik7IHJldHVybjsgfSBpZiAoaW5mby5kb25lKSB7IHJlc29sdmUodmFsdWUpOyB9IGVsc2UgeyBQcm9taXNlLnJlc29sdmUodmFsdWUpLnRoZW4oX25leHQsIF90aHJvdyk7IH0gfQoKZnVuY3Rpb24gX2FzeW5jVG9HZW5lcmF0b3IoZm4pIHsgcmV0dXJuIGZ1bmN0aW9uICgpIHsgdmFyIHNlbGYgPSB0aGlzLCBhcmdzID0gYXJndW1lbnRzOyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgeyB2YXIgZ2VuID0gZm4uYXBwbHkoc2VsZiwgYXJncyk7IGZ1bmN0aW9uIF9uZXh0KHZhbHVlKSB7IGFzeW5jR2VuZXJhdG9yU3RlcChnZW4sIHJlc29sdmUsIHJlamVjdCwgX25leHQsIF90aHJvdywgIm5leHQiLCB2YWx1ZSk7IH0gZnVuY3Rpb24gX3Rocm93KGVycikgeyBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csICJ0aHJvdyIsIGVycik7IH0gX25leHQodW5kZWZpbmVkKTsgfSk7IH07IH0KCmltcG9ydCB7IGdldFJlY29tbWVuZEJsYW5rLCBnZXRSZWNvbW1lbmQgfSBmcm9tICdAL2FwaS9jYXRlZ29yeSc7CmV4cG9ydCBkZWZhdWx0IHsKICBwcm9wczogewogICAgaWQ6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAnJwogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGxpc3RzOiBudWxsCiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIGlmICh0aGlzLmlkKSB7CiAgICAgIHRoaXMuZmV0Y2hSZWNvbW1lbmRGb3JEZXRhaWwoKTsKICAgIH0gZWxzZSB7CiAgICAgIHRoaXMuZmV0Y2hSZWNvbW1lbmRCbGFuaygpOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgZmV0Y2hSZWNvbW1lbmRCbGFuazogZnVuY3Rpb24gZmV0Y2hSZWNvbW1lbmRCbGFuaygpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBnZXRSZWNvbW1lbmRCbGFuaygpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICBpZiAocmVzLmNvZGUgPT09IDIwMCkgewogICAgICAgICAgICAgICAgICAgIHZhciBsaXN0ID0gcmVzLmRhdGEucmVjb21fbGlzdDsKICAgICAgICAgICAgICAgICAgICBsaXN0LmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgICAgICAgICAgIC8qKiDpmY3ku7fmg4XlhrXkuIvlpITnkIYgKi8KICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uc2hvd01hcmtldFByaWNlID0gTWF0aC5yYW5kb20oKSA+IDAuNTsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICBfdGhpcy5saXN0cyA9IGxpc3Q7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgZmV0Y2hSZWNvbW1lbmRGb3JEZXRhaWw6IGZ1bmN0aW9uIGZldGNoUmVjb21tZW5kRm9yRGV0YWlsKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBnZXRSZWNvbW1lbmQoewogICAgICAgICAgICAgICAgICBwcm9kdWN0X2lkOiBfdGhpczIuaWQKICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICBpZiAocmVzLmNvZGUgPT09IDIwMCkgewogICAgICAgICAgICAgICAgICAgIHZhciBsaXN0ID0gcmVzLmRhdGEucmVjb21tZW5kX2xpc3Q7CiAgICAgICAgICAgICAgICAgICAgbGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgICAgICAgICAgICAvKiog6ZmN5Lu35oOF5Ya15LiL5aSE55CGICovCiAgICAgICAgICAgICAgICAgICAgICBpdGVtLnNob3dNYXJrZXRQcmljZSA9IE1hdGgucmFuZG9tKCkgPiAwLjU7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMyLmxpc3RzID0gbGlzdDsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgIH0pKSgpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["/Volumes/HD/xiaoMi/FE/xiaomi-mall-mobile/src/components/MiRecommend.vue"],"names":[],"mappings":";;;;;;AAsCA,SAAS,iBAAT,EAA4B,YAA5B,QAAgD,gBAAhD;AAEA,eAAe;AACb,EAAA,KAAK,EAAE;AACL,IAAA,EAAE,EAAE;AACF,MAAA,IAAI,EAAE,MADJ;AAEF,MAAA,OAAO,EAAE;AAFP;AADC,GADM;AAOb,EAAA,IAPa,kBAON;AACL,WAAO;AACL,MAAA,KAAK,EAAE;AADF,KAAP;AAGD,GAXY;AAYb,EAAA,OAZa,qBAYH;AACR,QAAG,KAAK,EAAR,EAAY;AACV,WAAK,uBAAL;AACF,KAFA,MAEO;AACL,WAAK,mBAAL;AACF;AACD,GAlBY;AAmBb,EAAA,OAAO,EAAE;AACD,IAAA,mBADC,iCACqB;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACpB,iBAAiB,GAAG,IAApB,CAAyB,UAAA,GAAE,EAAK;AACpC,sBAAG,GAAG,CAAC,IAAJ,KAAa,GAAhB,EAAqB;AACnB,wBAAM,IAAG,GAAI,GAAG,CAAC,IAAJ,CAAS,UAAtB;AACA,oBAAA,IAAI,CAAC,OAAL,CAAa,UAAA,IAAG,EAAK;AACnB;AACA,sBAAA,IAAI,CAAC,eAAL,GAAuB,IAAI,CAAC,MAAL,KAAgB,GAAvC;AACD,qBAHD;AAIA,oBAAA,KAAI,CAAC,KAAL,GAAa,IAAb;AACF;AACD,iBATK,CADoB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAW3B,KAZM;AAaD,IAAA,uBAbC,qCAayB;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACxB,YAAY,CAAC;AACjB,kBAAA,UAAU,EAAE,MAAI,CAAC;AADA,iBAAD,CAAZ,CAEH,IAFG,CAEE,UAAA,GAAE,EAAK;AACb,sBAAG,GAAG,CAAC,IAAJ,KAAa,GAAhB,EAAqB;AACnB,wBAAM,IAAG,GAAI,GAAG,CAAC,IAAJ,CAAS,cAAtB;AACA,oBAAA,IAAI,CAAC,OAAL,CAAa,UAAA,IAAG,EAAK;AACnB;AACA,sBAAA,IAAI,CAAC,eAAL,GAAuB,IAAI,CAAC,MAAL,KAAgB,GAAvC;AACD,qBAHD;AAIA,oBAAA,MAAI,CAAC,KAAL,GAAa,IAAb;AACF;AACD,iBAXK,CADwB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAahC;AA1BO;AAnBI,CAAf","sourcesContent":["<template>\r\n  <div class=\"recommend-box space-top\">\r\n    <div v-if=\"id\" class=\"recommend-title-detail\">为你推荐</div>\r\n    <div v-else class=\"recommend-title\">\r\n      <span class=\"recommend-title-main\">猜你喜欢</span>\r\n      <span class=\"recommend-title-subtitle\">实时推荐你的心心念念</span>\r\n    </div>\r\n    <!-- <div class=\"recommend-top-img\">\r\n      <img src=\"../assets/images/recommend.jpg\">\r\n    </div> -->\r\n    <div class=\"recommend-list layout row wrap align-center align-content-start justify-space-between\">\r\n      <div\r\n        v-for=\"list in lists\"\r\n        :key=\"list.id\"\r\n        class=\"goods-item\"\r\n      >\r\n        <a class=\"exposure\">\r\n          <div class=\"goods-img-box\">\r\n            <img :src=\"list.image_url\">\r\n          </div>\r\n          <div class=\"goods-info\">\r\n            <div class=\"goods-name no-wrap\">\r\n              {{list.name}}\r\n            </div>\r\n            <div class=\"goods-price price\">\r\n              ￥{{list.price}}\r\n              <del class=\"price\" v-show=\"list.showMarketPrice\">\r\n                ￥{{list.market_price}}\r\n              </del>\r\n            </div>\r\n          </div>\r\n        </a>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getRecommendBlank, getRecommend } from '@/api/category'\r\n\r\nexport default {\r\n  props: {\r\n    id: {\r\n      type: String,\r\n      default: ''\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      lists: null\r\n    }\r\n  },\r\n  created() {\r\n    if(this.id) {\r\n      this.fetchRecommendForDetail()\r\n    } else {\r\n      this.fetchRecommendBlank()\r\n    }\r\n  },\r\n  methods: {\r\n    async fetchRecommendBlank() {\r\n      await getRecommendBlank().then(res => {\r\n        if(res.code === 200) {\r\n          const list = res.data.recom_list\r\n          list.forEach(item => {\r\n            /** 降价情况下处理 */\r\n            item.showMarketPrice = Math.random() > 0.5\r\n          })\r\n          this.lists = list\r\n        }\r\n      })\r\n    },\r\n    async fetchRecommendForDetail() {\r\n      await getRecommend({\r\n        product_id: this.id\r\n      }).then(res => {\r\n        if(res.code === 200) {\r\n          const list = res.data.recommend_list\r\n          list.forEach(item => {\r\n            /** 降价情况下处理 */\r\n            item.showMarketPrice = Math.random() > 0.5\r\n          })\r\n          this.lists = list\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.recommend-box {\r\n  background-color: #fff;\r\n  text-align: left;\r\n\r\n  .recommend-title-detail {\r\n    line-height: 40px;\r\n    padding: 0 16px 5px;\r\n    font-size: 15px;\r\n  }\r\n\r\n  .recommend-title {\r\n    line-height: 40px;\r\n    padding: 0 16px 5px;\r\n    font-size: 15px;\r\n    text-align: center;\r\n\r\n    span {\r\n      display: block;\r\n    }\r\n\r\n    .recommend-title-main {\r\n      line-height: 25px;\r\n      color: #ff6700;\r\n      font-weight: 900;\r\n    }\r\n\r\n    .recommend-title-subtitle {\r\n      line-height: 15px;\r\n    }\r\n  }\r\n\r\n  .recommend-top-img {\r\n    width: 375px;\r\n\r\n    img {\r\n      width: 375px;\r\n      height: 62.5px;\r\n    }\r\n  }\r\n\r\n  .recommend-list {\r\n    overflow: hidden;\r\n\r\n    .goods-item {\r\n      flex: 0 1 49.5%;\r\n      overflow: hidden;\r\n\r\n      a {\r\n        display: block;\r\n      }\r\n    }\r\n\r\n    .goods-img-box {\r\n      position: relative;\r\n\r\n      img {\r\n        display: block;\r\n        width: 100%;\r\n        min-height: 186px;\r\n        background-color: #eee;\r\n      }\r\n    }\r\n\r\n    .goods-info {\r\n      padding: 9px 13px 11px;\r\n    }\r\n\r\n    .goods-name {\r\n      font-size: 14px;\r\n    }\r\n\r\n    .goods-price {\r\n      font-size: 14px;\r\n      display: inline-block;\r\n      color: #ff6700;\r\n      margin-top: 5px;\r\n\r\n      del {\r\n        font-size: 12px;\r\n        margin-left: 5px;\r\n        color: rgba(0,0,0,.54);\r\n        text-decoration: line-through;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n"],"sourceRoot":""}]}