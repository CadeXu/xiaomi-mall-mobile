{"remainingRequest":"/Volumes/HD/xiaoMi/FE/xiaomi-mall-mobile/node_modules/thread-loader/dist/cjs.js!/Volumes/HD/xiaoMi/FE/xiaomi-mall-mobile/node_modules/babel-loader/lib/index.js!/Volumes/HD/xiaoMi/FE/xiaomi-mall-mobile/node_modules/eslint-loader/index.js??ref--13-0!/Volumes/HD/xiaoMi/FE/xiaomi-mall-mobile/src/views/MiDetail/MiDetail.js?vue&type=script&lang=js","dependencies":[{"path":"/Volumes/HD/xiaoMi/FE/xiaomi-mall-mobile/src/views/MiDetail/MiDetail.js","mtime":1637932953245},{"path":"/Volumes/HD/xiaoMi/FE/xiaomi-mall-mobile/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/HD/xiaoMi/FE/xiaomi-mall-mobile/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/HD/xiaoMi/FE/xiaomi-mall-mobile/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Volumes/HD/xiaoMi/FE/xiaomi-mall-mobile/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Wb2x1bWVzL0hEL3hpYW9NaS9GRS94aWFvbWktbWFsbC1tb2JpbGUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tICIvVm9sdW1lcy9IRC94aWFvTWkvRkUveGlhb21pLW1hbGwtbW9iaWxlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UuanMiOwppbXBvcnQgeyBnZXRQcm9kdWN0VmlldyB9IGZyb20gJ0AvYXBpL2NhdGVnb3J5JzsKaW1wb3J0IFN3aXBlciBmcm9tICdzd2lwZXIvc3dpcGVyLWJ1bmRsZSc7CmltcG9ydCAnc3dpcGVyL3N3aXBlci1idW5kbGUuY3NzJzsKaW1wb3J0IERPTVB1cmlmeSBmcm9tICdkb21wdXJpZnknOwppbXBvcnQgTWlDb21tZW50IGZyb20gJ0AvY29tcG9uZW50cy9NaUNvbW1lbnQnOwppbXBvcnQgTWlSZWNvbW1lbmQgZnJvbSAnQC9jb21wb25lbnRzL01pUmVjb21tZW5kLnZ1ZSc7CmltcG9ydCBNaVNrdSBmcm9tICdAL2NvbXBvbmVudHMvTWlTa3UudnVlJzsKaW1wb3J0IE1pUG9wIGZyb20gJ0AvY29tcG9uZW50cy9NaVBvcC52dWUnOwppbXBvcnQgTWlBZGRyZXNzQWxsIGZyb20gJ0AvY29tcG9uZW50cy9NaUFkZHJlc3NBbGwudnVlJzsKaW1wb3J0IHsgbWFwU3RhdGUsIG1hcEdldHRlcnMsIG1hcEFjdGlvbnMgfSBmcm9tICd2dWV4JzsKaW1wb3J0IHsgZXN0RGVsaXZlcnkgfSBmcm9tICdAL2FwaS9hZGRyZXNzJzsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIE1pQ29tbWVudDogTWlDb21tZW50LAogICAgTWlSZWNvbW1lbmQ6IE1pUmVjb21tZW5kLAogICAgTWlTa3U6IE1pU2t1LAogICAgTWlQb3A6IE1pUG9wLAogICAgTWlBZGRyZXNzQWxsOiBNaUFkZHJlc3NBbGwsCiAgICBzaG93UmVnaW9uczogZmFsc2UKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBwcm9kdWN0RGF0YTogbnVsbCwKICAgICAgZ2FsbGVyeVZpZXc6IG51bGwsCiAgICAgIGRldGFpbFN3aXBlcjogbnVsbCwKICAgICAgdGl0bGVWaWV3OiBudWxsLAogICAgICBzZWxlY3RlZEdvb2Q6IG51bGwsCiAgICAgIGNhbkpvaW5BY3RzOiBudWxsLAogICAgICBzaG93TWFzazogZmFsc2UsCiAgICAgIHNob3dTS1U6IGZhbHNlLAogICAgICBjb21tZW50VmlldzogbnVsbCwKICAgICAgZGVzY1RhYnNWaWV3OiBudWxsLAogICAgICBkZXNjVGFic1ZpZXdJbmRleDogMCwKICAgICAgaWQ6ICcnLAogICAgICBzaG93QWRkcmVzc1BvcDogZmFsc2UsCiAgICAgIGRlbGl2ZXJ5RGF0YTogbnVsbCwKICAgICAgc2hvd1JlZ2lvbnM6IGZhbHNlCiAgICB9OwogIH0sCiAgd2F0Y2g6IHsKICAgIGlzTG9naW46IGZ1bmN0aW9uIGlzTG9naW4odmFsKSB7CiAgICAgIHRoaXMuZ2V0U2hpcHBpbmdBZGRyZXNzKCk7CiAgICB9CiAgfSwKICBjb21wdXRlZDogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBtYXBHZXR0ZXJzKHsKICAgIGlzTG9naW46ICdpc0xvZ2luJywKICAgIGFkZHJlc3NEZWZhdWx0OiAnYWRkcmVzcy9kZWZhdWx0JwogIH0pKSwgbWFwU3RhdGUoewogICAgYWRkcmVzc0xpc3Q6IGZ1bmN0aW9uIGFkZHJlc3NMaXN0KHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS5hZGRyZXNzLmxpc3Q7CiAgICB9LAogICAgY291bnQ6IGZ1bmN0aW9uIGNvdW50KHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS5jYXJ0LmNvdW50OwogICAgfQogIH0pKSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5pZCA9IHRoaXMuJHJvdXRlLnBhcmFtcy5pZDsKICAgIHRoaXMuJE5Qcm9ncmVzcy5kb25lKCk7CiAgICB0aGlzLmZldGNoUHJvZHVjdERhdGEoKTsKICAgIHRoaXMuZ2V0U2hpcHBpbmdBZGRyZXNzKCk7CiAgfSwKICAvLyB3aXRoZHJhdwogIGRlc3RvcnllZDogZnVuY3Rpb24gZGVzdG9yeWVkKCkgewogICAgaWYgKEFycmF5LmlzQXJyYXkodGhpcy5kZXRhaWxTd2lwZXIpKSB7CiAgICAgIHRoaXMuZGV0YWlsU3dpcGVyLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICBpdGVtLmRlc3RvcnkoKTsKICAgICAgfSk7CiAgICB9IGVsc2UgewogICAgICB0aGlzLmRldGFpbFN3aXBlci5kZXN0b3J5KCk7CiAgICB9CgogICAgdGhpcy4kTlByb2dyZXNzLnJlbW92ZSgpOwogIH0sCiAgbWV0aG9kczogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBtYXBBY3Rpb25zKHsKICAgIGdldEFkZHJlc3NMaXN0OiAnYWRkcmVzcy9nZXRMaXN0JwogIH0pKSwge30sIHsKICAgIGdldFNoaXBwaW5nQWRkcmVzczogZnVuY3Rpb24gZ2V0U2hpcHBpbmdBZGRyZXNzKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgaWYgKHRoaXMuaXNMb2dpbikgewogICAgICAgIHRoaXMuZ2V0QWRkcmVzc0xpc3QoZnVuY3Rpb24gKCkgewogICAgICAgICAgaWYgKF90aGlzLmFkZHJlc3NEZWZhdWx0KSB7CiAgICAgICAgICAgIGVzdERlbGl2ZXJ5KHsKICAgICAgICAgICAgICBhZGRyZXNzX2lkOiBfdGhpcy5hZGRyZXNzRGVmYXVsdC5hZGRyZXNzX2lkCiAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgIF90aGlzLmRlbGl2ZXJ5RGF0YSA9IHJlcy5kYXRhOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBpZiAobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSB7CiAgICAgICAgICAvLyB3aGV0aGVyIHN1cHBvcnQgcG9zaXRpb24KICAgICAgICAgIG5hdmlnYXRvci5nZW9sb2NhdGlvbi5nZXRDdXJyZW50UG9zaXRpb24oZnVuY3Rpb24gKHBvc2l0aW9uKSB7CiAgICAgICAgICAgIGVzdERlbGl2ZXJ5KHsKICAgICAgICAgICAgICBsYXRpdHVkZTogcG9zaXRpb24uY29vcmRzLmxhdGl0dWRlLAogICAgICAgICAgICAgIGxvbmdpdHVkZTogcG9zaXRpb24uY29vcmRzLmxvbmdpdHVkZQogICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICBfdGhpcy5kZWxpdmVyeURhdGEgPSByZXMuZGF0YTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBzZWxlY3RBZGRyZXNzOiBmdW5jdGlvbiBzZWxlY3RBZGRyZXNzKGl0ZW0pIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICBlc3REZWxpdmVyeSh7CiAgICAgICAgYWRkcmVzc19pZDogaXRlbS5hZGRyZXNzX2lkCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzMi5kZWxpdmVyeURhdGEgPSByZXMuZGF0YTsKICAgICAgICBfdGhpczIuc2hvd0FkZHJlc3NQb3AgPSBmYWxzZTsKICAgICAgfSk7CiAgICB9LAogICAgZmV0Y2hQcm9kdWN0RGF0YTogZnVuY3Rpb24gZmV0Y2hQcm9kdWN0RGF0YSgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIGdldFByb2R1Y3RWaWV3KHsKICAgICAgICAgICAgICAgICAgY29tbW9kaXR5X2lkOiBfdGhpczMuJHJvdXRlLnBhcmFtcy5pZAogICAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgIGlmIChyZXMuY29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMzLiRzdG9yZS5jb21taXQoJ3NldFZpZXdMb2FkaW5nJywgZmFsc2UpOwoKICAgICAgICAgICAgICAgICAgICB2YXIgdmlld0NvbnRlbnQgPSByZXMuZGF0YS52aWV3X2NvbnRlbnQ7CiAgICAgICAgICAgICAgICAgICAgdmFyIGRlc2NUYWJzVmlldyA9IHZpZXdDb250ZW50LmRlc2NUYWJzVmlldy5kZXNjVGFic1ZpZXc7CiAgICAgICAgICAgICAgICAgICAgZGVzY1RhYnNWaWV3LmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgICAgICAgICAgIHZhciB0YWJDb250ZW50ID0gaXRlbS50YWJDb250ZW50OwoKICAgICAgICAgICAgICAgICAgICAgIGlmICh0YWJDb250ZW50Lmxlbmd0aCA+IDMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5zaG93VGFiQ29udGVudCA9IHRhYkNvbnRlbnQuc2xpY2UoMCwgMyk7CiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0ubW9yZVRhYkNvbnRlbnQgPSB0YWJDb250ZW50LnNsaWNlKDMpOwogICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5zaG93VGFiQ29udGVudCA9IHRhYkNvbnRlbnQ7CiAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgaXRlbS5zaG93TW9yZSA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIF90aGlzMy5kZXNjVGFic1ZpZXcgPSBkZXNjVGFic1ZpZXc7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMzLmdhbGxlcnlWaWV3ID0gdmlld0NvbnRlbnQuZ2FsbGVyeVZpZXcuZ2FsbGVyeVZpZXc7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMzLnRpdGxlVmlldyA9IHZpZXdDb250ZW50LnRpdGxlVmlldy50aXRsZVZpZXc7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMzLnRpdGxlVmlld1Byb2R1Y3REZXNjID0gRE9NUHVyaWZ5LnNhbml0aXplKF90aGlzMy50aXRsZVZpZXcucHJvZHVjdF9kZXNjKTsKICAgICAgICAgICAgICAgICAgICBfdGhpczMuY2FuSm9pbkFjdHMgPSBfdGhpczMudGl0bGVWaWV3LmNhbkpvaW5BY3RzWzBdOwogICAgICAgICAgICAgICAgICAgIF90aGlzMy5jb21tZW50VmlldyA9IHZpZXdDb250ZW50LmNvbW1lbnRWaWV3LmNvbW1lbnRWaWV3OwogICAgICAgICAgICAgICAgICAgIF90aGlzMy5wcm9kdWN0RGF0YSA9IHJlcy5kYXRhOwoKICAgICAgICAgICAgICAgICAgICBfdGhpczMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzMy5kZXRhaWxTd2lwZXIgPSBuZXcgU3dpcGVyKCcuc3dpcGVyLWNvbnRhaW5lcicsIHsKICAgICAgICAgICAgICAgICAgICAgICAgcGFnaW5hdGlvbjogewogICAgICAgICAgICAgICAgICAgICAgICAgIGVsOiAnLnN3aXBlci1wYWdpbmF0aW9uJwogICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICBsb29wOiB0cnVlLAogICAgICAgICAgICAgICAgICAgICAgICBsYXp5OiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgbG9hZFByZXZOZXh0OiB0cnVlCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGdvYmFjazogZnVuY3Rpb24gZ29iYWNrKCkgewogICAgICB0aGlzLiRyb3V0ZXIuZ28oLTEpOwogICAgfSwKICAgIGNsb3NlU2t1OiBmdW5jdGlvbiBjbG9zZVNrdSgpIHsKICAgICAgdGhpcy5zaG93TWFzayA9IGZhbHNlOwogICAgICB0aGlzLnNob3dTS1UgPSBmYWxzZTsKICAgIH0sCiAgICBzZWxlY3RTS1U6IGZ1bmN0aW9uIHNlbGVjdFNLVSh2YWwpIHsKICAgICAgdGhpcy5zZWxlY3RlZEdvb2QgPSB2YWw7CiAgICB9LAogICAgY2hhbmdlUmVnaW9uOiBmdW5jdGlvbiBjaGFuZ2VSZWdpb24ocmVnaW9uKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgdmFyIHByb3ZpbmNlX2lkID0gcmVnaW9uLnByb3ZpbmNlX2lkLAogICAgICAgICAgY2l0eV9pZCA9IHJlZ2lvbi5jaXR5X2lkLAogICAgICAgICAgZGlzdHJpY3RfaWQgPSByZWdpb24uZGlzdHJpY3RfaWQsCiAgICAgICAgICBhcmVhX2lkID0gcmVnaW9uLmFyZWFfaWQ7CiAgICAgIGVzdERlbGl2ZXJ5KHsKICAgICAgICBwcm92aW5jZV9pZDogcHJvdmluY2VfaWQsCiAgICAgICAgY2l0eV9pZDogY2l0eV9pZCwKICAgICAgICBkaXN0cmljdF9pZDogZGlzdHJpY3RfaWQsCiAgICAgICAgYXJlYV9pZDogYXJlYV9pZAogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpczQuZGVsaXZlcnlEYXRhID0gcmVzLmRhdGE7CiAgICAgIH0pOwogICAgfQogIH0pCn07"},{"version":3,"sources":["/Volumes/HD/xiaoMi/FE/xiaomi-mall-mobile/src/views/MiDetail/MiDetail.js"],"names":["getProductView","Swiper","DOMPurify","MiComment","MiRecommend","MiSku","MiPop","MiAddressAll","mapState","mapGetters","mapActions","estDelivery","components","showRegions","data","productData","galleryView","detailSwiper","titleView","selectedGood","canJoinActs","showMask","showSKU","commentView","descTabsView","descTabsViewIndex","id","showAddressPop","deliveryData","watch","isLogin","val","getShippingAddress","computed","addressDefault","addressList","state","address","list","count","cart","created","$route","params","$NProgress","done","fetchProductData","destoryed","Array","isArray","forEach","item","destory","remove","methods","getAddressList","address_id","then","res","navigator","geolocation","getCurrentPosition","position","latitude","coords","longitude","selectAddress","commodity_id","code","$store","commit","viewContent","view_content","tabContent","length","showTabContent","slice","moreTabContent","showMore","titleViewProductDesc","sanitize","product_desc","$nextTick","pagination","el","loop","lazy","loadPrevNext","goback","$router","go","closeSku","selectSKU","changeRegion","region","province_id","city_id","district_id","area_id"],"mappings":"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","sourcesContent":["import { getProductView } from '@/api/category'\r\nimport Swiper from 'swiper/swiper-bundle'\r\nimport 'swiper/swiper-bundle.css'\r\nimport DOMPurify from 'dompurify'\r\nimport MiComment from '@/components/MiComment'\r\nimport MiRecommend from '@/components/MiRecommend.vue'\r\nimport MiSku from '@/components/MiSku.vue'\r\nimport MiPop from '@/components/MiPop.vue'\r\nimport MiAddressAll from '@/components/MiAddressAll.vue'\r\nimport { mapState, mapGetters, mapActions } from 'vuex'\r\nimport { estDelivery } from '@/api/address'\r\n\r\nexport default {\r\n  components: {\r\n    MiComment,\r\n    MiRecommend,\r\n    MiSku,\r\n    MiPop,\r\n    MiAddressAll,\r\n    showRegions: false\r\n  },\r\n  data() {\r\n    return {\r\n      productData: null,\r\n      galleryView: null,\r\n      detailSwiper: null,\r\n      titleView: null,\r\n      selectedGood: null,\r\n      canJoinActs: null,\r\n      showMask: false,\r\n      showSKU: false,\r\n      commentView: null,\r\n      descTabsView: null,\r\n      descTabsViewIndex: 0,\r\n      id: '',\r\n      showAddressPop: false,\r\n      deliveryData: null,\r\n      showRegions: false\r\n    }\r\n  },\r\n  watch: {\r\n    isLogin(val) {\r\n      this.getShippingAddress()\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapGetters({\r\n      isLogin: 'isLogin',\r\n      addressDefault: 'address/default'\r\n    }),\r\n\r\n    ...mapState({\r\n      addressList: state => state.address.list,\r\n      count: state => state.cart.count\r\n    })\r\n  },\r\n  created() {\r\n    this.id = this.$route.params.id\r\n    this.$NProgress.done()\r\n    this.fetchProductData()\r\n    this.getShippingAddress()\r\n  },\r\n  // withdraw\r\n  destoryed() {\r\n    if(Array.isArray(this.detailSwiper)) {\r\n      this.detailSwiper.forEach(item => {\r\n        item.destory()\r\n      })\r\n    } else {\r\n      this.detailSwiper.destory()\r\n    }\r\n    this.$NProgress.remove()\r\n  },\r\n  methods: {\r\n    ...mapActions({\r\n      getAddressList: 'address/getList'\r\n    }),\r\n    getShippingAddress() {\r\n      if(this.isLogin) {\r\n        this.getAddressList(() => {\r\n          if(this.addressDefault) {\r\n            estDelivery({\r\n              address_id: this.addressDefault.address_id\r\n            }).then(res => {\r\n              this.deliveryData = res.data\r\n            })\r\n          }\r\n        })\r\n      } else {\r\n        if(navigator.geolocation) {\r\n          // whether support position\r\n          navigator.geolocation.getCurrentPosition((position) => {\r\n            estDelivery({\r\n              latitude: position.coords.latitude,\r\n              longitude: position.coords.longitude\r\n            }).then(res => {\r\n              this.deliveryData = res.data\r\n            })\r\n          })\r\n        }\r\n      }\r\n    },\r\n    selectAddress(item) {\r\n      estDelivery({\r\n        address_id: item.address_id\r\n      }).then(res => {\r\n        this.deliveryData = res.data\r\n        this.showAddressPop = false\r\n      })\r\n    },\r\n    async fetchProductData() {\r\n      await getProductView({\r\n        commodity_id: this.$route.params.id\r\n      }).then(res => {\r\n        if(res.code === 200) {\r\n          this.$store.commit('setViewLoading', false)\r\n          const viewContent = res.data.view_content\r\n          const descTabsView = viewContent.descTabsView.descTabsView\r\n\r\n          descTabsView.forEach(item => {\r\n            const tabContent = item.tabContent\r\n            if(tabContent.length > 3) {\r\n              item.showTabContent = tabContent.slice(0, 3)\r\n              item.moreTabContent = tabContent.slice(3)\r\n            } else {\r\n              item.showTabContent = tabContent\r\n            }\r\n            item.showMore = false\r\n          })\r\n\r\n          this.descTabsView = descTabsView\r\n          this.galleryView = viewContent.galleryView.galleryView\r\n          this.titleView = viewContent.titleView.titleView\r\n          this.titleViewProductDesc = DOMPurify.sanitize(this.titleView.product_desc)\r\n          this.canJoinActs = this.titleView.canJoinActs[0]\r\n          this.commentView = viewContent.commentView.commentView\r\n          this.productData = res.data\r\n\r\n          this.$nextTick(() => {\r\n            this.detailSwiper = new Swiper('.swiper-container', {\r\n              pagination: {\r\n                el: '.swiper-pagination'\r\n              },\r\n              loop: true,\r\n              lazy: {\r\n                loadPrevNext: true\r\n              }\r\n            })\r\n          })\r\n        }\r\n      })\r\n    },\r\n    goback() {\r\n      this.$router.go(-1)\r\n    },\r\n    closeSku() {\r\n      this.showMask = false\r\n      this.showSKU = false\r\n    },\r\n    selectSKU(val) {\r\n      this.selectedGood = val\r\n    },\r\n    changeRegion(region) {\r\n      let { province_id, city_id, district_id, area_id } = region\r\n      estDelivery({\r\n        province_id,\r\n        city_id,\r\n        district_id,\r\n        area_id\r\n      }).then(res => {\r\n        this.deliveryData = res.data\r\n      })\r\n    }\r\n  }\r\n}\r\n"]}]}