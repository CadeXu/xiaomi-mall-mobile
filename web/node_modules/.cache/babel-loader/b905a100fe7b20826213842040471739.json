{"remainingRequest":"/Users/apple/xiaomi-mall-mobile/web/node_modules/babel-loader/lib/index.js!/Users/apple/xiaomi-mall-mobile/web/node_modules/eslint-loader/index.js??ref--13-0!/Users/apple/xiaomi-mall-mobile/web/src/views/MiDetail/MiDetail.js?vue&type=script&lang=js","dependencies":[{"path":"/Users/apple/xiaomi-mall-mobile/web/src/views/MiDetail/MiDetail.js","mtime":1637932953245},{"path":"/Users/apple/xiaomi-mall-mobile/web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/apple/xiaomi-mall-mobile/web/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/apple/xiaomi-mall-mobile/web/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9hcHBsZS94aWFvbWktbWFsbC1tb2JpbGUvd2ViL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL2FwcGxlL3hpYW9taS1tYWxsLW1vYmlsZS93ZWIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zbGljZS5qcyI7CmltcG9ydCB7IGdldFByb2R1Y3RWaWV3IH0gZnJvbSAnQC9hcGkvY2F0ZWdvcnknOwppbXBvcnQgU3dpcGVyIGZyb20gJ3N3aXBlci9zd2lwZXItYnVuZGxlJzsKaW1wb3J0ICdzd2lwZXIvc3dpcGVyLWJ1bmRsZS5jc3MnOwppbXBvcnQgRE9NUHVyaWZ5IGZyb20gJ2RvbXB1cmlmeSc7CmltcG9ydCBNaUNvbW1lbnQgZnJvbSAnQC9jb21wb25lbnRzL01pQ29tbWVudCc7CmltcG9ydCBNaVJlY29tbWVuZCBmcm9tICdAL2NvbXBvbmVudHMvTWlSZWNvbW1lbmQudnVlJzsKaW1wb3J0IE1pU2t1IGZyb20gJ0AvY29tcG9uZW50cy9NaVNrdS52dWUnOwppbXBvcnQgTWlQb3AgZnJvbSAnQC9jb21wb25lbnRzL01pUG9wLnZ1ZSc7CmltcG9ydCBNaUFkZHJlc3NBbGwgZnJvbSAnQC9jb21wb25lbnRzL01pQWRkcmVzc0FsbC52dWUnOwppbXBvcnQgeyBtYXBTdGF0ZSwgbWFwR2V0dGVycywgbWFwQWN0aW9ucyB9IGZyb20gJ3Z1ZXgnOwppbXBvcnQgeyBlc3REZWxpdmVyeSB9IGZyb20gJ0AvYXBpL2FkZHJlc3MnOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgTWlDb21tZW50OiBNaUNvbW1lbnQsCiAgICBNaVJlY29tbWVuZDogTWlSZWNvbW1lbmQsCiAgICBNaVNrdTogTWlTa3UsCiAgICBNaVBvcDogTWlQb3AsCiAgICBNaUFkZHJlc3NBbGw6IE1pQWRkcmVzc0FsbCwKICAgIHNob3dSZWdpb25zOiBmYWxzZQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHByb2R1Y3REYXRhOiBudWxsLAogICAgICBnYWxsZXJ5VmlldzogbnVsbCwKICAgICAgZGV0YWlsU3dpcGVyOiBudWxsLAogICAgICB0aXRsZVZpZXc6IG51bGwsCiAgICAgIHNlbGVjdGVkR29vZDogbnVsbCwKICAgICAgY2FuSm9pbkFjdHM6IG51bGwsCiAgICAgIHNob3dNYXNrOiBmYWxzZSwKICAgICAgc2hvd1NLVTogZmFsc2UsCiAgICAgIGNvbW1lbnRWaWV3OiBudWxsLAogICAgICBkZXNjVGFic1ZpZXc6IG51bGwsCiAgICAgIGRlc2NUYWJzVmlld0luZGV4OiAwLAogICAgICBpZDogJycsCiAgICAgIHNob3dBZGRyZXNzUG9wOiBmYWxzZSwKICAgICAgZGVsaXZlcnlEYXRhOiBudWxsLAogICAgICBzaG93UmVnaW9uczogZmFsc2UKICAgIH07CiAgfSwKICB3YXRjaDogewogICAgaXNMb2dpbjogZnVuY3Rpb24gaXNMb2dpbih2YWwpIHsKICAgICAgdGhpcy5nZXRTaGlwcGluZ0FkZHJlc3MoKTsKICAgIH0KICB9LAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG1hcEdldHRlcnMoewogICAgaXNMb2dpbjogJ2lzTG9naW4nLAogICAgYWRkcmVzc0RlZmF1bHQ6ICdhZGRyZXNzL2RlZmF1bHQnCiAgfSkpLCBtYXBTdGF0ZSh7CiAgICBhZGRyZXNzTGlzdDogZnVuY3Rpb24gYWRkcmVzc0xpc3Qoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLmFkZHJlc3MubGlzdDsKICAgIH0sCiAgICBjb3VudDogZnVuY3Rpb24gY291bnQoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLmNhcnQuY291bnQ7CiAgICB9CiAgfSkpLAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmlkID0gdGhpcy4kcm91dGUucGFyYW1zLmlkOwogICAgdGhpcy4kTlByb2dyZXNzLmRvbmUoKTsKICAgIHRoaXMuZmV0Y2hQcm9kdWN0RGF0YSgpOwogICAgdGhpcy5nZXRTaGlwcGluZ0FkZHJlc3MoKTsKICB9LAogIC8vIHdpdGhkcmF3CiAgZGVzdG9yeWVkOiBmdW5jdGlvbiBkZXN0b3J5ZWQoKSB7CiAgICBpZiAoQXJyYXkuaXNBcnJheSh0aGlzLmRldGFpbFN3aXBlcikpIHsKICAgICAgdGhpcy5kZXRhaWxTd2lwZXIuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIGl0ZW0uZGVzdG9yeSgpOwogICAgICB9KTsKICAgIH0gZWxzZSB7CiAgICAgIHRoaXMuZGV0YWlsU3dpcGVyLmRlc3RvcnkoKTsKICAgIH0KCiAgICB0aGlzLiROUHJvZ3Jlc3MucmVtb3ZlKCk7CiAgfSwKICBtZXRob2RzOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG1hcEFjdGlvbnMoewogICAgZ2V0QWRkcmVzc0xpc3Q6ICdhZGRyZXNzL2dldExpc3QnCiAgfSkpLCB7fSwgewogICAgZ2V0U2hpcHBpbmdBZGRyZXNzOiBmdW5jdGlvbiBnZXRTaGlwcGluZ0FkZHJlc3MoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBpZiAodGhpcy5pc0xvZ2luKSB7CiAgICAgICAgdGhpcy5nZXRBZGRyZXNzTGlzdChmdW5jdGlvbiAoKSB7CiAgICAgICAgICBpZiAoX3RoaXMuYWRkcmVzc0RlZmF1bHQpIHsKICAgICAgICAgICAgZXN0RGVsaXZlcnkoewogICAgICAgICAgICAgIGFkZHJlc3NfaWQ6IF90aGlzLmFkZHJlc3NEZWZhdWx0LmFkZHJlc3NfaWQKICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgX3RoaXMuZGVsaXZlcnlEYXRhID0gcmVzLmRhdGE7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIGlmIChuYXZpZ2F0b3IuZ2VvbG9jYXRpb24pIHsKICAgICAgICAgIC8vIHdoZXRoZXIgc3VwcG9ydCBwb3NpdGlvbgogICAgICAgICAgbmF2aWdhdG9yLmdlb2xvY2F0aW9uLmdldEN1cnJlbnRQb3NpdGlvbihmdW5jdGlvbiAocG9zaXRpb24pIHsKICAgICAgICAgICAgZXN0RGVsaXZlcnkoewogICAgICAgICAgICAgIGxhdGl0dWRlOiBwb3NpdGlvbi5jb29yZHMubGF0aXR1ZGUsCiAgICAgICAgICAgICAgbG9uZ2l0dWRlOiBwb3NpdGlvbi5jb29yZHMubG9uZ2l0dWRlCiAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgIF90aGlzLmRlbGl2ZXJ5RGF0YSA9IHJlcy5kYXRhOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIHNlbGVjdEFkZHJlc3M6IGZ1bmN0aW9uIHNlbGVjdEFkZHJlc3MoaXRlbSkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIGVzdERlbGl2ZXJ5KHsKICAgICAgICBhZGRyZXNzX2lkOiBpdGVtLmFkZHJlc3NfaWQKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXMyLmRlbGl2ZXJ5RGF0YSA9IHJlcy5kYXRhOwogICAgICAgIF90aGlzMi5zaG93QWRkcmVzc1BvcCA9IGZhbHNlOwogICAgICB9KTsKICAgIH0sCiAgICBmZXRjaFByb2R1Y3REYXRhOiBmdW5jdGlvbiBmZXRjaFByb2R1Y3REYXRhKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0UHJvZHVjdFZpZXcoewogICAgICAgICAgICAgICAgICBjb21tb2RpdHlfaWQ6IF90aGlzMy4kcm91dGUucGFyYW1zLmlkCiAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgaWYgKHJlcy5jb2RlID09PSAyMDApIHsKICAgICAgICAgICAgICAgICAgICBfdGhpczMuJHN0b3JlLmNvbW1pdCgnc2V0Vmlld0xvYWRpbmcnLCBmYWxzZSk7CgogICAgICAgICAgICAgICAgICAgIHZhciB2aWV3Q29udGVudCA9IHJlcy5kYXRhLnZpZXdfY29udGVudDsKICAgICAgICAgICAgICAgICAgICB2YXIgZGVzY1RhYnNWaWV3ID0gdmlld0NvbnRlbnQuZGVzY1RhYnNWaWV3LmRlc2NUYWJzVmlldzsKICAgICAgICAgICAgICAgICAgICBkZXNjVGFic1ZpZXcuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICAgICAgICAgICAgdmFyIHRhYkNvbnRlbnQgPSBpdGVtLnRhYkNvbnRlbnQ7CgogICAgICAgICAgICAgICAgICAgICAgaWYgKHRhYkNvbnRlbnQubGVuZ3RoID4gMykgewogICAgICAgICAgICAgICAgICAgICAgICBpdGVtLnNob3dUYWJDb250ZW50ID0gdGFiQ29udGVudC5zbGljZSgwLCAzKTsKICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5tb3JlVGFiQ29udGVudCA9IHRhYkNvbnRlbnQuc2xpY2UoMyk7CiAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICBpdGVtLnNob3dUYWJDb250ZW50ID0gdGFiQ29udGVudDsKICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICBpdGVtLnNob3dNb3JlID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMzLmRlc2NUYWJzVmlldyA9IGRlc2NUYWJzVmlldzsKICAgICAgICAgICAgICAgICAgICBfdGhpczMuZ2FsbGVyeVZpZXcgPSB2aWV3Q29udGVudC5nYWxsZXJ5Vmlldy5nYWxsZXJ5VmlldzsKICAgICAgICAgICAgICAgICAgICBfdGhpczMudGl0bGVWaWV3ID0gdmlld0NvbnRlbnQudGl0bGVWaWV3LnRpdGxlVmlldzsKICAgICAgICAgICAgICAgICAgICBfdGhpczMudGl0bGVWaWV3UHJvZHVjdERlc2MgPSBET01QdXJpZnkuc2FuaXRpemUoX3RoaXMzLnRpdGxlVmlldy5wcm9kdWN0X2Rlc2MpOwogICAgICAgICAgICAgICAgICAgIF90aGlzMy5jYW5Kb2luQWN0cyA9IF90aGlzMy50aXRsZVZpZXcuY2FuSm9pbkFjdHNbMF07CiAgICAgICAgICAgICAgICAgICAgX3RoaXMzLmNvbW1lbnRWaWV3ID0gdmlld0NvbnRlbnQuY29tbWVudFZpZXcuY29tbWVudFZpZXc7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMzLnByb2R1Y3REYXRhID0gcmVzLmRhdGE7CgogICAgICAgICAgICAgICAgICAgIF90aGlzMy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICAgX3RoaXMzLmRldGFpbFN3aXBlciA9IG5ldyBTd2lwZXIoJy5zd2lwZXItY29udGFpbmVyJywgewogICAgICAgICAgICAgICAgICAgICAgICBwYWdpbmF0aW9uOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgZWw6ICcuc3dpcGVyLXBhZ2luYXRpb24nCiAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIGxvb3A6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgICAgIGxhenk6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICBsb2FkUHJldk5leHQ6IHRydWUKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgZ29iYWNrOiBmdW5jdGlvbiBnb2JhY2soKSB7CiAgICAgIHRoaXMuJHJvdXRlci5nbygtMSk7CiAgICB9LAogICAgY2xvc2VTa3U6IGZ1bmN0aW9uIGNsb3NlU2t1KCkgewogICAgICB0aGlzLnNob3dNYXNrID0gZmFsc2U7CiAgICAgIHRoaXMuc2hvd1NLVSA9IGZhbHNlOwogICAgfSwKICAgIHNlbGVjdFNLVTogZnVuY3Rpb24gc2VsZWN0U0tVKHZhbCkgewogICAgICB0aGlzLnNlbGVjdGVkR29vZCA9IHZhbDsKICAgIH0sCiAgICBjaGFuZ2VSZWdpb246IGZ1bmN0aW9uIGNoYW5nZVJlZ2lvbihyZWdpb24pIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICB2YXIgcHJvdmluY2VfaWQgPSByZWdpb24ucHJvdmluY2VfaWQsCiAgICAgICAgICBjaXR5X2lkID0gcmVnaW9uLmNpdHlfaWQsCiAgICAgICAgICBkaXN0cmljdF9pZCA9IHJlZ2lvbi5kaXN0cmljdF9pZCwKICAgICAgICAgIGFyZWFfaWQgPSByZWdpb24uYXJlYV9pZDsKICAgICAgZXN0RGVsaXZlcnkoewogICAgICAgIHByb3ZpbmNlX2lkOiBwcm92aW5jZV9pZCwKICAgICAgICBjaXR5X2lkOiBjaXR5X2lkLAogICAgICAgIGRpc3RyaWN0X2lkOiBkaXN0cmljdF9pZCwKICAgICAgICBhcmVhX2lkOiBhcmVhX2lkCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzNC5kZWxpdmVyeURhdGEgPSByZXMuZGF0YTsKICAgICAgfSk7CiAgICB9CiAgfSkKfTs="},{"version":3,"sources":["/Users/apple/xiaomi-mall-mobile/web/src/views/MiDetail/MiDetail.js"],"names":["getProductView","Swiper","DOMPurify","MiComment","MiRecommend","MiSku","MiPop","MiAddressAll","mapState","mapGetters","mapActions","estDelivery","components","showRegions","data","productData","galleryView","detailSwiper","titleView","selectedGood","canJoinActs","showMask","showSKU","commentView","descTabsView","descTabsViewIndex","id","showAddressPop","deliveryData","watch","isLogin","val","getShippingAddress","computed","addressDefault","addressList","state","address","list","count","cart","created","$route","params","$NProgress","done","fetchProductData","destoryed","Array","isArray","forEach","item","destory","remove","methods","getAddressList","address_id","then","res","navigator","geolocation","getCurrentPosition","position","latitude","coords","longitude","selectAddress","commodity_id","code","$store","commit","viewContent","view_content","tabContent","length","showTabContent","slice","moreTabContent","showMore","titleViewProductDesc","sanitize","product_desc","$nextTick","pagination","el","loop","lazy","loadPrevNext","goback","$router","go","closeSku","selectSKU","changeRegion","region","province_id","city_id","district_id","area_id"],"mappings":"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","sourcesContent":["import { getProductView } from '@/api/category'\r\nimport Swiper from 'swiper/swiper-bundle'\r\nimport 'swiper/swiper-bundle.css'\r\nimport DOMPurify from 'dompurify'\r\nimport MiComment from '@/components/MiComment'\r\nimport MiRecommend from '@/components/MiRecommend.vue'\r\nimport MiSku from '@/components/MiSku.vue'\r\nimport MiPop from '@/components/MiPop.vue'\r\nimport MiAddressAll from '@/components/MiAddressAll.vue'\r\nimport { mapState, mapGetters, mapActions } from 'vuex'\r\nimport { estDelivery } from '@/api/address'\r\n\r\nexport default {\r\n  components: {\r\n    MiComment,\r\n    MiRecommend,\r\n    MiSku,\r\n    MiPop,\r\n    MiAddressAll,\r\n    showRegions: false\r\n  },\r\n  data() {\r\n    return {\r\n      productData: null,\r\n      galleryView: null,\r\n      detailSwiper: null,\r\n      titleView: null,\r\n      selectedGood: null,\r\n      canJoinActs: null,\r\n      showMask: false,\r\n      showSKU: false,\r\n      commentView: null,\r\n      descTabsView: null,\r\n      descTabsViewIndex: 0,\r\n      id: '',\r\n      showAddressPop: false,\r\n      deliveryData: null,\r\n      showRegions: false\r\n    }\r\n  },\r\n  watch: {\r\n    isLogin(val) {\r\n      this.getShippingAddress()\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapGetters({\r\n      isLogin: 'isLogin',\r\n      addressDefault: 'address/default'\r\n    }),\r\n\r\n    ...mapState({\r\n      addressList: state => state.address.list,\r\n      count: state => state.cart.count\r\n    })\r\n  },\r\n  created() {\r\n    this.id = this.$route.params.id\r\n    this.$NProgress.done()\r\n    this.fetchProductData()\r\n    this.getShippingAddress()\r\n  },\r\n  // withdraw\r\n  destoryed() {\r\n    if(Array.isArray(this.detailSwiper)) {\r\n      this.detailSwiper.forEach(item => {\r\n        item.destory()\r\n      })\r\n    } else {\r\n      this.detailSwiper.destory()\r\n    }\r\n    this.$NProgress.remove()\r\n  },\r\n  methods: {\r\n    ...mapActions({\r\n      getAddressList: 'address/getList'\r\n    }),\r\n    getShippingAddress() {\r\n      if(this.isLogin) {\r\n        this.getAddressList(() => {\r\n          if(this.addressDefault) {\r\n            estDelivery({\r\n              address_id: this.addressDefault.address_id\r\n            }).then(res => {\r\n              this.deliveryData = res.data\r\n            })\r\n          }\r\n        })\r\n      } else {\r\n        if(navigator.geolocation) {\r\n          // whether support position\r\n          navigator.geolocation.getCurrentPosition((position) => {\r\n            estDelivery({\r\n              latitude: position.coords.latitude,\r\n              longitude: position.coords.longitude\r\n            }).then(res => {\r\n              this.deliveryData = res.data\r\n            })\r\n          })\r\n        }\r\n      }\r\n    },\r\n    selectAddress(item) {\r\n      estDelivery({\r\n        address_id: item.address_id\r\n      }).then(res => {\r\n        this.deliveryData = res.data\r\n        this.showAddressPop = false\r\n      })\r\n    },\r\n    async fetchProductData() {\r\n      await getProductView({\r\n        commodity_id: this.$route.params.id\r\n      }).then(res => {\r\n        if(res.code === 200) {\r\n          this.$store.commit('setViewLoading', false)\r\n          const viewContent = res.data.view_content\r\n          const descTabsView = viewContent.descTabsView.descTabsView\r\n\r\n          descTabsView.forEach(item => {\r\n            const tabContent = item.tabContent\r\n            if(tabContent.length > 3) {\r\n              item.showTabContent = tabContent.slice(0, 3)\r\n              item.moreTabContent = tabContent.slice(3)\r\n            } else {\r\n              item.showTabContent = tabContent\r\n            }\r\n            item.showMore = false\r\n          })\r\n\r\n          this.descTabsView = descTabsView\r\n          this.galleryView = viewContent.galleryView.galleryView\r\n          this.titleView = viewContent.titleView.titleView\r\n          this.titleViewProductDesc = DOMPurify.sanitize(this.titleView.product_desc)\r\n          this.canJoinActs = this.titleView.canJoinActs[0]\r\n          this.commentView = viewContent.commentView.commentView\r\n          this.productData = res.data\r\n\r\n          this.$nextTick(() => {\r\n            this.detailSwiper = new Swiper('.swiper-container', {\r\n              pagination: {\r\n                el: '.swiper-pagination'\r\n              },\r\n              loop: true,\r\n              lazy: {\r\n                loadPrevNext: true\r\n              }\r\n            })\r\n          })\r\n        }\r\n      })\r\n    },\r\n    goback() {\r\n      this.$router.go(-1)\r\n    },\r\n    closeSku() {\r\n      this.showMask = false\r\n      this.showSKU = false\r\n    },\r\n    selectSKU(val) {\r\n      this.selectedGood = val\r\n    },\r\n    changeRegion(region) {\r\n      let { province_id, city_id, district_id, area_id } = region\r\n      estDelivery({\r\n        province_id,\r\n        city_id,\r\n        district_id,\r\n        area_id\r\n      }).then(res => {\r\n        this.deliveryData = res.data\r\n      })\r\n    }\r\n  }\r\n}\r\n"]}]}