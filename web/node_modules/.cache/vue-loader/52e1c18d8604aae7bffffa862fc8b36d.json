{"remainingRequest":"/Users/apple/xiaoMi/FE/xiaomi-mall-mobile/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/apple/xiaoMi/FE/xiaomi-mall-mobile/src/views/MiAddress/MiAddressList.vue?vue&type=style&index=0&id=1785fb75&lang=scss&scoped=true","dependencies":[{"path":"/Users/apple/xiaoMi/FE/xiaomi-mall-mobile/src/views/MiAddress/MiAddressList.vue","mtime":1637992859227},{"path":"/Users/apple/xiaoMi/FE/xiaomi-mall-mobile/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/apple/xiaoMi/FE/xiaomi-mall-mobile/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js","mtime":499162500000},{"path":"/Users/apple/xiaoMi/FE/xiaomi-mall-mobile/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/apple/xiaoMi/FE/xiaomi-mall-mobile/node_modules/sass-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/apple/xiaoMi/FE/xiaomi-mall-mobile/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/apple/xiaoMi/FE/xiaomi-mall-mobile/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci5hZGRyZXNzLW1hbmFnZXIgewogIHBvc2l0aW9uOiByZWxhdGl2ZTsKICBwYWRkaW5nLWJvdHRvbTogNTBweDsKCiAgLnVpLWNhcmQgewogICAgYm9yZGVyOiAxcHggc29saWQgI2Y2ZjZmNjsKICAgIG92ZXJmbG93OiBoaWRkZW47CiAgICBtYXJnaW46IDEwcHg7CiAgICBib3JkZXItcmFkaXVzOiAzcHg7CiAgICBiYWNrZ3JvdW5kOiAjZmZmOwogICAgdGV4dC1hbGlnbjogbGVmdDsKCiAgICAudWktbGlzdCB7CiAgICAgIHBhZGRpbmctdG9wOiAwOwogICAgICBwYWRkaW5nLWJvdHRvbTogMDsKICAgICAgcG9zaXRpb246IHJlbGF0aXZlOwoKICAgICAgLnVpLWxpc3QtaXRlbSB7CiAgICAgICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNmNmY2ZjY7CiAgICAgICAgZGlzcGxheTogYmxvY2s7CiAgICAgICAgZm9udC1zaXplOiAxNHB4OwogICAgICAgIG92ZXJmbG93OiBoaWRkZW47CiAgICAgICAgYmFja2dyb3VuZDogI2ZmZjsKICAgICAgICBwYWRkaW5nOiAxMHB4IDE1cHg7CgogICAgICAgICY6bGFzdC1jaGlsZCB7CiAgICAgICAgICBib3JkZXI6IDA7CiAgICAgICAgfQogICAgICB9CgogICAgICAuZWRpdCB7CiAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlOwogICAgICAgIHBhZGRpbmctcmlnaHQ6IDI1cHg7CiAgICAgICAgZm9udC1zaXplOiAxMnB4OwoKICAgICAgICAmOmFmdGVyIHsKICAgICAgICAgIGNvbnRlbnQ6ICIgIjsKICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgICAgICAgIHdpZHRoOiA3cHg7CiAgICAgICAgICBoZWlnaHQ6IDdweDsKICAgICAgICAgIHJpZ2h0OiA3cHg7CiAgICAgICAgICB0b3A6IDUwJTsKICAgICAgICAgIG1hcmdpbi10b3A6IDRweDsKICAgICAgICAgIGJvcmRlci1yaWdodDogMXB4IHNvbGlkICM5OTk7CiAgICAgICAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgIzk5OTsKICAgICAgICAgIHRyYW5zZm9ybTogcm90YXRlKC00NWRlZyk7CiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgLnVpLWNhcmQtaXRlbSB7CiAgICAgIHBhZGRpbmc6IDEwcHg7CgogICAgICBwIHsKICAgICAgICBsaW5lLWhlaWdodDogMThweDsKICAgICAgICBvdmVyZmxvdzogaGlkZGVuOwogICAgICAgIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzOwogICAgICAgIHdoaXRlLXNwYWNlOiBub3dyYXA7CiAgICAgIH0KICAgIH0KICB9CgogIC5pZGVudGl0eSB7CiAgICBhIHsKICAgICAgZmxvYXQ6IHJpZ2h0OwogICAgICBjb2xvcjogIzk5OTsKICAgIH0KCiAgICBlbSB7CiAgICBjb2xvcjogI2Y2MDsKICAgIGZvbnQtc2l6ZTogMTBweDsKICAgIGZvbnQtc3R5bGU6IG5vcm1hbDsKICAgIG1hcmdpbi1sZWZ0OiAzcHg7CiAgfQogIH0KCiAgLmNvbnNpZ25lZSB7CiAgICBtYXJnaW4tcmlnaHQ6IDMwcHg7CiAgICBjb2xvcjogI2Y2MDsKICB9Cn0KCi5hZGQgewogIHBvc2l0aW9uOiBmaXhlZDsKICBib3R0b206IDA7CiAgbGVmdDogMDsKICByaWdodDogMDsKICBiYWNrZ3JvdW5kOiAjZmZmOwogIHotaW5kZXg6IDE7CgogIHNwYW4gewogICAgZm9udC1zaXplOiAxNXB4OwogICAgY29sb3I6ICNmZmY7CiAgfQp9Cg=="},{"version":3,"sources":["/Users/apple/xiaoMi/FE/xiaomi-mall-mobile/src/views/MiAddress/MiAddressList.vue"],"names":[],"mappings":"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","file":"/Users/apple/xiaoMi/FE/xiaomi-mall-mobile/src/views/MiAddress/MiAddressList.vue","sourceRoot":"","sourcesContent":["<template>\n  <div class=\"app-shell app-shell-bottom-navigation\">\n    <div class=\"app-view-wrapper\">\n\n      <MiTitle title=\"收货地址\" :show-search-icon=\"false\"/>\n\n      <div class=\"container app-view app-view-with-header\">\n        <div class=\"page-wrap\">\n          <div class=\"address-manager\">\n            <div class=\"address-manager-list\">\n              <div\n                v-for=\"(list,index) in lists\"\n                :key=\"list.address_id\"\n                class=\"ui-card\"\n              >\n                <ul class=\"ui-card-item ui-list\">\n                  <li class=\"ui-list-item identity\">\n                    <a @click=\"remove(list, index)\">删除</a>\n                    <span class=\"consignee\">{{list.consignee}}</span>\n                    <span>{{list.tel}}</span>\n                    <em v-if=\"list.is_default\"> [默认]</em>\n                  </li>\n\n                  <router-link\n                    :to=\"{name: 'addressEdit', query: {address_id: list.address_id}}\"\n                    tag=\"li\"\n                    class=\"ui-list-item edit\">\n                    <p>{{list.province}} {{list.city}} {{list.district}} {{list.area}}</p>\n                    <p>{{list.address}}</p>\n                  </router-link>\n                </ul>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div class=\"add\">\n          <router-link\n            :to=\"{name: 'addressEdit'}\"\n            class=\"btn ui-button ui-button-active\"\n          >\n            <span>新建地址</span>\n          </router-link>\n        </div>\n      </div>\n    </div>\n\n    <!-- Normally use custom component -->\n    <!-- <MiDialog\n      v-model:value=\"showDialog\"\n      message=\"确定删除当前地址?\"\n      show-cancel-button\n      @confirm=\"confirmRemove\">\n    </MiDialog> -->\n  </div>\n</template>\n\n<script>\n// import { addressList, addressDelete } from '@/api/address.js'\nimport MiTitle from '@/components/MiTitle.vue'\nimport Dialog from '@/components/dialog'\nimport Address from '@/api/addressService'\n\nexport default {\n  components: {\n    MiTitle\n    // MiDialog\n  },\n  data() {\n    return {\n      lists: [],\n      showDialog: false,\n      removeCash: {}\n    }\n  },\n  beforeRouteEnter(to, from, next) {\n    if(from.name) {\n      // addressList().then(res => {\n      Address.list().then(res => {\n        if(res.status === 200) {\n          next(vm => vm.setLists(res))\n        }\n      })\n    } else {\n      next(vm => vm.getLists())\n    }\n  },\n  methods: {\n    getLists() {\n      Address.list().then(res => {\n        if(res.status === 200) {\n          this.setLists(res)\n        }\n      })\n    },\n    setLists(res) {\n      this.$store.commit('setViewLoading', false)\n      this.$NProgress.done()\n      this.lists = res.data\n    },\n    remove(list, index) {\n      // this.removeCash = {\n      //   id: list.address_id,\n      //   index\n      // }\n      // this.showDialog = true\n\n      // invoke function component\n      Dialog.confirm({\n        message: '确定删除当前地址?'\n      }).then((action) => {\n        console.log('dialog')\n        console.log(action)\n        Address.remove(list.address_id).then(res => {\n          if(res.status === 200) {\n            this.lists.splice(index, 1)\n          }\n        })\n      }).catch(err => {\n        console.log(err)\n      })\n    }\n    // confirmRemove() {\n    //   let { id, index } = this.removeCash\n    //   addressDelete({\n    //     address_id: id\n    //   }).then(res => {\n    //     if(res.status === 200) {\n    //       this.lists.splice(index, 1)\n    //     }\n    //   })\n    // }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.address-manager {\n  position: relative;\n  padding-bottom: 50px;\n\n  .ui-card {\n    border: 1px solid #f6f6f6;\n    overflow: hidden;\n    margin: 10px;\n    border-radius: 3px;\n    background: #fff;\n    text-align: left;\n\n    .ui-list {\n      padding-top: 0;\n      padding-bottom: 0;\n      position: relative;\n\n      .ui-list-item {\n        border-bottom: 1px solid #f6f6f6;\n        display: block;\n        font-size: 14px;\n        overflow: hidden;\n        background: #fff;\n        padding: 10px 15px;\n\n        &:last-child {\n          border: 0;\n        }\n      }\n\n      .edit {\n        position: relative;\n        padding-right: 25px;\n        font-size: 12px;\n\n        &:after {\n          content: \" \";\n          position: absolute;\n          width: 7px;\n          height: 7px;\n          right: 7px;\n          top: 50%;\n          margin-top: 4px;\n          border-right: 1px solid #999;\n          border-bottom: 1px solid #999;\n          transform: rotate(-45deg);\n        }\n      }\n    }\n\n    .ui-card-item {\n      padding: 10px;\n\n      p {\n        line-height: 18px;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n      }\n    }\n  }\n\n  .identity {\n    a {\n      float: right;\n      color: #999;\n    }\n\n    em {\n    color: #f60;\n    font-size: 10px;\n    font-style: normal;\n    margin-left: 3px;\n  }\n  }\n\n  .consignee {\n    margin-right: 30px;\n    color: #f60;\n  }\n}\n\n.add {\n  position: fixed;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  background: #fff;\n  z-index: 1;\n\n  span {\n    font-size: 15px;\n    color: #fff;\n  }\n}\n</style>\n"]}]}