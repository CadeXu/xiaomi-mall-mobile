{"remainingRequest":"/Users/apple/xiaomi-mall-mobile/web/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/apple/xiaomi-mall-mobile/web/src/components/MiAddressAll.vue?vue&type=style&index=0&id=3784e10e&lang=scss&scoped=true","dependencies":[{"path":"/Users/apple/xiaomi-mall-mobile/web/src/components/MiAddressAll.vue","mtime":1637845727772},{"path":"/Users/apple/xiaomi-mall-mobile/web/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/apple/xiaomi-mall-mobile/web/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js","mtime":499162500000},{"path":"/Users/apple/xiaomi-mall-mobile/web/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/apple/xiaomi-mall-mobile/web/node_modules/sass-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/apple/xiaomi-mall-mobile/web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/apple/xiaomi-mall-mobile/web/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci5wb3B1cC1yZWdpb25zLWJveCB7CiAgZm9udC1zaXplOiAxMnB4OwoKICAudWktcG9wIHsKICAgIHRvcDogYXV0bzsKICAgIGJvdHRvbTogMDsKICAgIGxlZnQ6IDA7CiAgICByaWdodDogMDsKICAgIGJhY2tncm91bmQ6ICNmZmY7CiAgICBwb3NpdGlvbjogZml4ZWQ7CiAgICBvdmVyZmxvdzogaGlkZGVuOwogICAgei1pbmRleDogMTAxOwogICAgdGV4dC1hbGlnbjogbGVmdDsKCiAgICAudWktcG9wLWNsb3NlIHsKICAgICAgZGlzcGxheTogYmxvY2s7CiAgICAgIHRvcDogMTBweDsKICAgICAgcmlnaHQ6IDA7CiAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgICAgei1pbmRleDogMTsKICAgIH0KCiAgICAudWktcG9wLWNsb3NlIGkgewogICAgICBjb2xvcjogI2E2YTZhNjsKICAgICAgZm9udC1zaXplOiAyMHB4OwogICAgICBmb250LXdlaWdodDogOTAwOwogICAgICBsaW5lLWhlaWdodDogNDBweDsKICAgIH0KICB9CgogIC51aS1wb3AtdGl0bGUgewogICAgZm9udC1zaXplOiAxNXB4OwogICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgbGluZS1oZWlnaHQ6IDUwcHg7CiAgfQoKICAucmVnaW9uLXRhYiB7CiAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2Y2ZjZmNjsKICAgIHBhZGRpbmc6IDAgMTBweDsKCiAgICBzcGFuIHsKICAgICAgcGFkZGluZzogOHB4OwogICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7CgogICAgICAmLmFjdGl2ZSB7CiAgICAgICAgYm9yZGVyLWJvdHRvbTogMnB4IHNvbGlkICNmNjA7CiAgICAgICAgY29sb3I6ICNmNjA7CiAgICAgIH0KICAgIH0KICB9CgogIC5yZWdpb24tbGlzdCB7CiAgICBoZWlnaHQ6IDIwMHB4OwogICAgb3ZlcmZsb3c6IGF1dG87CgogICAgZGwgewogICAgICBwYWRkaW5nOiA1cHggMTBweDsKICAgIH0KCiAgICBkZCB7CiAgICAgIGRpc3BsYXk6IGJsb2NrOwogICAgICBwYWRkaW5nOiA1cHggOHB4OwogICAgfQogIH0KfQoKLmJvdHRvbS11cC1lbnRlci1hY3RpdmUsIC5ib3R0b20tdXAtbGVhdmUtYWN0aXZlIHsKICB0cmFuc2l0aW9uOiBhbGwgLjVzOwp9Ci5ib3R0b20tdXAtZW50ZXIgewogIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgxMDAlKTsKfQouYm90dG9tLXVwLWVudGVyLXRvLCAuYm90dG9tLXVwLWxlYXZlIHsKICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoMCk7Cn0KLmJvdHRvbS11cC1sZWF2ZS10byB7CiAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDEwMCUpOwp9Cg=="},{"version":3,"sources":["/Users/apple/xiaomi-mall-mobile/web/src/components/MiAddressAll.vue"],"names":[],"mappings":";AA2KA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;EACjB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;;EAEf,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;IACN,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IACT,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IACT,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IACP,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IACR,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IAChB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;IACf,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAChB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IACZ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;;IAEhB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;MACZ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;MACd,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;MACT,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;MACR,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MAClB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IACZ;;IAEA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE;MACd,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACd,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;MACf,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;MAChB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IACnB;EACF;;EAEA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;IACZ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IACf,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAClB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;EACnB;;EAEA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;IACV,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAChC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC;;IAEf,CAAC,CAAC,CAAC,EAAE;MACH,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;MACZ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;;MAErB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;QACP,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;QAC7B,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;MACb;IACF;EACF;;EAEA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;IACX,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;IACb,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;;IAEd,CAAC,EAAE;MACD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IACnB;;IAEA,CAAC,EAAE;MACD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;MACd,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IAClB;EACF;AACF;;AAEA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;EAC/C,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;AACrB;AACA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;EACf,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAC7B;AACA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;EACpC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAC1B;AACA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;EAClB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAC7B","file":"/Users/apple/xiaomi-mall-mobile/web/src/components/MiAddressAll.vue","sourceRoot":"","sourcesContent":["<template>\n  <div class=\"popup-regions-box\">\n    <div v-if=\"value\" class=\"ui-mask\"></div>\n\n    <transition name=\"bottom-up\">\n      <div v-if=\"value\" class=\"ui-pop\">\n        <div class=\"ui-pop-close\" @click=\"close\">\n          <a>\n            <i class=\"image-icons iconfont icon-icon-close\"></i>\n          </a>\n        </div>\n\n        <div class=\"ui-pop-title\">选择地址</div>\n\n        <div class=\"ui-pop-conten\">\n          <div class=\"region-tab\">\n            <span\n              v-for=\"(item,index) in regions\"\n              :key=\"index\"\n              :class=\"{'active': index===curIndex}\"\n              @click=\"changeTab(index)\"\n            >\n              {{item.name}}\n            </span>\n          </div>\n\n          <div class=\"region-list\">\n            <dl class=\"rl1\">\n              <dd\n                v-for=\"item in curList\"\n                :key=\"item.id\"\n                @click=\"select(item)\"\n              >\n                {{item.name}}\n              </dd>\n            </dl>\n          </div>\n        </div>\n      </div>\n    </transition>\n  </div>\n</template>\n\n<script>\nimport addressAll from '@/mock/addressAll.js'\nimport { getAllAddress, addressRegion } from '@/api/address.js'\n\nexport default {\n  props: {\n    value: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data() {\n    return {\n      curIndex: 0,\n      regions: [\n        {\n          // Province\n          id: 0,\n          name: '请选择',\n          list: []\n        },\n        {\n          // city\n          id: 0,\n          name: '',\n          list: []\n        },\n        {\n          // district\n          id: 0,\n          name: '',\n          list: []\n        },\n        {\n          // area\n          id: 0,\n          name: '',\n          list: []\n        }\n      ],\n      curList: []\n    }\n  },\n  watch: {\n    curIndex(val) {\n      this.curList = this.regions[val].list\n    },\n    regions: {\n      deep: true,\n      handler(val) {\n        this.curList = val[this.curIndex].list\n      }\n    }\n  },\n  created() {\n    this.getAll()\n  },\n  methods: {\n    getAll() {\n      getAllAddress().then(res => {\n        if(res.status === 200) {\n          this.regions[this.curIndex].list = addressAll.data\n        }\n      })\n    },\n    select(item) {\n      this.regions[this.curIndex].name = item.name\n      this.regions[this.curIndex].id = item.id\n      if(this.curIndex < 2) {\n        // city\n        this.curIndex++\n        this.regions[this.curIndex].name = '请选择'\n        this.regions[this.curIndex].list = item.child\n      } else if(this.curIndex === 2) {\n        // region\n        this.curIndex++\n        this.regions[this.curIndex].name = '请选择'\n        addressRegion({\n          parent_id: item.id\n        }).then(res => {\n          // this.regions[this.curIndex].list = res.data\n          this.curList = res.data\n        })\n      } else {\n        // area\n        let region = this.regions\n        this.$emit('region', {\n          // transform to parent component\n          province: region[0].name,\n          province_id: region[0].id,\n          city: region[1].name,\n          city_id: region[1].id,\n          district: region[2].name,\n          district_id: region[2].id,\n          area: region[3].name,\n          area_id: region[3].id\n        })\n        this.close()\n      }\n    },\n    changeTab(index) {\n      this.curIndex = index\n      this.regions[index].name = '请选择'\n      for(let i = index + 1; i < 4; ++i) {\n        this.regions[i] = {\n          id: 0,\n          name: '',\n          list: []\n        }\n      }\n    },\n    close() {\n      this.curIndex = 0\n      this.regions[0].name = '请选择'\n      for(let i = 1; i < 4; i++) {\n        this.regions[i] = {\n          id: 0,\n          name: '',\n          list: []\n        }\n      }\n      this.$emit('update:value', false)\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.popup-regions-box {\n  font-size: 12px;\n\n  .ui-pop {\n    top: auto;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    background: #fff;\n    position: fixed;\n    overflow: hidden;\n    z-index: 101;\n    text-align: left;\n\n    .ui-pop-close {\n      display: block;\n      top: 10px;\n      right: 0;\n      position: absolute;\n      z-index: 1;\n    }\n\n    .ui-pop-close i {\n      color: #a6a6a6;\n      font-size: 20px;\n      font-weight: 900;\n      line-height: 40px;\n    }\n  }\n\n  .ui-pop-title {\n    font-size: 15px;\n    text-align: center;\n    line-height: 50px;\n  }\n\n  .region-tab {\n    border-bottom: 1px solid #f6f6f6;\n    padding: 0 10px;\n\n    span {\n      padding: 8px;\n      display: inline-block;\n\n      &.active {\n        border-bottom: 2px solid #f60;\n        color: #f60;\n      }\n    }\n  }\n\n  .region-list {\n    height: 200px;\n    overflow: auto;\n\n    dl {\n      padding: 5px 10px;\n    }\n\n    dd {\n      display: block;\n      padding: 5px 8px;\n    }\n  }\n}\n\n.bottom-up-enter-active, .bottom-up-leave-active {\n  transition: all .5s;\n}\n.bottom-up-enter {\n  transform: translateY(100%);\n}\n.bottom-up-enter-to, .bottom-up-leave {\n  transform: translateX(0);\n}\n.bottom-up-leave-to {\n  transform: translateY(100%);\n}\n</style>\n"]}]}