{"remainingRequest":"/Users/apple/xiaoMi/FE/xiaomi-mall-mobile/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/apple/xiaoMi/FE/xiaomi-mall-mobile/src/components/MiAddressAll.vue?vue&type=template&id=3784e10e&scoped=true","dependencies":[{"path":"/Users/apple/xiaoMi/FE/xiaomi-mall-mobile/src/components/MiAddressAll.vue","mtime":1637845727772},{"path":"/Users/apple/xiaoMi/FE/xiaomi-mall-mobile/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/apple/xiaoMi/FE/xiaomi-mall-mobile/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/apple/xiaoMi/FE/xiaomi-mall-mobile/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":499162500000},{"path":"/Users/apple/xiaoMi/FE/xiaomi-mall-mobile/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/apple/xiaoMi/FE/xiaomi-mall-mobile/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CiAgPGRpdiBjbGFzcz0icG9wdXAtcmVnaW9ucy1ib3giPgogICAgPGRpdiB2LWlmPSJ2YWx1ZSIgY2xhc3M9InVpLW1hc2siPjwvZGl2PgoKICAgIDx0cmFuc2l0aW9uIG5hbWU9ImJvdHRvbS11cCI+CiAgICAgIDxkaXYgdi1pZj0idmFsdWUiIGNsYXNzPSJ1aS1wb3AiPgogICAgICAgIDxkaXYgY2xhc3M9InVpLXBvcC1jbG9zZSIgQGNsaWNrPSJjbG9zZSI+CiAgICAgICAgICA8YT4KICAgICAgICAgICAgPGkgY2xhc3M9ImltYWdlLWljb25zIGljb25mb250IGljb24taWNvbi1jbG9zZSI+PC9pPgogICAgICAgICAgPC9hPgogICAgICAgIDwvZGl2PgoKICAgICAgICA8ZGl2IGNsYXNzPSJ1aS1wb3AtdGl0bGUiPumAieaLqeWcsOWdgDwvZGl2PgoKICAgICAgICA8ZGl2IGNsYXNzPSJ1aS1wb3AtY29udGVuIj4KICAgICAgICAgIDxkaXYgY2xhc3M9InJlZ2lvbi10YWIiPgogICAgICAgICAgICA8c3BhbgogICAgICAgICAgICAgIHYtZm9yPSIoaXRlbSxpbmRleCkgaW4gcmVnaW9ucyIKICAgICAgICAgICAgICA6a2V5PSJpbmRleCIKICAgICAgICAgICAgICA6Y2xhc3M9InsnYWN0aXZlJzogaW5kZXg9PT1jdXJJbmRleH0iCiAgICAgICAgICAgICAgQGNsaWNrPSJjaGFuZ2VUYWIoaW5kZXgpIgogICAgICAgICAgICA+CiAgICAgICAgICAgICAge3tpdGVtLm5hbWV9fQogICAgICAgICAgICA8L3NwYW4+CiAgICAgICAgICA8L2Rpdj4KCiAgICAgICAgICA8ZGl2IGNsYXNzPSJyZWdpb24tbGlzdCI+CiAgICAgICAgICAgIDxkbCBjbGFzcz0icmwxIj4KICAgICAgICAgICAgICA8ZGQKICAgICAgICAgICAgICAgIHYtZm9yPSJpdGVtIGluIGN1ckxpc3QiCiAgICAgICAgICAgICAgICA6a2V5PSJpdGVtLmlkIgogICAgICAgICAgICAgICAgQGNsaWNrPSJzZWxlY3QoaXRlbSkiCiAgICAgICAgICAgICAgPgogICAgICAgICAgICAgICAge3tpdGVtLm5hbWV9fQogICAgICAgICAgICAgIDwvZGQ+CiAgICAgICAgICAgIDwvZGw+CiAgICAgICAgICA8L2Rpdj4KICAgICAgICA8L2Rpdj4KICAgICAgPC9kaXY+CiAgICA8L3RyYW5zaXRpb24+CiAgPC9kaXY+Cg=="},{"version":3,"sources":["/Users/apple/xiaoMi/FE/xiaomi-mall-mobile/src/components/MiAddressAll.vue"],"names":[],"mappings":"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","file":"/Users/apple/xiaoMi/FE/xiaomi-mall-mobile/src/components/MiAddressAll.vue","sourceRoot":"","sourcesContent":["<template>\n  <div class=\"popup-regions-box\">\n    <div v-if=\"value\" class=\"ui-mask\"></div>\n\n    <transition name=\"bottom-up\">\n      <div v-if=\"value\" class=\"ui-pop\">\n        <div class=\"ui-pop-close\" @click=\"close\">\n          <a>\n            <i class=\"image-icons iconfont icon-icon-close\"></i>\n          </a>\n        </div>\n\n        <div class=\"ui-pop-title\">选择地址</div>\n\n        <div class=\"ui-pop-conten\">\n          <div class=\"region-tab\">\n            <span\n              v-for=\"(item,index) in regions\"\n              :key=\"index\"\n              :class=\"{'active': index===curIndex}\"\n              @click=\"changeTab(index)\"\n            >\n              {{item.name}}\n            </span>\n          </div>\n\n          <div class=\"region-list\">\n            <dl class=\"rl1\">\n              <dd\n                v-for=\"item in curList\"\n                :key=\"item.id\"\n                @click=\"select(item)\"\n              >\n                {{item.name}}\n              </dd>\n            </dl>\n          </div>\n        </div>\n      </div>\n    </transition>\n  </div>\n</template>\n\n<script>\nimport addressAll from '@/mock/addressAll.js'\nimport { getAllAddress, addressRegion } from '@/api/address.js'\n\nexport default {\n  props: {\n    value: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data() {\n    return {\n      curIndex: 0,\n      regions: [\n        {\n          // Province\n          id: 0,\n          name: '请选择',\n          list: []\n        },\n        {\n          // city\n          id: 0,\n          name: '',\n          list: []\n        },\n        {\n          // district\n          id: 0,\n          name: '',\n          list: []\n        },\n        {\n          // area\n          id: 0,\n          name: '',\n          list: []\n        }\n      ],\n      curList: []\n    }\n  },\n  watch: {\n    curIndex(val) {\n      this.curList = this.regions[val].list\n    },\n    regions: {\n      deep: true,\n      handler(val) {\n        this.curList = val[this.curIndex].list\n      }\n    }\n  },\n  created() {\n    this.getAll()\n  },\n  methods: {\n    getAll() {\n      getAllAddress().then(res => {\n        if(res.status === 200) {\n          this.regions[this.curIndex].list = addressAll.data\n        }\n      })\n    },\n    select(item) {\n      this.regions[this.curIndex].name = item.name\n      this.regions[this.curIndex].id = item.id\n      if(this.curIndex < 2) {\n        // city\n        this.curIndex++\n        this.regions[this.curIndex].name = '请选择'\n        this.regions[this.curIndex].list = item.child\n      } else if(this.curIndex === 2) {\n        // region\n        this.curIndex++\n        this.regions[this.curIndex].name = '请选择'\n        addressRegion({\n          parent_id: item.id\n        }).then(res => {\n          // this.regions[this.curIndex].list = res.data\n          this.curList = res.data\n        })\n      } else {\n        // area\n        let region = this.regions\n        this.$emit('region', {\n          // transform to parent component\n          province: region[0].name,\n          province_id: region[0].id,\n          city: region[1].name,\n          city_id: region[1].id,\n          district: region[2].name,\n          district_id: region[2].id,\n          area: region[3].name,\n          area_id: region[3].id\n        })\n        this.close()\n      }\n    },\n    changeTab(index) {\n      this.curIndex = index\n      this.regions[index].name = '请选择'\n      for(let i = index + 1; i < 4; ++i) {\n        this.regions[i] = {\n          id: 0,\n          name: '',\n          list: []\n        }\n      }\n    },\n    close() {\n      this.curIndex = 0\n      this.regions[0].name = '请选择'\n      for(let i = 1; i < 4; i++) {\n        this.regions[i] = {\n          id: 0,\n          name: '',\n          list: []\n        }\n      }\n      this.$emit('update:value', false)\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.popup-regions-box {\n  font-size: 12px;\n\n  .ui-pop {\n    top: auto;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    background: #fff;\n    position: fixed;\n    overflow: hidden;\n    z-index: 101;\n    text-align: left;\n\n    .ui-pop-close {\n      display: block;\n      top: 10px;\n      right: 0;\n      position: absolute;\n      z-index: 1;\n    }\n\n    .ui-pop-close i {\n      color: #a6a6a6;\n      font-size: 20px;\n      font-weight: 900;\n      line-height: 40px;\n    }\n  }\n\n  .ui-pop-title {\n    font-size: 15px;\n    text-align: center;\n    line-height: 50px;\n  }\n\n  .region-tab {\n    border-bottom: 1px solid #f6f6f6;\n    padding: 0 10px;\n\n    span {\n      padding: 8px;\n      display: inline-block;\n\n      &.active {\n        border-bottom: 2px solid #f60;\n        color: #f60;\n      }\n    }\n  }\n\n  .region-list {\n    height: 200px;\n    overflow: auto;\n\n    dl {\n      padding: 5px 10px;\n    }\n\n    dd {\n      display: block;\n      padding: 5px 8px;\n    }\n  }\n}\n\n.bottom-up-enter-active, .bottom-up-leave-active {\n  transition: all .5s;\n}\n.bottom-up-enter {\n  transform: translateY(100%);\n}\n.bottom-up-enter-to, .bottom-up-leave {\n  transform: translateX(0);\n}\n.bottom-up-leave-to {\n  transform: translateY(100%);\n}\n</style>\n"]}]}