{"remainingRequest":"/Volumes/HD/xiaoMi/FE/xiaomi-mall-mobile/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Volumes/HD/xiaoMi/FE/xiaomi-mall-mobile/src/views/MiOrder/MiOrderView.vue?vue&type=script&lang=js","dependencies":[{"path":"/Volumes/HD/xiaoMi/FE/xiaomi-mall-mobile/src/views/MiOrder/MiOrderView.vue","mtime":1637993846893},{"path":"/Volumes/HD/xiaoMi/FE/xiaomi-mall-mobile/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/HD/xiaoMi/FE/xiaomi-mall-mobile/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Volumes/HD/xiaoMi/FE/xiaomi-mall-mobile/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/HD/xiaoMi/FE/xiaomi-mall-mobile/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBPcmRlciBmcm9tICdAL2FwaS9vcmRlclNlcnZpY2UnCgpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGRhdGE6IG51bGwsCiAgICAgIGlkOiB0aGlzLiRyb3V0ZS5wYXJhbXMuaWQKICAgIH0KICB9LAogIGJlZm9yZVJvdXRlRW50ZXIodG8sIGZyb20sIG5leHQpIHsKICAgIGlmKGZyb20ubmFtZSkgewogICAgICBPcmRlci52aWV3KHsKICAgICAgICBpZDogdG8ucGFyYW1zLmlkCiAgICAgIH0pLnRoZW4ocmVzID0+IHsKICAgICAgICBuZXh0KHZtID0+IHZtLnNldERhdGEocmVzKSkKICAgICAgfSkKICAgIH0gZWxzZSB7CiAgICAgIG5leHQodm0gPT4gdm0uZ2V0RGF0YSgpKQogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgZ2V0RGF0YSgpIHsKICAgICAgT3JkZXIudmlldyh7CiAgICAgICAgaWQ6IHRoaXMuaWQKICAgICAgfSkudGhlbihyZXMgPT4gewogICAgICAgIHRoaXMuc2V0RGF0YShyZXMpCiAgICAgIH0pCiAgICB9LAogICAgc2V0RGF0YShyZXMpIHsKICAgICAgdGhpcy4kTlByb2dyZXNzLmRvbmUoKQogICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ3NldFZpZXdMb2FkaW5nJywgZmFsc2UpCiAgICAgIHRoaXMuZGF0YSA9IHJlcy5kYXRhCiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["/Volumes/HD/xiaoMi/FE/xiaomi-mall-mobile/src/views/MiOrder/MiOrderView.vue"],"names":[],"mappings":"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","file":"/Volumes/HD/xiaoMi/FE/xiaomi-mall-mobile/src/views/MiOrder/MiOrderView.vue","sourceRoot":"","sourcesContent":["<template>\n  <div class=\"app-shell app-shell-bottom-navigation\">\n    <MiTitle title=\"订单详情\" />\n    <div class=\"app-view-wrapper\" v-if=\"data\">\n      <div class=\"container app-view app-view-with-header\">\n        <div class=\"page-order-view page-wrap pov-with-footer\">\n          <div class=\"order-view-section\">\n            <div class=\"order-view-block order-view-num\">\n              <div class=\"ui-flex align-start justify-space-between\">\n                <div class=\"order-view-info-text\">\n                  <p>订单编号：{{data.order_id}}</p>\n                  <p>订单状态：{{data.order_status_info.info}}</p>\n                </div>\n                <div class=\"order-view-info-action\"></div>\n              </div>\n            </div>\n            <div class=\"order-view-block order-view-status\">\n              <ol>\n                <li\n                  v-for=\"trace in data.order_status_info.trace\"\n                  :key=\"trace.text\"\n                  :class=\"{done:trace.time}\">\n                  <span class=\"status\">{{trace.text}}</span>\n                  <span v-if=\"trace.time\" class=\"time\">{{trace.time}}</span>\n                </li>\n              </ol>\n            </div>\n            <div class=\"order-view-block order-view-product\">\n              <ol>\n                <li v-for=\"product in data.product\" :key=\"product.goods_id\">\n                  <img :src=\"product.image_url\">\n                  <div class=\"infor\">\n                    <div class=\"product-name\">{{product.product_name}}</div>\n                    <div class=\"product-price\" v-if=\"product.price>0\">\n                      售价： {{product.price}} x {{product.product_count}}\n                      <span>{{product.subtotal}}元</span>\n                    </div>\n                  </div>\n                </li>\n              </ol>\n            </div>\n          </div>\n          <div class=\"order-view-block order-view-text order-view-orderInfor\">\n            <p>下单日期：{{data.add_time}}</p>\n            <p class=\"address\">\n              收货地址：<span>{{data.province}}{{data.city}}{{data.district}}{{data.area}}{{data.address}}</span>\n            </p>\n            <p>收货人名：{{data.consignee}}  {{data.tel}}</p>\n            <p>收货时间：{{data.best_time}}</p>\n            <p>发票类型：{{data.invoice_type_name}}</p>\n            <p>发票抬头：{{data.invoice_title}}</p>\n          </div>\n          <div class=\"order-view-block order-view-download\">\n            <div class=\"title\">下载小米商城客户端后可以查看电子发票</div>\n            <a href=\"//m.mi.com/p?fallback=http%3A%2F%2Fs1.mi.com%2Fm%2Fappdownload%2F%3Fmfull_ad\" class=\"btn-download\">下载小米商城客户端</a>\n          </div>\n          <div class=\"order-view-block order-view-text order-view-orderInfor\">\n            <p>商品价格：{{data.original_price}} 元</p>\n            <p>已优惠：{{data.reduce_price}} 元</p>\n            <p>配送费用：{{data.shipment_expense}} 元</p>\n            <p>应付总额：{{data.goods_amount}} 元</p>\n          </div>\n        </div>\n      </div>\n      <div v-if=\"data.order_status==3\" class=\"order-view-block order-view-action box-flex\">\n        <div class=\"price-box\">\n          <span>应付总额：</span>\n          <br>\n          <strong>{{data.goods_amount}}</strong>\n          <span>元</span>\n        </div>\n        <a href=\"javascript:;\" class=\"btn disable black btn-gray\">取消订单</a>\n        <router-link :to=\"{name: 'orderCheckout'}\" class=\"btn\"> 立即支付</router-link>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Order from '@/api/orderService'\n\nexport default {\n  data() {\n    return {\n      data: null,\n      id: this.$route.params.id\n    }\n  },\n  beforeRouteEnter(to, from, next) {\n    if(from.name) {\n      Order.view({\n        id: to.params.id\n      }).then(res => {\n        next(vm => vm.setData(res))\n      })\n    } else {\n      next(vm => vm.getData())\n    }\n  },\n  methods: {\n    getData() {\n      Order.view({\n        id: this.id\n      }).then(res => {\n        this.setData(res)\n      })\n    },\n    setData(res) {\n      this.$NProgress.done()\n      this.$store.commit('setViewLoading', false)\n      this.data = res.data\n    }\n  }\n}\n</script>\n\n<style>\n.page-order-view {\n  text-align: left;\n  background: #f5f5f5;\n  font-size: 12px;\n  position: relative;\n}\n.page-order-view.pov-with-footer {\n  padding-bottom: 50px;\n}\n.page-order-view .order-view-num {\n  position: relative;\n}\n.page-order-view .order-view-block {\n  padding: 13px 18px;\n  margin-bottom: 10px;\n  background: #fff;\n}\n.page-order-view .order-view-num .order-view-info-text {\n  line-height: 1.5em;\n  flex: 1 0 auto;\n}\n.page-order-view .order-view-status {\n  border-bottom: 1px solid #f6f6f6;\n  margin-bottom: 0;\n}\n.page-order-view .order-view-status ol {\n  /* display: box; */\n  display: -webkit-box;\n}\n.page-order-view .order-view-status ol li {\n  box-flex: 1;\n  -webkit-box-flex: 1;\n  margin-right: 2px;\n  width: 100%;\n  list-style: none;\n}\n.page-order-view .order-view-status ol li span {\n  display: block;\n}\n.page-order-view .order-view-status ol li .status {\n  background: #ccc;\n  color: #fff;\n  text-align: center;\n  padding: 5px 0;\n  margin-bottom: 14px;\n}\n.page-order-view .order-view-status ol .done .status {\n  background: #0c6;\n}\n.page-order-view .order-view-status ol li .time {\n  font-size: 10px;\n  text-align: center;\n}\n.page-order-view .order-view-product li {\n  margin-bottom: 10px;\n  /* display: box; */\n  display: -webkit-box;\n  -webkit-box-align: center;\n  box-align: center;\n  box-pack: center;\n  -webkit-box-pack: center;\n}\n.page-order-view .order-view-product li img {\n  margin-right: 10px;\n  width: 50px;\n  height: 50px;\n}\n.page-order-view .order-view-product li .infor {\n  -webkit-box-flex: 1;\n  box-flex: 1;\n}\n.page-order-view .order-view-product li .infor .product-name {\n  margin-bottom: 5px;\n}\n.page-order-view .order-view-product li .infor .product-price span {\n  float: right;\n}\n.page-order-view .order-view-text p {\n  line-height: 1.8em;\n}\n.page-order-view .order-view-orderInfor .address {\n  /* display: box; */\n  display: -webkit-box;\n}\n.page-order-view .order-view-download {\n  padding: 10px;\n  background: #f5f5f5;\n  text-align: center;\n  padding-top: 0;\n}\n.page-order-view .order-view-download .title {\n  padding: 10px 0;\n  color: rgba(0,0,0,.6);\n}\n.page-order-view .order-view-download .btn-download {\n  display: block;\n  font-size: 12px;\n  background: #fff;\n  border: 1px solid #eee;\n  width: 200px;\n  height: 30px;\n  line-height: 30px;\n  margin: 0 auto;\n  color: #333;\n}\n.order-view-action {\n  background: #fff;\n  position: fixed;\n  bottom: 0;\n  right: 0;\n  left: 0;\n  margin-bottom: 0;\n  z-index: 1000;\n  box-shadow: 0 3px 14px 2px rgba(0,0,0,.12);\n}\n.order-view-action .price-box {\n  font-size: 13px;\n  color: #999;\n  width: 100%;\n  text-align: center;\n  padding-top: 8px;\n}\n.order-view-action .price-box strong {\n  font-size: 20px;\n  color: #ff5722;\n  margin-right: .2em;\n}\n.order-view-action .disable {\n  background: #f4f4f4;\n  border: 1px solid #f4f4f4;\n}\n.order-view-action .black {\n  color: #333;\n}\n</style>\n"]}]}